{
  "openapi": "3.0.1",
  "info": {
    "title": "Challenge, Support, and Intervention Plan API",
    "description": "API for retrieving and managing Challenge, Support, and Intervention Plan (CSIP) relating to a person.\n\n## Authentication\n\nThis API uses OAuth2 with JWTs. You will need to pass the JWT in the `Authorization` header using the `Bearer` scheme.\n\n## Authorisation\n\nThe API uses roles to control access to the endpoints. The roles required for each endpoint are documented in the endpoint descriptions.\n\n## Identifying the user\n\nThe majority of the endpoints in this API require the user to be identified via their username. This is to correctly populate the change history of CSIP records e.g. who created or updated a CSIP record and for auditing purposes. The username is required when the service is called directly by a user or when another service is acting on behalf of a user. The following methods for supplying the username are supported to cater for these scenarios:\n\n1. **Token claim** - The username can be passed in via a `user_name` or `username` claim in the JWT.\n2. **Username header** - The username can be passed in via a `Username` header in the request.\n\nThe username is taken in priority order from the `user_name` or `username` claim in the JWT if present, followed by the `Username` header if no claim is found.\n\n### 4XX response codes related to username:\n\n- A 400 Bad Request response will be returned if the username cannot be found via any of the above methods.\n- A 400 Bad Request response will be returned if the username cannot be found in the user management service.\n- A 403 Forbidden response will also be returned if the user identified by the username does not have access to the caseload associated with the person.",
    "contact": {
      "name": "HMPPS Digital Studio",
      "email": "feedback@digital.justice.gov.uk"
    },
    "version": "2024-08-12.1424.88378e1"
  },
  "servers": [
    {
      "url": "https://csip-api-dev.hmpps.service.justice.gov.uk",
      "description": "Generated server url"
    }
  ],
  "security": [
    {
      "bearer-jwt": [
        "read",
        "write"
      ]
    }
  ],
  "tags": [
    {
      "name": "1. CSIP Record Controller",
      "description": "Endpoints for CSIP Record operations"
    },
    {
      "name": "4. Investigations Controller",
      "description": "Endpoints for Investigations And Interviews operations"
    },
    {
      "name": "6. Plans Controller",
      "description": "Endpoints for Plans And Identified Needs operations"
    },
    {
      "name": "6. Reviews Controller",
      "description": "Endpoints for Reviews And Attendees operations"
    },
    {
      "name": "2. Referral Controller",
      "description": "Endpoints for Referral and Contributory Factor operations"
    },
    {
      "name": "7. Reference Data Controller",
      "description": "Endpoints for Reference Data operations"
    },
    {
      "name": "3. Safer Custody Screening Outcome Controller",
      "description": "Endpoints for Safer Custody Screening Outcome operations"
    },
    {
      "name": "5. Decision And Actions Controller",
      "description": "Endpoints for Decision And Actions operations"
    }
  ],
  "paths": {
    "/csip-records/{recordUuid}/referral/investigation": {
      "put": {
        "tags": [
          "4. Investigations Controller"
        ],
        "summary": "Add or update the investigation.",
        "description": "Create or update the investigation. Publishes person.csip.record.updated event with affected component of Investigation\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "upsertInvestigation",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertInvestigationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict. The CSIP referral already has an Investigation created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Investigation updated and/or interviews added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Investigation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Investigation and interviews added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Investigation"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "4. Investigations Controller"
        ],
        "summary": "Add investigation and any interviews to the referral.",
        "description": "Create the investigation and any interviews. Publishes person.csip.record.updated event with affected component Investigation and person.csip.interview.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "createInvestigation",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInvestigationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict. The CSIP referral already has an Investigation created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Investigation and interviews added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Investigation"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/decision-and-actions": {
      "put": {
        "tags": [
          "5. Decision And Actions Controller"
        ],
        "summary": "Add decision and actions to the referral.",
        "description": "Create or update the decision and actions. Publishes person.csip.record.updated event with affected component of DecisionAndActions\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "upsertDecision",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertDecisionAndActionsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Decision and actions updated for CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecisionAndActions"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Decision and actions added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecisionAndActions"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "The CSIP referral associated with this identifier already has a decision and actions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/plan": {
      "put": {
        "tags": [
          "6. Plans Controller"
        ],
        "summary": "Create or update the CSIP plan",
        "description": "Create or update the CSIP plan. Publishes person.csip.record.updated event with affected component of Plan\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "upsertPlan",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertPlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "CSIP plan created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "CSIP plan updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "6. Plans Controller"
        ],
        "summary": "Create the CSIP plan",
        "description": "Create the CSIP plan. Publishes person.csip.record.updated event with affected component of Plan and IdentifiedNeed\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "createPlan",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "CSIP plan created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prisoners/{prisonNumber}/csip-records": {
      "get": {
        "tags": [
          "1. CSIP Record Controller"
        ],
        "summary": "Retrieve and filter all CSIP records for a prisoner.",
        "description": "Returns the CSIP records for a prisoner. Supports log code filtering.\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "getCsipRecordsByPrisonNumber",
        "parameters": [
          {
            "name": "prisonNumber",
            "in": "path",
            "description": "Prison Number of the prisoner",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "logCode",
            "in": "query",
            "description": "Filter CSIP records that contain the search text in their Log Code. The search is case insensitive.",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "Search text"
          },
          {
            "name": "createdAtStart",
            "in": "query",
            "description": "Filter CSIP records that have a created timestamp at or after the supplied time.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2021-09-27T14:19:25"
          },
          {
            "name": "createdAtEnd",
            "in": "query",
            "description": "Filter CSIP records that have a created timestamp at or before the supplied time.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2021-09-27T14:19:25"
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "createdAt,DESC"
              ]
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "CSIP records found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageCsipRecord"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "1. CSIP Record Controller"
        ],
        "summary": "Create a CSIP record for a prisoner.",
        "description": "Create the CSIP record, referral and contributory factors. This starts the CSIP process. Publishes person.csip.record.created and person.csip.contributory-factor.created events\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createCsipRecord",
        "parameters": [
          {
            "name": "prisonNumber",
            "in": "path",
            "description": "Prison Number of the prisoner",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCsipRecordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "CSIP record created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CsipRecord"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/safer-custody-screening": {
      "post": {
        "tags": [
          "3. Safer Custody Screening Outcome Controller"
        ],
        "summary": "Add safer custody screening outcome to the referral.",
        "description": "Create the safer custody screening outcome. Publishes person.csip.record.updated event with saferCustodyScreeningOutcomeAffected = true\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createScreeningOutcome",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSaferCustodyScreeningOutcomeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Safer Custody Screening Outcome added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SaferCustodyScreeningOutcome"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict. The CSIP referral already has a Safer Custody Screening Outcome created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/investigation/interviews": {
      "post": {
        "tags": [
          "4. Investigations Controller"
        ],
        "summary": "Add an interview to the investigation.",
        "description": "Add an interview to the investigation. Publishes person.csip.interview.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createInterview",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInterviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Interview added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Interview"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/contributory-factors": {
      "post": {
        "tags": [
          "2. Referral Controller"
        ],
        "summary": "Add a contributory factor to the referral.",
        "description": "Add a contributory factor to the referral. Publishes person.csip.contributory-factor.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createContributoryFactor",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContributoryFactorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The CSIP referral associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "New contributory factor added to CSIP referral",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContributoryFactor"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/plan/reviews": {
      "post": {
        "tags": [
          "6. Reviews Controller"
        ],
        "summary": "Add a review of the plan and any attendees.",
        "description": "Create a review of the plan and any attendees. Publishes prisoner-csip.review-created and prisoner-csip.attendee-created events\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createReview",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateReviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Reviews and attendees added to CSIP plan",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Review"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The CSIP plan associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/plan/identified-needs": {
      "post": {
        "tags": [
          "6. Plans Controller"
        ],
        "summary": "Add an identified need to the plan.",
        "description": "Add an identified need to the plan. Publishes prisoner-csip.identified-need.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createIdentifiedNeed",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateIdentifiedNeedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The CSIP plan associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Identified need added to CSIP plan",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentifiedNeed"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/reviews/{reviewUuid}/attendees": {
      "post": {
        "tags": [
          "6. Reviews Controller"
        ],
        "summary": "Add an attendee to a review of the plan.",
        "description": "Add an attendee to a review of the plan. Publishes prisoner-csip.attendee-created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "createAttendee",
        "parameters": [
          {
            "name": "reviewUuid",
            "in": "path",
            "description": "Review unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAttendeeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Attendee added to review",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attendee"
                }
              }
            }
          },
          "404": {
            "description": "The review associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}": {
      "get": {
        "tags": [
          "1. CSIP Record Controller"
        ],
        "summary": "Get a CSIP record by its unique identifier",
        "description": "Returns the CSIP record with the matching identifier.\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "retrieveCsipRecord",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "CSIP record found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CsipRecord"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The CSIP record associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "1. CSIP Record Controller"
        ],
        "summary": "Delete a complete CSIP record.",
        "description": "Delete the whole of a CSIP record, including its referral and plan. Publishes prisoner-csip.csip-record-deleted event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "deleteCsipRecord",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "CSIP record deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unit"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "CSIP previously deleted or never existed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unit"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "1. CSIP Record Controller"
        ],
        "summary": "Update the log code for a CSIP record and/or optionally the referral.",
        "description": "Update the log code for a CSIP record. Publishes person.csip.record.updated event with affected component of `Record`\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId": "updateCsipRecord",
        "parameters": [
          {
            "name": "recordUuid",
            "in": "path",
            "description": "CSIP record unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCsipRecordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The CSIP record associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "CSIP record updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CsipRecord"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/referral/investigation/interviews/{interviewUuid}": {
      "delete": {
        "tags": [
          "4. Investigations Controller"
        ],
        "summary": "Remove an interview from the investigation.",
        "description": "Remove an interview from the investigation. Publishes prisoner-csip.interview-deleted event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "deleteInterview",
        "parameters": [
          {
            "name": "interviewUuid",
            "in": "path",
            "description": "Interview unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The interview associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "Interview deleted"
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "4. Investigations Controller"
        ],
        "summary": "Update an interview on the investigation.",
        "description": "Update an interview on the investigation. Publishes prisoner-csip.interview-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "updateInterview",
        "parameters": [
          {
            "name": "interviewUuid",
            "in": "path",
            "description": "Interview unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateInterviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The interview associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Interview updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Interview"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/referral/contributory-factors/{contributoryFactorUuid}": {
      "delete": {
        "tags": [
          "2. Referral Controller"
        ],
        "summary": "Remove a contributory factor on the referral.",
        "description": "Remove a contributory factor from the referral. Publishes prisoner-csip.contributory-factor-deleted event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "deleteContributoryFactor",
        "parameters": [
          {
            "name": "contributoryFactorUuid",
            "in": "path",
            "description": "Contributory Factor unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Contributory factor deleted"
          },
          "404": {
            "description": "The contributory factor associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "2. Referral Controller"
        ],
        "summary": "Update a contributory factor on the referral.",
        "description": "Update a contributory factor on the referral. Publishes prisoner-csip.contributory-factor-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "updateContributoryFactor",
        "parameters": [
          {
            "name": "contributoryFactorUuid",
            "in": "path",
            "description": "Contributory Factor unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContributoryFactorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The contributory factor associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Contributory factor updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContributoryFactor"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/reviews/{reviewUuid}": {
      "patch": {
        "tags": [
          "6. Reviews Controller"
        ],
        "summary": "Update a review of the plan.",
        "description": "Update a review of the plan only. Cannot update attendees with this endpoint. Publishes prisoner-csip.review-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "updateReview",
        "parameters": [
          {
            "name": "reviewUuid",
            "in": "path",
            "description": "Review unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateReviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Review updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Review"
                }
              }
            }
          },
          "404": {
            "description": "The review associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/reviews/attendees/{attendeeUuid}": {
      "delete": {
        "tags": [
          "6. Reviews Controller"
        ],
        "summary": "Remove an attendee from a review of the plan.",
        "description": "Remove an attendee from a review of the plan. Publishes prisoner-csip.attendee-deleted event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "deleteAttendee",
        "parameters": [
          {
            "name": "attendeeUuid",
            "in": "path",
            "description": "Attendee unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Attendee deleted"
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The attendee associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "6. Reviews Controller"
        ],
        "summary": "Update an attendee on a review of the plan.",
        "description": "Update an attendee on a review of the plan. Publishes prisoner-csip.attendee-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "updateAttendee",
        "parameters": [
          {
            "name": "attendeeUuid",
            "in": "path",
            "description": "Attendee unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAttendeeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Attendee updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attendee"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The attendee associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/identified-needs/{identifiedNeedUuid}": {
      "delete": {
        "tags": [
          "6. Plans Controller"
        ],
        "summary": "Remove an identified need from the plan.",
        "description": "Remove an identified need from the plan. Publishes prisoner-csip.identified-need-deleted event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "deleteIdentifiedNeed",
        "parameters": [
          {
            "name": "identifiedNeedUuid",
            "in": "path",
            "description": "Identified Need unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Identified need deleted"
          },
          "404": {
            "description": "The identified need associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "6. Plans Controller"
        ],
        "summary": "Update an identified need on the plan.",
        "description": "Update an identified need on the plan. Publishes prisoner-csip.identified-need-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "updateIdentifiedNeed",
        "parameters": [
          {
            "name": "identifiedNeedUuid",
            "in": "path",
            "description": "Identified Need unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateIdentifiedNeedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The identified need associated with this identifier was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Identified Need updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdentifiedNeed"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/reference-data/{domain}": {
      "get": {
        "tags": [
          "7. Reference Data Controller"
        ],
        "summary": "Retrieve all reference data fo a domain.",
        "description": "Get all reference data for a domain e.g. area-of-work\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "getReferenceData",
        "parameters": [
          {
            "name": "domain",
            "in": "path",
            "description": "Reference data domain.",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "area-of-work",
                "contributory-factor-type",
                "role",
                "incident-involvement",
                "incident-location",
                "incident-type",
                "interviewee-role",
                "outcome-type"
              ]
            }
          },
          {
            "name": "includeInactive",
            "in": "query",
            "description": "Include inactive reference data. Defaults to false",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The reference data associated with this domain was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Reference data found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReferenceData"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prisons/{prisonCode}/csip-records": {
      "get": {
        "tags": [
          "1. CSIP Record Controller"
        ],
        "summary": "Retrieve and filter all CSIP records for prisoners resident in the prison.",
        "description": "Returns the CSIP records for prisoners resident in the prison. Supports log code filtering.\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId": "getCsipRecordsByPrisonCode",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "Prison Code of the prison",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "logCode",
            "in": "query",
            "description": "Filter CSIP records that contain the search text in their Log Code. The search is case insensitive.",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "Search text"
          },
          {
            "name": "createdAtStart",
            "in": "query",
            "description": "Filter CSIP records that have a created timestamp at or after the supplied time.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2021-09-27T14:19:25"
          },
          {
            "name": "createdAtEnd",
            "in": "query",
            "description": "Filter CSIP records that have a created timestamp at or before the supplied time.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2021-09-27T14:19:25"
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "createdAt,DESC"
              ]
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "CSIP records found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageCsipRecord"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UpsertInvestigationRequest": {
        "type": "object",
        "properties": {
          "staffInvolved": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The names of the staff involved in the investigation."
          },
          "evidenceSecured": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Any evidence that was secured as part of the investigation."
          },
          "occurrenceReason": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The reasons why the incident occurred."
          },
          "personsUsualBehaviour": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The normal behaviour of the person in prison."
          },
          "personsTrigger": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "What triggers the person in prison has that could have motivated the incident."
          },
          "protectiveFactors": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence"
          }
        },
        "description": "The request body to update an investigation on the incident that motivated the CSIP referral."
      },
      "ErrorResponse": {
        "required": [
          "status"
        ],
        "type": "object",
        "properties": {
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "errorCode": {
            "type": "string"
          },
          "userMessage": {
            "type": "string"
          },
          "developerMessage": {
            "type": "string"
          },
          "moreInfo": {
            "type": "string"
          }
        }
      },
      "Interview": {
        "required": [
          "createdAt",
          "createdBy",
          "createdByDisplayName",
          "interviewDate",
          "interviewUuid",
          "interviewee",
          "intervieweeRole"
        ],
        "type": "object",
        "properties": {
          "interviewUuid": {
            "type": "string",
            "description": "The unique identifier assigned to the Interview",
            "format": "uuid",
            "example": "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "interviewee": {
            "type": "string",
            "description": "Name of the person being interviewed."
          },
          "interviewDate": {
            "type": "string",
            "description": "The date the interview took place.",
            "format": "date",
            "example": "2021-09-27"
          },
          "intervieweeRole": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "interviewText": {
            "type": "string",
            "description": "Information provided in interview."
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time the Interview was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The username of the user who created the Interview",
            "example": "USER1234"
          },
          "createdByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who created the Interview",
            "example": "Firstname Lastname"
          },
          "lastModifiedAt": {
            "type": "string",
            "description": "The date and time the Interview was last modified",
            "format": "date-time"
          },
          "lastModifiedBy": {
            "type": "string",
            "description": "The username of the user who last modified the Interview",
            "example": "USER1234"
          },
          "lastModifiedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who last modified the Interview",
            "example": "Firstname Lastname"
          }
        },
        "description": "An interview in relation to the investigation on the incident that motivated the CSIP referral"
      },
      "Investigation": {
        "required": [
          "interviews"
        ],
        "type": "object",
        "properties": {
          "staffInvolved": {
            "type": "string",
            "description": "The names of the staff involved in the investigation."
          },
          "evidenceSecured": {
            "type": "string",
            "description": "Any evidence that was secured as part of the investigation."
          },
          "occurrenceReason": {
            "type": "string",
            "description": "The reasons why the incident occurred."
          },
          "personsUsualBehaviour": {
            "type": "string",
            "description": "The normal behaviour of the person in prison."
          },
          "personsTrigger": {
            "type": "string",
            "description": "What triggers the person in prison has that could have motivated the incident."
          },
          "protectiveFactors": {
            "type": "string",
            "description": "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence"
          },
          "interviews": {
            "type": "array",
            "description": "The interviews in relation to the Investigation",
            "items": {
              "$ref": "#/components/schemas/Interview"
            }
          }
        },
        "description": "The investigation on the incident that motivated the CSIP referral"
      },
      "ReferenceData": {
        "required": [
          "code"
        ],
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The short code of a reference data"
          },
          "description": {
            "type": "string",
            "description": "The description of the reference data code"
          },
          "listSequence": {
            "type": "integer",
            "description": "The sequence number of the code. Used for ordering codes correctly in lists and drop downs. ",
            "format": "int32",
            "example": 3
          },
          "deactivatedAt": {
            "type": "string",
            "description": "The date and time the code was deactivated",
            "format": "date-time"
          }
        },
        "description": "A reference data code to categorise various aspects related to a CSIP record"
      },
      "UpsertDecisionAndActionsRequest": {
        "required": [
          "actions",
          "outcomeTypeCode"
        ],
        "type": "object",
        "properties": {
          "conclusion": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The conclusion of the referral and reasons for the outcome decision."
          },
          "outcomeTypeCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The outcome decision for the referral."
          },
          "signedOffByRoleCode": {
            "maxLength": 12,
            "minLength": 0,
            "type": "string",
            "description": "The role of the person making the outcome decision."
          },
          "recordedBy": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The username of the user who recorded the outcome decision."
          },
          "recordedByDisplayName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "The displayable name of the user who recorded the outcome decision."
          },
          "date": {
            "type": "string",
            "description": "The date the outcome decision was made.",
            "format": "date",
            "example": "2021-09-27"
          },
          "nextSteps": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The next steps that should be taken following the outcome decision."
          },
          "actionOther": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Any other actions that are recommended to be considered."
          },
          "actions": {
            "uniqueItems": true,
            "type": "array",
            "description": "A list of recommended actions.",
            "items": {
              "type": "string",
              "description": "A list of recommended actions.",
              "enum": [
                "OPEN_CSIP_ALERT",
                "NON_ASSOCIATIONS_UPDATED",
                "OBSERVATION_BOOK",
                "UNIT_OR_CELL_MOVE",
                "CSRA_OR_RSRA_REVIEW",
                "SERVICE_REFERRAL",
                "SIM_REFERRAL"
              ]
            }
          }
        },
        "description": "The request body to create a Decision and Actions for a CSIP referral"
      },
      "DecisionAndActions": {
        "required": [
          "actions",
          "outcome"
        ],
        "type": "object",
        "properties": {
          "conclusion": {
            "type": "string",
            "description": "The conclusion of the referral and reasons for the outcome decision."
          },
          "outcome": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "signedOffByRole": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "recordedBy": {
            "type": "string",
            "description": "The username of the user who recorded the outcome decision."
          },
          "recordedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who recorded the outcome decision."
          },
          "date": {
            "type": "string",
            "description": "The date the outcome decision was made.",
            "format": "date",
            "example": "2021-09-27"
          },
          "nextSteps": {
            "type": "string",
            "description": "The next steps that should be taken following the outcome decision."
          },
          "actions": {
            "uniqueItems": true,
            "type": "array",
            "description": "A list of recommended actions.",
            "items": {
              "type": "string",
              "description": "A list of recommended actions.",
              "enum": [
                "OPEN_CSIP_ALERT",
                "NON_ASSOCIATIONS_UPDATED",
                "OBSERVATION_BOOK",
                "UNIT_OR_CELL_MOVE",
                "CSRA_OR_RSRA_REVIEW",
                "SERVICE_REFERRAL",
                "SIM_REFERRAL"
              ]
            }
          },
          "actionOther": {
            "type": "string",
            "description": "Any other actions that are recommended to be considered."
          }
        },
        "description": "The Decision and Actions for the CSIP referral"
      },
      "UpsertPlanRequest": {
        "required": [
          "caseManager",
          "firstCaseReviewDate",
          "reasonForPlan"
        ],
        "type": "object",
        "properties": {
          "caseManager": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The case manager assigned to the CSIP plan."
          },
          "reasonForPlan": {
            "maxLength": 240,
            "minLength": 0,
            "type": "string",
            "description": "The reasons motivating the creation of a CSIP plan."
          },
          "firstCaseReviewDate": {
            "type": "string",
            "description": "The first date the CSIP plan should be reviewed.",
            "format": "date",
            "example": "2021-09-27"
          }
        },
        "description": "The request for creating a CSIP Plan for a CSIP record"
      },
      "Attendee": {
        "required": [
          "attendeeUuid",
          "createdAt",
          "createdBy",
          "createdByDisplayName"
        ],
        "type": "object",
        "properties": {
          "attendeeUuid": {
            "type": "string",
            "description": "The unique identifier assigned to the Attendee",
            "format": "uuid",
            "example": "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "name": {
            "type": "string",
            "description": "Name of review attendee/contributor."
          },
          "role": {
            "type": "string",
            "description": "Role of review attendee/contributor."
          },
          "isAttended": {
            "type": "boolean",
            "description": "If the person attended the review."
          },
          "contribution": {
            "type": "string",
            "description": "Description of attendee contribution."
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time the Attendee was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The username of the user who created the Attendee",
            "example": "USER1234"
          },
          "createdByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who created the Attendee",
            "example": "Firstname Lastname"
          },
          "lastModifiedAt": {
            "type": "string",
            "description": "The date and time the Attendee was last modified",
            "format": "date-time"
          },
          "lastModifiedBy": {
            "type": "string",
            "description": "The username of the user who last modified the Attendee",
            "example": "USER1234"
          },
          "lastModifiedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who last modified the Attendee",
            "example": "Firstname Lastname"
          }
        },
        "description": "An Attendee or Contributor to a Review of a CSIP Plan"
      },
      "IdentifiedNeed": {
        "required": [
          "createdAt",
          "createdBy",
          "createdByDisplayName",
          "createdDate",
          "identifiedNeed",
          "identifiedNeedUuid",
          "intervention",
          "responsiblePerson",
          "targetDate"
        ],
        "type": "object",
        "properties": {
          "identifiedNeedUuid": {
            "type": "string",
            "description": "The unique identifier assigned to the Contributory Factor",
            "format": "uuid",
            "example": "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "identifiedNeed": {
            "type": "string",
            "description": "Details of the need identified in the CSIP plan."
          },
          "responsiblePerson": {
            "type": "string",
            "description": "The name of the person who is responsible for taking action on the intervention."
          },
          "createdDate": {
            "type": "string",
            "description": "The date the need was identified.",
            "format": "date",
            "example": "2021-09-27"
          },
          "targetDate": {
            "type": "string",
            "description": "The target date the need should be progressed or resolved.",
            "format": "date",
            "example": "2021-09-27"
          },
          "closedDate": {
            "type": "string",
            "description": "The date the identified need was resolved or closed.",
            "format": "date",
            "example": "2021-09-27"
          },
          "intervention": {
            "type": "string",
            "description": "The planned intervention for the identified need."
          },
          "progression": {
            "type": "string",
            "description": "How the plan to address the identified need is progressing."
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time the Identified Need was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The username of the user who created the Identified Need",
            "example": "USER1234"
          },
          "createdByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who created the Identified Need",
            "example": "Firstname Lastname"
          },
          "lastModifiedAt": {
            "type": "string",
            "description": "The date and time the Identified Need was last modified",
            "format": "date-time"
          },
          "lastModifiedBy": {
            "type": "string",
            "description": "The username of the user who last modified the Identified Need",
            "example": "USER1234"
          },
          "lastModifiedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who last modified the Identified Need",
            "example": "Firstname Lastname"
          }
        },
        "description": "A need identified in the CSIP Plan"
      },
      "Plan": {
        "required": [
          "caseManager",
          "firstCaseReviewDate",
          "identifiedNeeds",
          "reasonForPlan",
          "reviews"
        ],
        "type": "object",
        "properties": {
          "caseManager": {
            "type": "string",
            "description": "The case manager assigned to the CSIP plan."
          },
          "reasonForPlan": {
            "type": "string",
            "description": "The reasons motivating the creation of a CSIP plan."
          },
          "firstCaseReviewDate": {
            "type": "string",
            "description": "The first date the CSIP plan should be reviewed.",
            "format": "date",
            "example": "2021-09-27"
          },
          "identifiedNeeds": {
            "type": "array",
            "description": "The needs identified in the CSIP plan.",
            "items": {
              "$ref": "#/components/schemas/IdentifiedNeed"
            }
          },
          "reviews": {
            "type": "array",
            "description": "Regular reviews of the CSIP Plan",
            "items": {
              "$ref": "#/components/schemas/Review"
            }
          }
        },
        "description": "The CSIP Plan of a CSIP record"
      },
      "Review": {
        "required": [
          "actions",
          "attendees",
          "createdAt",
          "createdBy",
          "createdByDisplayName",
          "recordedBy",
          "recordedByDisplayName",
          "reviewSequence",
          "reviewUuid"
        ],
        "type": "object",
        "properties": {
          "reviewUuid": {
            "type": "string",
            "description": "The unique identifier assigned to the Review",
            "format": "uuid",
            "example": "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "reviewSequence": {
            "type": "integer",
            "description": "The sequence number of the Review. Used for ordering reviews correctly in lists and/or drop downs. ",
            "format": "int32",
            "example": 3
          },
          "reviewDate": {
            "type": "string",
            "description": "The date of the review.",
            "format": "date",
            "example": "2021-09-27"
          },
          "recordedBy": {
            "type": "string",
            "description": "The username of the person who recorded the review."
          },
          "recordedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the person who recorded the review."
          },
          "nextReviewDate": {
            "type": "string",
            "description": "The date of the next review.",
            "format": "date",
            "example": "2021-09-27"
          },
          "csipClosedDate": {
            "type": "string",
            "description": "The date the CSIP plan was closed following a review outcome decision to close it.",
            "format": "date",
            "example": "2021-09-27"
          },
          "summary": {
            "type": "string",
            "description": "Additional information about the review."
          },
          "actions": {
            "uniqueItems": true,
            "type": "array",
            "description": "A list of actions following the review.",
            "items": {
              "type": "string",
              "description": "A list of actions following the review.",
              "enum": [
                "RESPONSIBLE_PEOPLE_INFORMED",
                "CSIP_UPDATED",
                "REMAIN_ON_CSIP",
                "CASE_NOTE",
                "CLOSE_CSIP"
              ]
            }
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time the Review was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The username of the user who created the Review",
            "example": "USER1234"
          },
          "createdByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who created the Review",
            "example": "Firstname Lastname"
          },
          "lastModifiedAt": {
            "type": "string",
            "description": "The date and time the Review was last modified",
            "format": "date-time"
          },
          "lastModifiedBy": {
            "type": "string",
            "description": "The username of the user who last modified the Review",
            "example": "USER1234"
          },
          "lastModifiedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who last modified the Review",
            "example": "Firstname Lastname"
          },
          "attendees": {
            "type": "array",
            "description": "The attendees/contributors to the review.",
            "items": {
              "$ref": "#/components/schemas/Attendee"
            }
          }
        },
        "description": "A regular review of a CSIP Plan"
      },
      "CreateContributoryFactorRequest": {
        "required": [
          "factorTypeCode"
        ],
        "type": "object",
        "properties": {
          "factorTypeCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of contributory factor to the incident or motivation for CSIP referral."
          },
          "comment": {
            "type": "string",
            "description": "Additional information about the contributory factor to the incident or motivation for CSIP referral."
          }
        },
        "description": "The request body to create a contributory factor to the incident that motivated the CSIP referral"
      },
      "CreateCsipRecordRequest": {
        "required": [
          "referral"
        ],
        "type": "object",
        "properties": {
          "logCode": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "User entered identifier for the CSIP record. Defaults to the prison code."
          },
          "referral": {
            "$ref": "#/components/schemas/CreateReferralRequest"
          }
        },
        "description": "The request body for creating a new CSIP Record for a person"
      },
      "CreateReferralRequest": {
        "required": [
          "contributoryFactors",
          "incidentDate",
          "incidentLocationCode",
          "incidentTypeCode",
          "isSaferCustodyTeamInformed",
          "refererAreaCode",
          "referredBy"
        ],
        "type": "object",
        "properties": {
          "incidentDate": {
            "type": "string",
            "description": "The date the incident that motivated the CSIP referral occurred",
            "format": "date",
            "example": "2021-09-27"
          },
          "incidentTime": {
            "pattern": "HH:mm:SS",
            "type": "string",
            "description": "The time the incident that motivated the CSIP referral occurred",
            "example": "14:19:25"
          },
          "incidentTypeCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of incident that motivated the CSIP referral."
          },
          "incidentLocationCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The location of incident that motivated the CSIP referral."
          },
          "referredBy": {
            "maxLength": 240,
            "minLength": 1,
            "type": "string",
            "description": "The person reporting the incident or creating the CSIP referral."
          },
          "refererAreaCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The area of work of the person reporting the incident or creating the CSIP referral."
          },
          "isProactiveReferral": {
            "type": "boolean",
            "description": "Was this referral proactive or preventative."
          },
          "isStaffAssaulted": {
            "type": "boolean",
            "description": "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string",
            "description": "Name or names of assaulted members of staff if any."
          },
          "incidentInvolvementCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of involvement the person had in the incident"
          },
          "descriptionOfConcern": {
            "type": "string",
            "description": "The reasons why there is cause for concern."
          },
          "knownReasons": {
            "type": "string",
            "description": "The reasons already known about the causes of the incident or motivation for CSIP referral."
          },
          "otherInformation": {
            "type": "string",
            "description": "Any other information about the incident or reasons for CSIP referral."
          },
          "isSaferCustodyTeamInformed": {
            "type": "string",
            "description": "Records whether the safer custody team been informed.",
            "enum": [
              "YES",
              "NO",
              "DO_NOT_KNOW"
            ]
          },
          "isReferralComplete": {
            "type": "boolean",
            "description": "Is the referral complete."
          },
          "completedDate": {
            "type": "string",
            "description": "The date the referral was completed.",
            "format": "date",
            "example": "2024-07-29"
          },
          "completedBy": {
            "maxLength": 32,
            "minLength": 0,
            "type": "string",
            "description": "The username of the person who completed the referral."
          },
          "completedByDisplayName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "The displayable name of the person who completed the referral."
          },
          "contributoryFactors": {
            "type": "array",
            "description": "Contributory factors to the incident that motivated the referral.",
            "items": {
              "$ref": "#/components/schemas/CreateContributoryFactorRequest"
            }
          }
        },
        "description": "The request body for creating a CSIP referral"
      },
      "ContributoryFactor": {
        "required": [
          "createdAt",
          "createdBy",
          "createdByDisplayName",
          "factorType",
          "factorUuid"
        ],
        "type": "object",
        "properties": {
          "factorUuid": {
            "type": "string",
            "description": "The unique identifier assigned to the Contributory Factor",
            "format": "uuid",
            "example": "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "factorType": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "comment": {
            "type": "string",
            "description": "Additional information about the contributory factor to the incident or motivation for CSIP referral."
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time the Contributory Factor was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The username of the user who created the Contributory Factor",
            "example": "USER1234"
          },
          "createdByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who created the Contributory Factor",
            "example": "Firstname Lastname"
          },
          "lastModifiedAt": {
            "type": "string",
            "description": "The date and time the Contributory Factor was last modified",
            "format": "date-time"
          },
          "lastModifiedBy": {
            "type": "string",
            "description": "The username of the user who last modified the Contributory Factor",
            "example": "USER1234"
          },
          "lastModifiedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who last modified the Contributory Factor",
            "example": "Firstname Lastname"
          }
        },
        "description": "The contributory factor to the incident that motivated the CSIP referral"
      },
      "CsipRecord": {
        "required": [
          "createdAt",
          "createdBy",
          "createdByDisplayName",
          "prisonNumber",
          "recordUuid",
          "referral",
          "status"
        ],
        "type": "object",
        "properties": {
          "recordUuid": {
            "type": "string",
            "description": "The unique identifier assigned to the CSIP Record",
            "format": "uuid",
            "example": "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "prisonNumber": {
            "type": "string",
            "description": "The prison number of the person the CSIP record is for."
          },
          "prisonCodeWhenRecorded": {
            "type": "string",
            "description": "The prison code where the person was resident at the time the CSIP record was created."
          },
          "logCode": {
            "type": "string",
            "description": "User entered identifier for the CSIP record. Defaults to the prison code."
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time the CSIP Record was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The username of the user who created the CSIP Record",
            "example": "USER1234"
          },
          "createdByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who created the CSIP Record",
            "example": "Firstname Lastname"
          },
          "lastModifiedAt": {
            "type": "string",
            "description": "The date and time the CSIP Record was last modified",
            "format": "date-time"
          },
          "lastModifiedBy": {
            "type": "string",
            "description": "The username of the user who last modified the CSIP Record",
            "example": "USER1234"
          },
          "lastModifiedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who last modified the CSIP Record",
            "example": "Firstname Lastname"
          },
          "referral": {
            "$ref": "#/components/schemas/Referral"
          },
          "plan": {
            "$ref": "#/components/schemas/Plan"
          },
          "status": {
            "type": "string",
            "description": "The current status of the CSIP record.",
            "enum": [
              "CSIP_CLOSED",
              "CSIP_OPEN",
              "AWAITING_DECISION",
              "ACCT_SUPPORT",
              "PLAN_PENDING",
              "INVESTIGATION_PENDING",
              "NO_FURTHER_ACTION",
              "SUPPORT_OUTSIDE_CSIP",
              "REFERRAL_SUBMITTED",
              "REFERRAL_PENDING",
              "UNKNOWN"
            ]
          }
        },
        "description": "A CSIP Record associated with a person"
      },
      "Referral": {
        "required": [
          "contributoryFactors",
          "incidentDate",
          "incidentLocation",
          "incidentType",
          "isSaferCustodyTeamInformed",
          "refererArea",
          "referredBy"
        ],
        "type": "object",
        "properties": {
          "incidentDate": {
            "type": "string",
            "description": "The date the incident that motivated the CSIP referral occurred",
            "format": "date",
            "example": "2021-09-27"
          },
          "incidentTime": {
            "pattern": "HH:mm:SS",
            "type": "string",
            "description": "The time the incident that motivated the CSIP referral occurred",
            "example": "14:19:25"
          },
          "incidentType": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "incidentLocation": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "referredBy": {
            "type": "string",
            "description": "The person reporting the incident or creating the CSIP referral."
          },
          "refererArea": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "isProactiveReferral": {
            "type": "boolean",
            "description": "Was this referral proactive or preventative."
          },
          "isStaffAssaulted": {
            "type": "boolean",
            "description": "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName": {
            "type": "string",
            "description": "Name or names of assaulted members of staff if any."
          },
          "incidentInvolvement": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "descriptionOfConcern": {
            "type": "string",
            "description": "The reasons why there is cause for concern."
          },
          "knownReasons": {
            "type": "string",
            "description": "The reasons already known about the causes of the incident or motivation for CSIP referral."
          },
          "otherInformation": {
            "type": "string",
            "description": "Any other information about the incident or reasons for CSIP referral."
          },
          "isSaferCustodyTeamInformed": {
            "type": "string",
            "description": "Records whether the safer custody team been informed.",
            "enum": [
              "YES",
              "NO",
              "DO_NOT_KNOW"
            ]
          },
          "isReferralComplete": {
            "type": "boolean",
            "description": "Is the referral complete."
          },
          "contributoryFactors": {
            "type": "array",
            "description": "Contributory factors to the incident that motivated the referral.",
            "items": {
              "$ref": "#/components/schemas/ContributoryFactor"
            }
          },
          "investigation": {
            "$ref": "#/components/schemas/Investigation"
          },
          "saferCustodyScreeningOutcome": {
            "$ref": "#/components/schemas/SaferCustodyScreeningOutcome"
          },
          "decisionAndActions": {
            "$ref": "#/components/schemas/DecisionAndActions"
          }
        },
        "description": "The referral of a CSIP record"
      },
      "SaferCustodyScreeningOutcome": {
        "required": [
          "date",
          "outcome",
          "reasonForDecision",
          "recordedBy",
          "recordedByDisplayName"
        ],
        "type": "object",
        "properties": {
          "outcome": {
            "$ref": "#/components/schemas/ReferenceData"
          },
          "recordedBy": {
            "type": "string",
            "description": "The username of the user who recorded the safer custody screening outcome."
          },
          "recordedByDisplayName": {
            "type": "string",
            "description": "The displayable name of the user who recorded the safer custody screening outcome."
          },
          "date": {
            "type": "string",
            "description": "The date of the safer custody screening outcome.",
            "format": "date",
            "example": "2021-09-27"
          },
          "reasonForDecision": {
            "type": "string",
            "description": "The reasons for the safer custody screening outcome decision."
          }
        },
        "description": "The Safer Custody Screening Outcome to the CSIP referral"
      },
      "CreateSaferCustodyScreeningOutcomeRequest": {
        "required": [
          "date",
          "outcomeTypeCode",
          "reasonForDecision",
          "recordedBy",
          "recordedByDisplayName"
        ],
        "type": "object",
        "properties": {
          "outcomeTypeCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of outcome of the safer custody screening."
          },
          "date": {
            "type": "string",
            "description": "The date of the safer custody screening outcome.",
            "format": "date",
            "example": "2021-09-27"
          },
          "reasonForDecision": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The reasons for the safer custody screening outcome decision."
          },
          "recordedBy": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The username of the user who recorded the screening outcome."
          },
          "recordedByDisplayName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "The displayable name of the user who recorded the screening outcome."
          }
        },
        "description": "The request body to create the Safer Custody Screening Outcome to the CSIP referral"
      },
      "CreateInterviewRequest": {
        "required": [
          "interviewDate",
          "interviewee",
          "intervieweeRoleCode"
        ],
        "type": "object",
        "properties": {
          "interviewee": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Name of the person being interviewed."
          },
          "interviewDate": {
            "type": "string",
            "description": "The date the interview took place.",
            "format": "date",
            "example": "2021-09-27"
          },
          "intervieweeRoleCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "What role the interviewee played in the incident or referral."
          },
          "interviewText": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Information provided in interview."
          }
        },
        "description": "The request body to create an interview"
      },
      "CreateInvestigationRequest": {
        "required": [
          "interviews"
        ],
        "type": "object",
        "properties": {
          "staffInvolved": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The names of the staff involved in the investigation."
          },
          "evidenceSecured": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Any evidence that was secured as part of the investigation."
          },
          "occurrenceReason": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The reasons why the incident occurred."
          },
          "personsUsualBehaviour": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The normal behaviour of the person in prison."
          },
          "personsTrigger": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "What triggers the person in prison has that could have motivated the incident."
          },
          "protectiveFactors": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence"
          },
          "interviews": {
            "type": "array",
            "description": "The interviews in relation to the investigation",
            "items": {
              "$ref": "#/components/schemas/CreateInterviewRequest"
            }
          }
        },
        "description": "The request body to create an investigation on the incident that motivated the CSIP referral."
      },
      "CreateIdentifiedNeedRequest": {
        "required": [
          "createdDate",
          "identifiedNeed",
          "intervention",
          "responsiblePerson",
          "targetDate"
        ],
        "type": "object",
        "properties": {
          "identifiedNeed": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string",
            "description": "Details of the need identified in the CSIP plan."
          },
          "responsiblePerson": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The name of the person who is responsible for taking action on the intervention."
          },
          "createdDate": {
            "type": "string",
            "description": "The date the need was identified.",
            "format": "date",
            "example": "2021-09-27"
          },
          "targetDate": {
            "type": "string",
            "description": "The target date the need should be progressed or resolved.",
            "format": "date",
            "example": "2021-09-27"
          },
          "closedDate": {
            "type": "string",
            "description": "The date the identified need was resolved or closed.",
            "format": "date",
            "example": "2021-09-27"
          },
          "intervention": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The planned intervention for the identified need."
          },
          "progression": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "How the plan to address the identified need is progressing."
          }
        },
        "description": "The request body to create an Identified Need in a CSIP Plan"
      },
      "CreatePlanRequest": {
        "required": [
          "caseManager",
          "firstCaseReviewDate",
          "identifiedNeeds",
          "reasonForPlan"
        ],
        "type": "object",
        "properties": {
          "caseManager": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The case manager assigned to the CSIP plan."
          },
          "reasonForPlan": {
            "maxLength": 240,
            "minLength": 0,
            "type": "string",
            "description": "The reasons motivating the creation of a CSIP plan."
          },
          "firstCaseReviewDate": {
            "type": "string",
            "description": "The first date the CSIP plan should be reviewed.",
            "format": "date",
            "example": "2021-09-27"
          },
          "identifiedNeeds": {
            "type": "array",
            "description": "The needs identified in the CSIP plan.",
            "items": {
              "$ref": "#/components/schemas/CreateIdentifiedNeedRequest"
            }
          }
        },
        "description": "The request for creating a CSIP Plan for a CSIP record"
      },
      "CreateAttendeeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Name of review attendee/contributor."
          },
          "role": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Role of review attendee/contributor."
          },
          "isAttended": {
            "type": "boolean",
            "description": "If the person attended the review."
          },
          "contribution": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Description of attendee contribution."
          }
        },
        "description": "The request body to create a Attendee/Contributor to the review of a CSIP Plan"
      },
      "CreateReviewRequest": {
        "required": [
          "recordedBy",
          "recordedByDisplayName"
        ],
        "type": "object",
        "properties": {
          "reviewDate": {
            "type": "string",
            "description": "The date of the review.",
            "format": "date",
            "example": "2021-09-27"
          },
          "recordedBy": {
            "maxLength": 32,
            "minLength": 0,
            "type": "string",
            "description": "The username of the person who recorded the review."
          },
          "recordedByDisplayName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "The displayable name of the person who recorded the review."
          },
          "nextReviewDate": {
            "type": "string",
            "description": "The date of the next review.",
            "format": "date",
            "example": "2021-09-27"
          },
          "csipClosedDate": {
            "type": "string",
            "description": "The date the CSIP plan was closed following a review outcome decision to close it.",
            "format": "date",
            "example": "2021-09-27"
          },
          "summary": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Additional information about the review."
          },
          "actions": {
            "uniqueItems": true,
            "type": "array",
            "description": "A list of actions following the review.",
            "items": {
              "type": "string",
              "description": "A list of actions following the review.",
              "enum": [
                "RESPONSIBLE_PEOPLE_INFORMED",
                "CSIP_UPDATED",
                "REMAIN_ON_CSIP",
                "CASE_NOTE",
                "CLOSE_CSIP"
              ]
            }
          },
          "attendees": {
            "type": "array",
            "description": "The attendees/contributors to the review.",
            "items": {
              "$ref": "#/components/schemas/CreateAttendeeRequest"
            }
          }
        },
        "description": "The request body to create a Review for a CSIP Plan"
      },
      "UpdateCsipRecordRequest": {
        "type": "object",
        "properties": {
          "logCode": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "User entered identifier for the CSIP record. Defaults to the prison code."
          },
          "referral": {
            "$ref": "#/components/schemas/UpdateReferral"
          }
        },
        "description": "The request body for updating a CSIP Record"
      },
      "UpdateReferral": {
        "required": [
          "incidentDate",
          "incidentLocationCode",
          "incidentTypeCode",
          "isSaferCustodyTeamInformed",
          "refererAreaCode",
          "referredBy"
        ],
        "type": "object",
        "properties": {
          "incidentDate": {
            "type": "string",
            "description": "The date the incident that motivated the CSIP referral occurred",
            "format": "date",
            "example": "2021-09-27"
          },
          "incidentTime": {
            "pattern": "HH:mm:SS",
            "type": "string",
            "description": "The time the incident that motivated the CSIP referral occurred",
            "example": "14:19:25"
          },
          "incidentTypeCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of incident that motivated the CSIP referral."
          },
          "incidentLocationCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The location of incident that motivated the CSIP referral."
          },
          "referredBy": {
            "maxLength": 240,
            "minLength": 1,
            "type": "string",
            "description": "The person reporting the incident or creating the CSIP referral."
          },
          "refererAreaCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The area of work of the person reporting the incident or creating the CSIP referral."
          },
          "isProactiveReferral": {
            "type": "boolean",
            "description": "Was this referral proactive or preventative."
          },
          "isStaffAssaulted": {
            "type": "boolean",
            "description": "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string",
            "description": "Name or names of assaulted members of staff if any."
          },
          "incidentInvolvementCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of involvement the person had in the incident"
          },
          "descriptionOfConcern": {
            "type": "string",
            "description": "The reasons why there is cause for concern."
          },
          "knownReasons": {
            "type": "string",
            "description": "The reasons already known about the causes of the incident or motivation for CSIP referral."
          },
          "otherInformation": {
            "type": "string",
            "description": "Any other information about the incident or reasons for CSIP referral."
          },
          "isSaferCustodyTeamInformed": {
            "type": "string",
            "description": "Records whether the safer custody team been informed.",
            "enum": [
              "YES",
              "NO",
              "DO_NOT_KNOW"
            ]
          },
          "isReferralComplete": {
            "type": "boolean",
            "description": "Is the referral complete."
          },
          "completedDate": {
            "type": "string",
            "description": "The date the referral was completed.",
            "format": "date",
            "example": "2024-07-29"
          },
          "completedBy": {
            "maxLength": 32,
            "minLength": 0,
            "type": "string",
            "description": "The username of the person who completed the referral."
          },
          "completedByDisplayName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "The displayable name of the person who completed the referral."
          }
        },
        "description": "The detail for updating a CSIP referral"
      },
      "UpdateInterviewRequest": {
        "required": [
          "interviewDate",
          "interviewee",
          "intervieweeRoleCode"
        ],
        "type": "object",
        "properties": {
          "interviewee": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Name of the person being interviewed."
          },
          "interviewDate": {
            "type": "string",
            "description": "The date the interview took place.",
            "format": "date",
            "example": "2021-09-27"
          },
          "intervieweeRoleCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "What role the interviewee played in the incident or referral."
          },
          "interviewText": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Information provided in interview."
          }
        },
        "description": "The request body to update an interview"
      },
      "UpdateContributoryFactorRequest": {
        "required": [
          "factorTypeCode"
        ],
        "type": "object",
        "properties": {
          "factorTypeCode": {
            "maxLength": 12,
            "minLength": 1,
            "type": "string",
            "description": "The type of contributory factor to the incident or motivation for CSIP referral."
          },
          "comment": {
            "type": "string",
            "description": "Additional information about the contributory factor to the incident or motivation for CSIP referral."
          }
        },
        "description": "The request body to update a contributory factor to the incident that motivated the CSIP referral"
      },
      "UpdateReviewRequest": {
        "required": [
          "recordedBy",
          "recordedByDisplayName"
        ],
        "type": "object",
        "properties": {
          "reviewDate": {
            "type": "string",
            "description": "The date of the review.",
            "format": "date",
            "example": "2021-09-27"
          },
          "recordedBy": {
            "maxLength": 32,
            "minLength": 0,
            "type": "string",
            "description": "The username of the person who recorded the review."
          },
          "recordedByDisplayName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "The displayable name of the person who recorded the review."
          },
          "nextReviewDate": {
            "type": "string",
            "description": "The date of the next review.",
            "format": "date",
            "example": "2021-09-27"
          },
          "isActionResponsiblePeopleInformed": {
            "type": "boolean",
            "description": "If an action following the review was to inform people responsible for the person in prison."
          },
          "isActionCsipUpdated": {
            "type": "boolean",
            "description": "If an action following the review was to update the CSIP plan."
          },
          "isActionRemainOnCsip": {
            "type": "boolean",
            "description": "If the outcome decision following the review was the person should remain on the CSIP plan."
          },
          "isActionCaseNote": {
            "type": "boolean",
            "description": "If an action following the review was to add a CSIP case note."
          },
          "isActionCloseCsip": {
            "type": "boolean",
            "description": "If the outcome decision following the review was closing the CSIP plan."
          },
          "csipClosedDate": {
            "type": "string",
            "description": "The date the CSIP plan was closed following a review outcome decision to close it.",
            "format": "date",
            "example": "2021-09-27"
          },
          "summary": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Additional information about the review."
          }
        },
        "description": "The request body to update a Review for a CSIP Plan"
      },
      "UpdateAttendeeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Name of review attendee/contributor."
          },
          "role": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Role of review attendee/contributor."
          },
          "isAttended": {
            "type": "boolean",
            "description": "If the person attended the review."
          },
          "contribution": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "Description of attendee contribution."
          }
        },
        "description": "The request body to update a Attendee/Contributor to the review of a CSIP Plan"
      },
      "UpdateIdentifiedNeedRequest": {
        "required": [
          "createdDate",
          "identifiedNeed",
          "intervention",
          "responsiblePerson",
          "targetDate"
        ],
        "type": "object",
        "properties": {
          "identifiedNeed": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string",
            "description": "Details of the need identified in the CSIP plan."
          },
          "responsiblePerson": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The name of the person who is responsible for taking action on the intervention."
          },
          "createdDate": {
            "type": "string",
            "description": "The date the need was identified.",
            "format": "date",
            "example": "2021-09-27"
          },
          "targetDate": {
            "type": "string",
            "description": "The target date the need should be progressed or resolved.",
            "format": "date",
            "example": "2021-09-27"
          },
          "closedDate": {
            "type": "string",
            "description": "The date the identified need was resolved or closed.",
            "format": "date",
            "example": "2021-09-27"
          },
          "intervention": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "The planned intervention for the identified need."
          },
          "progression": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "How the plan to address the identified need is progressing."
          }
        },
        "description": "The request body to update an Identified Need in a CSIP Plan"
      },
      "PageCsipRecord": {
        "type": "object",
        "properties": {
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CsipRecord"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SortObject"
            }
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "pageable": {
            "$ref": "#/components/schemas/PageableObject"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PageableObject": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "format": "int64"
          },
          "sort": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SortObject"
            }
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "paged": {
            "type": "boolean"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "unpaged": {
            "type": "boolean"
          }
        }
      },
      "SortObject": {
        "type": "object",
        "properties": {
          "direction": {
            "type": "string"
          },
          "nullHandling": {
            "type": "string"
          },
          "ascending": {
            "type": "boolean"
          },
          "property": {
            "type": "string"
          },
          "ignoreCase": {
            "type": "boolean"
          }
        }
      },
      "Unit": {
        "type": "object"
      }
    },
    "securitySchemes": {
      "bearer-jwt": {
        "type": "http",
        "name": "Authorization",
        "in": "header",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
