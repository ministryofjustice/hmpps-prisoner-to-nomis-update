{
  "openapi" : "3.1.0",
  "info" : {
    "title" : "Challenge, Support, and Intervention Plan API",
    "description" : "API for retrieving and managing Challenge, Support, and Intervention Plan (CSIP) relating to a person.\n\nThis API is only intended for use by the CSIP UI and the prisoner profile. Any other proposed consumers of this API should discuss the requirements first with the current maintainers of the CSIP service. See the developer portal for this information.\n\n## Authentication\n\nThis API uses OAuth2 with JWTs. You will need to pass the JWT in the `Authorization` header using the `Bearer` scheme.\n\n## Authorisation\n\nThe API uses roles to control access to the endpoints. The roles required for each endpoint are documented in the endpoint descriptions.\n\n## Identifying the user\n\nThe majority of the endpoints in this API require the user to be identified via their username. This is to correctly populate the change history of CSIP records e.g. who created or updated a CSIP record and for auditing purposes. The username is required when the service is called directly by a user or when another service is acting on behalf of a user. The method to supply the username is via the `subject` claim in the JWT.\n### 4XX response codes related to username:\n\n- A 400 Bad Request response will be returned if the username cannot be found in the user management service.\n",
    "contact" : {
      "name" : "HMPPS Digital Studio",
      "email" : "feedback@digital.justice.gov.uk"
    },
    "version" : "2025-03-10.3967.4dbafed"
  },
  "servers" : [ {
    "url" : "https://csip-api-dev.hmpps.service.justice.gov.uk",
    "description" : "Generated server url"
  } ],
  "security" : [ {
    "bearer-jwt" : [ "read", "write" ]
  } ],
  "tags" : [ {
    "name" : "9. Sync CSIP Record Controller",
    "description" : "Endpoint for sync operations"
  }, {
    "name" : "1. CSIP Record Controller",
    "description" : "Endpoints for CSIP Record operations"
  }, {
    "name" : "4. Investigations Controller",
    "description" : "Endpoints for Investigations And Interviews operations"
  }, {
    "name" : "6. Plans Controller",
    "description" : "Endpoints for Plans And Identified Needs operations"
  }, {
    "name" : "8. CSIP Admin Controller",
    "description" : "Endpoints for admin features such as search and reporting"
  }, {
    "name" : "7. Reference Data Controller",
    "description" : "Endpoints for Reference Data operations"
  }, {
    "name" : "6. Reviews Controller",
    "description" : "Endpoints for Reviews And Attendees operations"
  }, {
    "name" : "2. Referral Controller",
    "description" : "Endpoints for Referral and Contributory Factor operations"
  }, {
    "name" : "5. Decision And Actions Controller",
    "description" : "Endpoints for Decision And Actions operations"
  }, {
    "name" : "3. Safer Custody Screening Outcome Controller",
    "description" : "Endpoints for Safer Custody Screening Outcome operations"
  } ],
  "paths" : {
    "/sync/csip-records" : {
      "put" : {
        "tags" : [ "9. Sync CSIP Record Controller" ],
        "description" : "\n\nRequires one of the following roles:\n* ROLE_NOMIS_CSIP",
        "operationId" : "syncCsipRecord",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/SyncCsipRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "CSIP record merged",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SyncResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/sync/csip-records/move" : {
      "put" : {
        "tags" : [ "9. Sync CSIP Record Controller" ],
        "description" : "\n\nRequires one of the following roles:\n* ROLE_NOMIS_CSIP",
        "operationId" : "moveCsipRecord",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/MoveCsipRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "CSIP record moved"
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral" : {
      "put" : {
        "tags" : [ "2. Referral Controller" ],
        "summary" : "Merge the referral with contributory factors",
        "description" : "\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "mergeReferral",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/MergeReferralRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Referral updated and contributory factors merged",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CsipRecord"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/safer-custody-screening" : {
      "put" : {
        "tags" : [ "3. Safer Custody Screening Outcome Controller" ],
        "summary" : "Upsert a safer custody screening outcome to the referral.",
        "description" : "Create or update the safer custody screening outcome. Publishes person.csip.record.updated event with saferCustodyScreeningOutcomeAffected = true\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "upsertScreeningOutcome",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpsertSaferCustodyScreeningOutcomeRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Safer Custody Screening Outcome created on the CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SaferCustodyScreeningOutcome"
                }
              }
            }
          },
          "200" : {
            "description" : "Safer Custody Screening Outcome updated on the CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SaferCustodyScreeningOutcome"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/decision-and-actions" : {
      "put" : {
        "tags" : [ "5. Decision And Actions Controller" ],
        "summary" : "Add decision and actions to the referral.",
        "description" : "Create or update the decision and actions. Publishes person.csip.record.updated event with affected component of DecisionAndActions\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "upsertDecision",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpsertDecisionAndActionsRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Decision and actions added to CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DecisionAndActions"
                }
              }
            }
          },
          "200" : {
            "description" : "Decision and actions updated for CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DecisionAndActions"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409" : {
            "description" : "The CSIP referral associated with this identifier already has a decision and actions",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prisoners/{prisonNumber}/csip-records" : {
      "post" : {
        "tags" : [ "1. CSIP Record Controller" ],
        "summary" : "Create a CSIP record for a prisoner.",
        "description" : "Create the CSIP record, referral and contributory factors. This starts the CSIP process. Publishes person.csip.record.created and person.csip.contributory-factor.created events\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createCsipRecord",
        "parameters" : [ {
          "name" : "prisonNumber",
          "in" : "path",
          "description" : "Prison Number of the prisoner",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateCsipRecordRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "CSIP record created",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CsipRecord"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/investigation" : {
      "post" : {
        "tags" : [ "4. Investigations Controller" ],
        "summary" : "Add investigation and any interviews to the referral.",
        "description" : "Create the investigation and any interviews. Publishes person.csip.record.updated event with affected component Investigation and person.csip.interview.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createInvestigation",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateInvestigationRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Investigation and interviews added to CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Investigation"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409" : {
            "description" : "Conflict. The CSIP referral already has an Investigation created.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch" : {
        "tags" : [ "4. Investigations Controller" ],
        "summary" : "Add or update the investigation.",
        "description" : "Create or update the investigation. Publishes person.csip.record.updated event with affected component of Investigation\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateInvestigation",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateInvestigationRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Investigation and interviews added to CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Investigation"
                }
              }
            }
          },
          "200" : {
            "description" : "Investigation updated and/or interviews added to CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Investigation"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409" : {
            "description" : "Conflict. The CSIP referral already has an Investigation created.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/investigation/interviews" : {
      "post" : {
        "tags" : [ "4. Investigations Controller" ],
        "summary" : "Add an interview to the investigation.",
        "description" : "Add an interview to the investigation. Publishes person.csip.interview.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createInterview",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateInterviewRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Interview added to CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Interview"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/referral/contributory-factors" : {
      "post" : {
        "tags" : [ "2. Referral Controller" ],
        "summary" : "Add a contributory factor to the referral.",
        "description" : "Add a contributory factor to the referral. Publishes person.csip.contributory-factor.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createContributoryFactor",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateContributoryFactorRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "New contributory factor added to CSIP referral",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ContributoryFactor"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/plan" : {
      "post" : {
        "tags" : [ "6. Plans Controller" ],
        "summary" : "Create the CSIP plan",
        "description" : "Create the CSIP plan. Publishes person.csip.record.updated event with affected component of Plan and IdentifiedNeed\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createPlan",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreatePlanRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "CSIP plan created",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Plan"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch" : {
        "tags" : [ "6. Plans Controller" ],
        "summary" : "Create or update the CSIP plan",
        "description" : "Create or update the CSIP plan. Publishes person.csip.record.updated event with affected component of Plan\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updatePlan",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdatePlanRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "CSIP plan created",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Plan"
                }
              }
            }
          },
          "200" : {
            "description" : "CSIP plan updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Plan"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP referral associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/plan/reviews" : {
      "post" : {
        "tags" : [ "6. Reviews Controller" ],
        "summary" : "Add a review of the plan and any attendees.",
        "description" : "Create a review of the plan and any attendees. Publishes prisoner-csip.review-created and prisoner-csip.attendee-created events\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createReview",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateReviewRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Reviews and attendees added to CSIP plan",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Review"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP plan associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}/plan/identified-needs" : {
      "post" : {
        "tags" : [ "6. Plans Controller" ],
        "summary" : "Add an identified need to the plan.",
        "description" : "Add an identified need to the plan. Publishes prisoner-csip.identified-need.created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createIdentifiedNeed",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateIdentifiedNeedRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Identified need added to CSIP plan",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/IdentifiedNeed"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP plan associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/reviews/{reviewUuid}/attendees" : {
      "post" : {
        "tags" : [ "6. Reviews Controller" ],
        "summary" : "Add an attendee to a review of the plan.",
        "description" : "Add an attendee to a review of the plan. Publishes prisoner-csip.attendee-created event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "createAttendee",
        "parameters" : [ {
          "name" : "reviewUuid",
          "in" : "path",
          "description" : "Review unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CreateAttendeeRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Attendee added to review",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Attendee"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The review associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/{recordUuid}" : {
      "get" : {
        "tags" : [ "1. CSIP Record Controller" ],
        "summary" : "Get a CSIP record by its unique identifier",
        "description" : "Returns the CSIP record with the matching identifier.\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI\n* ROLE_NOMIS_CSIP",
        "operationId" : "retrieveCsipRecord",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "CSIP record found",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CsipRecord"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP record associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "1. CSIP Record Controller" ],
        "summary" : "Delete a complete CSIP record.",
        "description" : "Delete the whole of a CSIP record, including its referral and plan. Publishes prisoner-csip.csip-record-deleted event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "deleteCsipRecord",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "CSIP record deleted",
            "content" : { }
          },
          "200" : {
            "description" : "CSIP previously deleted or never existed",
            "content" : { }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch" : {
        "tags" : [ "1. CSIP Record Controller" ],
        "summary" : "Update the log code for a CSIP record and/or optionally the referral.",
        "description" : "Update the log code for a CSIP record. Publishes person.csip.record.updated event with affected component of `Record`\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateCsipRecord",
        "parameters" : [ {
          "name" : "recordUuid",
          "in" : "path",
          "description" : "CSIP record unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateCsipRecordRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "CSIP record updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CsipRecord"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The CSIP record associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/referral/investigation/interviews/{interviewUuid}" : {
      "patch" : {
        "tags" : [ "4. Investigations Controller" ],
        "summary" : "Update an interview on the investigation.",
        "description" : "Update an interview on the investigation. Publishes prisoner-csip.interview-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateInterview",
        "parameters" : [ {
          "name" : "interviewUuid",
          "in" : "path",
          "description" : "Interview unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateInterviewRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Interview updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Interview"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The interview associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/referral/contributory-factors/{contributoryFactorUuid}" : {
      "patch" : {
        "tags" : [ "2. Referral Controller" ],
        "summary" : "Update a contributory factor on the referral.",
        "description" : "Update a contributory factor on the referral. Publishes prisoner-csip.contributory-factor-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateContributoryFactor",
        "parameters" : [ {
          "name" : "contributoryFactorUuid",
          "in" : "path",
          "description" : "Contributory Factor unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateContributoryFactorRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Contributory factor updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ContributoryFactor"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The contributory factor associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/reviews/{reviewUuid}" : {
      "patch" : {
        "tags" : [ "6. Reviews Controller" ],
        "summary" : "Update a review of the plan.",
        "description" : "Update a review of the plan only. Cannot update attendees with this endpoint. Publishes prisoner-csip.review-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateReview",
        "parameters" : [ {
          "name" : "reviewUuid",
          "in" : "path",
          "description" : "Review unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateReviewRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Review updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Review"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The review associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/reviews/attendees/{attendeeUuid}" : {
      "patch" : {
        "tags" : [ "6. Reviews Controller" ],
        "summary" : "Update an attendee on a review of the plan.",
        "description" : "Update an attendee on a review of the plan. Publishes prisoner-csip.attendee-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateAttendee",
        "parameters" : [ {
          "name" : "attendeeUuid",
          "in" : "path",
          "description" : "Attendee unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateAttendeeRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Attendee updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Attendee"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The attendee associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/csip-records/plan/identified-needs/{identifiedNeedUuid}" : {
      "patch" : {
        "tags" : [ "6. Plans Controller" ],
        "summary" : "Update an identified need on the plan.",
        "description" : "Update an identified need on the plan. Publishes prisoner-csip.identified-need-updated event\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "updateIdentifiedNeed",
        "parameters" : [ {
          "name" : "identifiedNeedUuid",
          "in" : "path",
          "description" : "Identified Need unique identifier",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UpdateIdentifiedNeedRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Identified Need updated",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/IdentifiedNeed"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The identified need associated with this identifier was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/sync/csip-records/{prisonNumber}" : {
      "get" : {
        "tags" : [ "9. Sync CSIP Record Controller" ],
        "summary" : "Retrieve all CSIP records for a prisoner.",
        "description" : "\n\nRequires one of the following roles:\n* ROLE_NOMIS_CSIP",
        "operationId" : "getCsipRecordsByPrisonNumbers",
        "parameters" : [ {
          "name" : "prisonNumber",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful request - returns an empty list if no csip records are found",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/CsipRecord"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/search/csip-records" : {
      "get" : {
        "tags" : [ "8. CSIP Admin Controller" ],
        "summary" : "Search and filter all CSIP records.",
        "description" : "Returns the CSIP records matching search query and filters\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "findCsipRecords",
        "parameters" : [ {
          "name" : "prisonCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "query",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "status",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "CSIP_CLOSED", "CSIP_OPEN", "AWAITING_DECISION", "ACCT_SUPPORT", "PLAN_PENDING", "INVESTIGATION_PENDING", "NO_FURTHER_ACTION", "SUPPORT_OUTSIDE_CSIP", "REFERRAL_SUBMITTED", "REFERRAL_PENDING", "UNKNOWN" ]
          }
        }, {
          "name" : "prisonCodes",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            },
            "uniqueItems" : true
          }
        }, {
          "name" : "includeRestrictedPatients",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "boolean"
          }
        }, {
          "name" : "page",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "size",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "sort",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "CSIP records found",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CsipSearchResults"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/reference-data/{domain}" : {
      "get" : {
        "tags" : [ "7. Reference Data Controller" ],
        "summary" : "Retrieve all reference data fo a domain.",
        "description" : "Get all reference data for a domain e.g. area-of-work\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "getReferenceData",
        "parameters" : [ {
          "name" : "domain",
          "in" : "path",
          "description" : "Reference data domain.",
          "required" : true,
          "schema" : {
            "type" : "string",
            "enum" : [ "area-of-work", "contributory-factor-type", "decision-outcome-type", "role", "incident-involvement", "incident-location", "incident-type", "interviewee-role", "screening-outcome-type" ]
          }
        }, {
          "name" : "includeInactive",
          "in" : "query",
          "description" : "Include inactive reference data. Defaults to false",
          "required" : false,
          "schema" : {
            "type" : "boolean"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Reference data found",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/ReferenceData"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404" : {
            "description" : "The reference data associated with this domain was not found.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prisons/{prisonCode}/csip-records/overview" : {
      "get" : {
        "tags" : [ "8. CSIP Admin Controller" ],
        "summary" : "Retrieve an overview of CSIP records for a given prison",
        "description" : "\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "getCsipOverview",
        "parameters" : [ {
          "name" : "prisonCode",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful request returning CSIP overview",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CsipOverview"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prisoners/{prisonNumber}/csip-records/current" : {
      "get" : {
        "tags" : [ "1. CSIP Record Controller" ],
        "summary" : "Retrieve the current CSIP record for a prisoner.",
        "description" : "Returns a summary of the current CSIP record and counts of opened csip and referrals for the prisoner\n\nRequires one of the following roles:\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__RO\n* ROLE_CHALLENGE_SUPPORT_INTERVENTION_PLAN__CHALLENGE_SUPPORT_INTERVENTION_PLAN_UI",
        "operationId" : "getCurrentCsipRecord",
        "parameters" : [ {
          "name" : "prisonNumber",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "CSIP records found",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CurrentCsipDetail"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/sync/csip-records/{id}" : {
      "delete" : {
        "tags" : [ "9. Sync CSIP Record Controller" ],
        "description" : "\n\nRequires one of the following roles:\n* ROLE_NOMIS_CSIP",
        "operationId" : "deleteRecord",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string",
            "format" : "uuid"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/DefaultLegacyActioned"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "CSIP record merged"
          },
          "401" : {
            "description" : "Unauthorised, requires a valid Oauth2 token",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403" : {
            "description" : "Forbidden, requires an appropriate role",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204" : {
            "description" : "No Content"
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "PersonSummaryRequest" : {
        "type" : "object",
        "properties" : {
          "firstName" : {
            "type" : "string"
          },
          "lastName" : {
            "type" : "string"
          },
          "status" : {
            "type" : "string"
          },
          "restrictedPatient" : {
            "type" : "boolean"
          },
          "prisonCode" : {
            "type" : "string"
          },
          "cellLocation" : {
            "type" : "string"
          },
          "supportingPrisonCode" : {
            "type" : "string"
          }
        },
        "required" : [ "firstName", "lastName", "status" ]
      },
      "SyncAttendeeRequest" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Name of review attendee/contributor.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "role" : {
            "type" : "string",
            "description" : "Role of review attendee/contributor.",
            "maxLength" : 50,
            "minLength" : 0
          },
          "isAttended" : {
            "type" : "boolean",
            "description" : "If the person attended the review."
          },
          "contribution" : {
            "type" : "string",
            "description" : "Description of attendee contribution.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "legacyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "legacyId" ]
      },
      "SyncContributoryFactorRequest" : {
        "type" : "object",
        "properties" : {
          "factorTypeCode" : {
            "type" : "string",
            "description" : "The type of contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "comment" : {
            "type" : "string",
            "description" : "Additional information about the contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "legacyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "factorTypeCode", "legacyId" ]
      },
      "SyncCsipRequest" : {
        "type" : "object",
        "properties" : {
          "prisonNumber" : {
            "type" : "string",
            "maxLength" : 10,
            "minLength" : 0
          },
          "logCode" : {
            "type" : "string",
            "description" : "User entered identifier for the CSIP record. Defaults to the prison code.",
            "maxLength" : 10,
            "minLength" : 0
          },
          "referral" : {
            "$ref" : "#/components/schemas/SyncReferralRequest",
            "description" : "The referral that results in the creation of this CSIP record."
          },
          "plan" : {
            "$ref" : "#/components/schemas/SyncPlanRequest"
          },
          "prisonCodeWhenRecorded" : {
            "type" : "string"
          },
          "actionedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "actionedBy" : {
            "type" : "string"
          },
          "activeCaseloadId" : {
            "type" : "string"
          },
          "legacyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "personSummary" : {
            "$ref" : "#/components/schemas/PersonSummaryRequest"
          }
        },
        "required" : [ "actionedAt", "actionedBy", "legacyId", "prisonNumber" ]
      },
      "SyncDecisionAndActionsRequest" : {
        "type" : "object",
        "properties" : {
          "conclusion" : {
            "type" : "string",
            "description" : "The conclusion of the referral and reasons for the outcome decision.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "outcomeTypeCode" : {
            "type" : "string",
            "description" : "The outcome decision for the referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "signedOffByRoleCode" : {
            "type" : "string",
            "description" : "The role of the person making the outcome decision.",
            "maxLength" : 12,
            "minLength" : 0
          },
          "date" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the outcome decision was made.",
            "example" : "2021-09-27"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the user who recorded the outcome decision.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the user who recorded the outcome decision.",
            "maxLength" : 255,
            "minLength" : 0
          },
          "nextSteps" : {
            "type" : "string",
            "description" : "The next steps that should be taken following the outcome decision.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actionOther" : {
            "type" : "string",
            "description" : "Any other actions that are recommended to be considered.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of recommended actions.",
            "items" : {
              "type" : "string",
              "enum" : [ "OPEN_CSIP_ALERT", "NON_ASSOCIATIONS_UPDATED", "OBSERVATION_BOOK", "UNIT_OR_CELL_MOVE", "CSRA_OR_RSRA_REVIEW", "SERVICE_REFERRAL", "SIM_REFERRAL" ]
            },
            "uniqueItems" : true
          }
        },
        "required" : [ "actions" ]
      },
      "SyncInterviewRequest" : {
        "type" : "object",
        "properties" : {
          "interviewee" : {
            "type" : "string",
            "description" : "Name of the person being interviewed.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "interviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the interview took place.",
            "example" : "2021-09-27"
          },
          "intervieweeRoleCode" : {
            "type" : "string",
            "description" : "What role the interviewee played in the incident or referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "interviewText" : {
            "type" : "string",
            "description" : "Information provided in interview.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "legacyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "interviewDate", "interviewee", "intervieweeRoleCode", "legacyId" ]
      },
      "SyncInvestigationRequest" : {
        "type" : "object",
        "properties" : {
          "staffInvolved" : {
            "type" : "string",
            "description" : "The names of the staff involved in the investigation.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "evidenceSecured" : {
            "type" : "string",
            "description" : "Any evidence that was secured as part of the investigation.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "occurrenceReason" : {
            "type" : "string",
            "description" : "The reasons why the incident occurred.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "personsUsualBehaviour" : {
            "type" : "string",
            "description" : "The normal behaviour of the person in prison.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "personsTrigger" : {
            "type" : "string",
            "description" : "What triggers the person in prison has that could have motivated the incident.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "protectiveFactors" : {
            "type" : "string",
            "description" : "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "interviews" : {
            "type" : "array",
            "description" : "The interviews in relation to the investigation",
            "items" : {
              "$ref" : "#/components/schemas/SyncInterviewRequest"
            }
          }
        },
        "required" : [ "interviews" ]
      },
      "SyncNeedRequest" : {
        "type" : "object",
        "properties" : {
          "identifiedNeed" : {
            "type" : "string",
            "description" : "Details of the need identified in the CSIP plan.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "responsiblePerson" : {
            "type" : "string",
            "description" : "The name of the person who is responsible for taking action on the intervention.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "createdDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the need was identified.",
            "example" : "2021-09-27"
          },
          "targetDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The target date the need should be progressed or resolved.",
            "example" : "2021-09-27"
          },
          "closedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the identified need was resolved or closed.",
            "example" : "2021-09-27"
          },
          "intervention" : {
            "type" : "string",
            "description" : "The planned intervention for the identified need.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "progression" : {
            "type" : "string",
            "description" : "How the plan to address the identified need is progressing.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "legacyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "createdDate", "identifiedNeed", "intervention", "legacyId", "responsiblePerson", "targetDate" ]
      },
      "SyncPlanRequest" : {
        "type" : "object",
        "properties" : {
          "caseManager" : {
            "type" : "string",
            "description" : "The case manager assigned to the CSIP plan.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "reasonForPlan" : {
            "type" : "string",
            "description" : "The reasons motivating the creation of a CSIP plan.",
            "maxLength" : 240,
            "minLength" : 0
          },
          "firstCaseReviewDate" : {
            "type" : "string",
            "format" : "date"
          },
          "identifiedNeeds" : {
            "type" : "array",
            "description" : "The needs identified in the CSIP plan.",
            "items" : {
              "$ref" : "#/components/schemas/SyncNeedRequest"
            }
          },
          "reviews" : {
            "type" : "array",
            "description" : "The reviews of the CSIP plan.",
            "items" : {
              "$ref" : "#/components/schemas/SyncReviewRequest"
            }
          }
        },
        "required" : [ "identifiedNeeds", "reviews" ]
      },
      "SyncReferralRequest" : {
        "type" : "object",
        "properties" : {
          "referralDate" : {
            "type" : "string",
            "format" : "date"
          },
          "incidentDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the incident that motivated the CSIP referral occurred",
            "example" : "2021-09-27"
          },
          "incidentTime" : {
            "type" : "string",
            "format" : "partial-time",
            "description" : "The time the incident that motivated the CSIP referral occurred",
            "example" : "14:19:25"
          },
          "incidentTypeCode" : {
            "type" : "string",
            "description" : "The type of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "incidentLocationCode" : {
            "type" : "string",
            "description" : "The location of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "referredBy" : {
            "type" : "string",
            "description" : "The person reporting the incident or creating the CSIP referral.",
            "maxLength" : 240,
            "minLength" : 1
          },
          "refererAreaCode" : {
            "type" : "string",
            "description" : "The area of work of the person reporting the incident or creating the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "isProactiveReferral" : {
            "type" : "boolean",
            "description" : "Was this referral proactive or preventative."
          },
          "isStaffAssaulted" : {
            "type" : "boolean",
            "description" : "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName" : {
            "type" : "string",
            "description" : "Name or names of assaulted members of staff if any.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "incidentInvolvementCode" : {
            "type" : "string",
            "description" : "The type of involvement the person had in the incident",
            "maxLength" : 12,
            "minLength" : 1
          },
          "descriptionOfConcern" : {
            "type" : "string",
            "description" : "The reasons why there is cause for concern.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "knownReasons" : {
            "type" : "string",
            "description" : "The reasons already known about the causes of the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "otherInformation" : {
            "type" : "string",
            "description" : "Any other information about the incident or reasons for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "isSaferCustodyTeamInformed" : {
            "type" : "string",
            "description" : "Records whether the safer custody team been informed.",
            "enum" : [ "YES", "NO", "DO_NOT_KNOW" ]
          },
          "isReferralComplete" : {
            "type" : "boolean",
            "description" : "Is the referral complete."
          },
          "completedDate" : {
            "type" : "string",
            "format" : "date"
          },
          "completedBy" : {
            "type" : "string",
            "maxLength" : 64,
            "minLength" : 0
          },
          "completedByDisplayName" : {
            "type" : "string",
            "maxLength" : 255,
            "minLength" : 0
          },
          "contributoryFactors" : {
            "type" : "array",
            "description" : "Contributory factors to the incident that motivated the referral.",
            "items" : {
              "$ref" : "#/components/schemas/SyncContributoryFactorRequest"
            }
          },
          "saferCustodyScreeningOutcome" : {
            "$ref" : "#/components/schemas/SyncScreeningOutcomeRequest"
          },
          "investigation" : {
            "$ref" : "#/components/schemas/SyncInvestigationRequest"
          },
          "decisionAndActions" : {
            "$ref" : "#/components/schemas/SyncDecisionAndActionsRequest"
          }
        },
        "required" : [ "contributoryFactors", "incidentDate", "incidentLocationCode", "incidentTypeCode", "isSaferCustodyTeamInformed", "refererAreaCode", "referralDate", "referredBy" ]
      },
      "SyncReviewRequest" : {
        "type" : "object",
        "properties" : {
          "reviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the review.",
            "example" : "2021-09-27"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the person who recorded the review.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the person who recorded the review.",
            "maxLength" : 255,
            "minLength" : 0
          },
          "nextReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the next review.",
            "example" : "2021-09-27"
          },
          "csipClosedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the CSIP plan was closed following a review outcome decision to close it."
          },
          "summary" : {
            "type" : "string",
            "description" : "Additional information about the review.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of actions following the review.",
            "items" : {
              "type" : "string",
              "enum" : [ "RESPONSIBLE_PEOPLE_INFORMED", "CSIP_UPDATED", "REMAIN_ON_CSIP", "CASE_NOTE", "CLOSE_CSIP" ]
            },
            "uniqueItems" : true
          },
          "attendees" : {
            "type" : "array",
            "description" : "The attendees/contributors to the review.",
            "items" : {
              "$ref" : "#/components/schemas/SyncAttendeeRequest"
            }
          },
          "legacyId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "actions", "attendees", "legacyId", "recordedBy", "recordedByDisplayName", "reviewDate" ]
      },
      "SyncScreeningOutcomeRequest" : {
        "type" : "object",
        "properties" : {
          "outcomeTypeCode" : {
            "type" : "string",
            "description" : "The type of outcome of the safer custody screening.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "reasonForDecision" : {
            "type" : "string",
            "description" : "The reasons for the safer custody screening outcome decision.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "date" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the safer custody screening outcome.",
            "example" : "2021-09-27"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the user who recorded the screening outcome.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the user who recorded the screening outcome.",
            "maxLength" : 255,
            "minLength" : 0
          }
        },
        "required" : [ "date", "outcomeTypeCode", "recordedBy", "recordedByDisplayName" ]
      },
      "ErrorResponse" : {
        "type" : "object",
        "properties" : {
          "status" : {
            "type" : "integer",
            "format" : "int32"
          },
          "errorCode" : {
            "type" : "string"
          },
          "userMessage" : {
            "type" : "string"
          },
          "developerMessage" : {
            "type" : "string"
          },
          "moreInfo" : {
            "type" : "string"
          }
        },
        "required" : [ "status" ]
      },
      "ResponseMapping" : {
        "type" : "object",
        "properties" : {
          "component" : {
            "type" : "string",
            "enum" : [ "RECORD", "REFERRAL", "CONTRIBUTORY_FACTOR", "SAFER_CUSTODY_SCREENING_OUTCOME", "INVESTIGATION", "INTERVIEW", "DECISION_AND_ACTIONS", "PLAN", "IDENTIFIED_NEED", "REVIEW", "ATTENDEE" ]
          },
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "uuid" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "component", "id", "uuid" ]
      },
      "SyncResponse" : {
        "type" : "object",
        "properties" : {
          "mappings" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/ResponseMapping"
            },
            "uniqueItems" : true
          }
        },
        "required" : [ "mappings" ]
      },
      "MoveCsipRequest" : {
        "type" : "object",
        "properties" : {
          "fromPrisonNumber" : {
            "type" : "string"
          },
          "toPrisonNumber" : {
            "type" : "string"
          },
          "recordUuids" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "format" : "uuid"
            },
            "uniqueItems" : true
          }
        },
        "required" : [ "fromPrisonNumber", "recordUuids", "toPrisonNumber" ]
      },
      "MergeContributoryFactorRequest" : {
        "type" : "object",
        "description" : "The request body to update a contributory factor to the incident that motivated the CSIP referral",
        "properties" : {
          "factorTypeCode" : {
            "type" : "string",
            "description" : "The type of contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "comment" : {
            "type" : "string",
            "description" : "Additional information about the contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "factorUuid" : {
            "type" : "string",
            "format" : "uuid"
          }
        },
        "required" : [ "factorTypeCode" ]
      },
      "MergeReferralRequest" : {
        "type" : "object",
        "description" : "The detail for updating a CSIP referral",
        "properties" : {
          "incidentDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the incident that motivated the CSIP referral occurred",
            "example" : "2021-09-27"
          },
          "incidentTime" : {
            "type" : "string",
            "format" : "partial-time",
            "description" : "The time the incident that motivated the CSIP referral occurred",
            "example" : "14:19:25"
          },
          "incidentTypeCode" : {
            "type" : "string",
            "description" : "The type of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "incidentLocationCode" : {
            "type" : "string",
            "description" : "The location of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "referredBy" : {
            "type" : "string",
            "description" : "The person reporting the incident or creating the CSIP referral.",
            "maxLength" : 240,
            "minLength" : 1
          },
          "refererAreaCode" : {
            "type" : "string",
            "description" : "The area of work of the person reporting the incident or creating the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "isProactiveReferral" : {
            "type" : "boolean",
            "description" : "Was this referral proactive or preventative."
          },
          "isStaffAssaulted" : {
            "type" : "boolean",
            "description" : "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName" : {
            "type" : "string",
            "description" : "Name or names of assaulted members of staff if any.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "incidentInvolvementCode" : {
            "type" : "string",
            "description" : "The type of involvement the person had in the incident",
            "maxLength" : 12,
            "minLength" : 1
          },
          "descriptionOfConcern" : {
            "type" : "string",
            "description" : "The reasons why there is cause for concern.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "knownReasons" : {
            "type" : "string",
            "description" : "The reasons already known about the causes of the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "otherInformation" : {
            "type" : "string",
            "description" : "Any other information about the incident or reasons for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "isSaferCustodyTeamInformed" : {
            "type" : "string",
            "description" : "Records whether the safer custody team been informed.",
            "enum" : [ "YES", "NO", "DO_NOT_KNOW" ]
          },
          "isReferralComplete" : {
            "type" : "boolean",
            "description" : "Is the referral complete."
          },
          "contributoryFactors" : {
            "type" : "array",
            "description" : "Contributory factors to the incident that motivated the referral.",
            "items" : {
              "$ref" : "#/components/schemas/MergeContributoryFactorRequest"
            }
          }
        },
        "required" : [ "contributoryFactors", "incidentDate", "incidentLocationCode", "incidentTypeCode", "isSaferCustodyTeamInformed", "refererAreaCode", "referredBy" ]
      },
      "Attendee" : {
        "type" : "object",
        "description" : "An Attendee or Contributor to a Review of a CSIP Plan",
        "properties" : {
          "attendeeUuid" : {
            "type" : "string",
            "format" : "uuid",
            "description" : "The unique identifier assigned to the Attendee",
            "example" : "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of review attendee/contributor."
          },
          "role" : {
            "type" : "string",
            "description" : "Role of review attendee/contributor."
          },
          "isAttended" : {
            "type" : "boolean",
            "description" : "If the person attended the review."
          },
          "contribution" : {
            "type" : "string",
            "description" : "Description of attendee contribution."
          }
        },
        "required" : [ "attendeeUuid" ]
      },
      "ContributoryFactor" : {
        "type" : "object",
        "description" : "The contributory factor to the incident that motivated the CSIP referral",
        "properties" : {
          "factorUuid" : {
            "type" : "string",
            "format" : "uuid",
            "description" : "The unique identifier assigned to the Contributory Factor",
            "example" : "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "factorType" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The type of contributory factor to the incident or motivation for CSIP referral."
          },
          "comment" : {
            "type" : "string",
            "description" : "Additional information about the contributory factor to the incident or motivation for CSIP referral."
          }
        },
        "required" : [ "factorType", "factorUuid" ]
      },
      "CsipRecord" : {
        "type" : "object",
        "description" : "A CSIP Record associated with a person",
        "properties" : {
          "recordUuid" : {
            "type" : "string",
            "format" : "uuid",
            "description" : "The unique identifier assigned to the CSIP Record",
            "example" : "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "prisonNumber" : {
            "type" : "string",
            "description" : "The prison number of the person the CSIP record is for."
          },
          "prisonCodeWhenRecorded" : {
            "type" : "string",
            "description" : "The prison code where the person was resident at the time the CSIP record was created."
          },
          "logCode" : {
            "type" : "string",
            "description" : "User entered identifier for the CSIP record. Defaults to the prison code."
          },
          "referral" : {
            "$ref" : "#/components/schemas/Referral",
            "description" : "The referral that results in the creation of this CSIP record."
          },
          "plan" : {
            "$ref" : "#/components/schemas/Plan",
            "description" : "The CSIP Plan of this CSIP record."
          },
          "status" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The current status of the CSIP record."
          }
        },
        "required" : [ "prisonNumber", "recordUuid", "referral", "status" ]
      },
      "DecisionAndActions" : {
        "type" : "object",
        "description" : "The Decision and Actions for the CSIP referral",
        "properties" : {
          "conclusion" : {
            "type" : "string",
            "description" : "The conclusion of the referral and reasons for the outcome decision."
          },
          "outcome" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The outcome decision for the referral."
          },
          "signedOffByRole" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The role of the person making the outcome decision."
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the user who recorded the outcome decision."
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the user who recorded the outcome decision."
          },
          "date" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the outcome decision was made.",
            "example" : "2021-09-27"
          },
          "nextSteps" : {
            "type" : "string",
            "description" : "The next steps that should be taken following the outcome decision."
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of recommended actions.",
            "items" : {
              "type" : "string",
              "enum" : [ "OPEN_CSIP_ALERT", "NON_ASSOCIATIONS_UPDATED", "OBSERVATION_BOOK", "UNIT_OR_CELL_MOVE", "CSRA_OR_RSRA_REVIEW", "SERVICE_REFERRAL", "SIM_REFERRAL" ]
            },
            "uniqueItems" : true
          },
          "actionOther" : {
            "type" : "string",
            "description" : "Any other actions that are recommended to be considered."
          }
        },
        "required" : [ "actions" ]
      },
      "IdentifiedNeed" : {
        "type" : "object",
        "description" : "A need identified in the CSIP Plan",
        "properties" : {
          "identifiedNeedUuid" : {
            "type" : "string",
            "format" : "uuid",
            "description" : "The unique identifier assigned to the Contributory Factor",
            "example" : "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "identifiedNeed" : {
            "type" : "string",
            "description" : "Details of the need identified in the CSIP plan."
          },
          "responsiblePerson" : {
            "type" : "string",
            "description" : "The name of the person who is responsible for taking action on the intervention."
          },
          "createdDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the need was identified.",
            "example" : "2021-09-27"
          },
          "targetDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The target date the need should be progressed or resolved.",
            "example" : "2021-09-27"
          },
          "closedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the identified need was resolved or closed.",
            "example" : "2021-09-27"
          },
          "intervention" : {
            "type" : "string",
            "description" : "The planned intervention for the identified need."
          },
          "progression" : {
            "type" : "string",
            "description" : "How the plan to address the identified need is progressing."
          }
        },
        "required" : [ "createdDate", "identifiedNeed", "identifiedNeedUuid", "intervention", "responsiblePerson", "targetDate" ]
      },
      "Interview" : {
        "type" : "object",
        "description" : "An interview in relation to the investigation on the incident that motivated the CSIP referral",
        "properties" : {
          "interviewUuid" : {
            "type" : "string",
            "format" : "uuid",
            "description" : "The unique identifier assigned to the Interview",
            "example" : "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "interviewee" : {
            "type" : "string",
            "description" : "Name of the person being interviewed."
          },
          "interviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the interview took place.",
            "example" : "2021-09-27"
          },
          "intervieweeRole" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "What role the interviewee played in the incident or referral."
          },
          "interviewText" : {
            "type" : "string",
            "description" : "Information provided in interview."
          }
        },
        "required" : [ "interviewDate", "interviewUuid", "interviewee", "intervieweeRole" ]
      },
      "Investigation" : {
        "type" : "object",
        "description" : "The investigation on the incident that motivated the CSIP referral",
        "properties" : {
          "staffInvolved" : {
            "type" : "string",
            "description" : "The names of the staff involved in the investigation."
          },
          "evidenceSecured" : {
            "type" : "string",
            "description" : "Any evidence that was secured as part of the investigation."
          },
          "occurrenceReason" : {
            "type" : "string",
            "description" : "The reasons why the incident occurred."
          },
          "personsUsualBehaviour" : {
            "type" : "string",
            "description" : "The normal behaviour of the person in prison."
          },
          "personsTrigger" : {
            "type" : "string",
            "description" : "What triggers the person in prison has that could have motivated the incident."
          },
          "protectiveFactors" : {
            "type" : "string",
            "description" : "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "Username of the user that created the investigation"
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "Display name of the user that created the investigation"
          },
          "interviews" : {
            "type" : "array",
            "description" : "The interviews in relation to the Investigation",
            "items" : {
              "$ref" : "#/components/schemas/Interview"
            }
          }
        },
        "required" : [ "interviews" ]
      },
      "Plan" : {
        "type" : "object",
        "description" : "The CSIP Plan of a CSIP record",
        "properties" : {
          "caseManager" : {
            "type" : "string",
            "description" : "The case manager assigned to the CSIP plan."
          },
          "reasonForPlan" : {
            "type" : "string",
            "description" : "The reasons motivating the creation of a CSIP plan."
          },
          "firstCaseReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The first date the CSIP plan should be reviewed.",
            "example" : "2021-09-27"
          },
          "nextCaseReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The next date the CSIP plan should be reviewed.",
            "example" : "2021-09-27"
          },
          "identifiedNeeds" : {
            "type" : "array",
            "description" : "The needs identified in the CSIP plan.",
            "items" : {
              "$ref" : "#/components/schemas/IdentifiedNeed"
            }
          },
          "reviews" : {
            "type" : "array",
            "description" : "Regular reviews of the CSIP Plan",
            "items" : {
              "$ref" : "#/components/schemas/Review"
            }
          }
        },
        "required" : [ "identifiedNeeds", "reviews" ]
      },
      "ReferenceData" : {
        "type" : "object",
        "description" : "A reference data code to categorise various aspects related to a CSIP record",
        "properties" : {
          "code" : {
            "type" : "string",
            "description" : "The short code of a reference data"
          },
          "description" : {
            "type" : "string",
            "description" : "The description of the reference data code"
          },
          "listSequence" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "The sequence number of the code. Used for ordering codes correctly in lists and drop downs. ",
            "example" : 3
          },
          "deactivatedAt" : {
            "type" : "string",
            "format" : "date-time",
            "description" : "The date and time the code was deactivated",
            "example" : "2023-11-08T09:53:34"
          }
        },
        "required" : [ "code" ]
      },
      "Referral" : {
        "type" : "object",
        "description" : "The referral of a CSIP record",
        "properties" : {
          "referralDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the referral was made",
            "example" : "2021-09-27"
          },
          "incidentDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the incident that motivated the CSIP referral occurred",
            "example" : "2021-09-27"
          },
          "incidentTime" : {
            "type" : "string",
            "format" : "partial-time",
            "description" : "The time the incident that motivated the CSIP referral occurred",
            "example" : "14:19:25"
          },
          "incidentType" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The type of incident that motivated the CSIP referral."
          },
          "incidentLocation" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The location of incident that motivated the CSIP referral."
          },
          "referredBy" : {
            "type" : "string",
            "description" : "The person reporting the incident or creating the CSIP referral."
          },
          "refererArea" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The area of work of the person reporting the incident or creating the CSIP referral."
          },
          "isProactiveReferral" : {
            "type" : "boolean",
            "description" : "Was this referral proactive or preventative."
          },
          "isStaffAssaulted" : {
            "type" : "boolean",
            "description" : "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName" : {
            "type" : "string",
            "description" : "Name or names of assaulted members of staff if any."
          },
          "incidentInvolvement" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The type of involvement the person had in the incident"
          },
          "descriptionOfConcern" : {
            "type" : "string",
            "description" : "The reasons why there is cause for concern."
          },
          "knownReasons" : {
            "type" : "string",
            "description" : "The reasons already known about the causes of the incident or motivation for CSIP referral."
          },
          "otherInformation" : {
            "type" : "string",
            "description" : "Any other information about the incident or reasons for CSIP referral."
          },
          "isSaferCustodyTeamInformed" : {
            "type" : "string",
            "description" : "Records whether the safer custody team been informed.",
            "enum" : [ "YES", "NO", "DO_NOT_KNOW" ]
          },
          "isReferralComplete" : {
            "type" : "boolean",
            "description" : "Is the referral complete."
          },
          "referralCompletedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the referral was completed."
          },
          "referralCompletedBy" : {
            "type" : "string",
            "description" : "The username of the person completing the referral"
          },
          "referralCompletedByDisplayName" : {
            "type" : "string",
            "description" : "The name of the person completing the referral"
          },
          "contributoryFactors" : {
            "type" : "array",
            "description" : "Contributory factors to the incident that motivated the referral.",
            "items" : {
              "$ref" : "#/components/schemas/ContributoryFactor"
            }
          },
          "investigation" : {
            "$ref" : "#/components/schemas/Investigation",
            "description" : "The investigation on the incident that motivated the CSIP referral."
          },
          "saferCustodyScreeningOutcome" : {
            "$ref" : "#/components/schemas/SaferCustodyScreeningOutcome",
            "description" : "The Safer Custody Screening Outcome for the CSIP referral."
          },
          "decisionAndActions" : {
            "$ref" : "#/components/schemas/DecisionAndActions",
            "description" : "The Decision and Actions for the CSIP referral."
          }
        },
        "required" : [ "contributoryFactors", "incidentDate", "incidentLocation", "incidentType", "isSaferCustodyTeamInformed", "refererArea", "referralDate", "referredBy" ]
      },
      "Review" : {
        "type" : "object",
        "description" : "A regular review of a CSIP Plan",
        "properties" : {
          "reviewUuid" : {
            "type" : "string",
            "format" : "uuid",
            "description" : "The unique identifier assigned to the Review",
            "example" : "8cdadcf3-b003-4116-9956-c99bd8df6a00"
          },
          "reviewSequence" : {
            "type" : "integer",
            "format" : "int32",
            "description" : "The sequence number of the Review. Used for ordering reviews correctly in lists and/or drop downs.",
            "example" : 3
          },
          "reviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the review.",
            "example" : "2021-09-27"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the person who recorded the review."
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the person who recorded the review."
          },
          "nextReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the next review.",
            "example" : "2021-09-27"
          },
          "csipClosedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the CSIP plan was closed following a review outcome decision to close it."
          },
          "summary" : {
            "type" : "string",
            "description" : "Additional information about the review."
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of actions following the review.",
            "items" : {
              "type" : "string",
              "enum" : [ "RESPONSIBLE_PEOPLE_INFORMED", "CSIP_UPDATED", "REMAIN_ON_CSIP", "CASE_NOTE", "CLOSE_CSIP" ]
            },
            "uniqueItems" : true
          },
          "attendees" : {
            "type" : "array",
            "description" : "The attendees/contributors to the review.",
            "items" : {
              "$ref" : "#/components/schemas/Attendee"
            }
          }
        },
        "required" : [ "actions", "attendees", "recordedBy", "recordedByDisplayName", "reviewDate", "reviewSequence", "reviewUuid" ]
      },
      "SaferCustodyScreeningOutcome" : {
        "type" : "object",
        "description" : "The Safer Custody Screening Outcome to the CSIP referral",
        "properties" : {
          "outcome" : {
            "$ref" : "#/components/schemas/ReferenceData",
            "description" : "The type of outcome of the safer custody screening."
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the user who recorded the safer custody screening outcome."
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the user who recorded the safer custody screening outcome."
          },
          "date" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the safer custody screening outcome.",
            "example" : "2021-09-27"
          },
          "reasonForDecision" : {
            "type" : "string",
            "description" : "The reasons for the safer custody screening outcome decision."
          }
        },
        "required" : [ "date", "outcome", "recordedBy", "recordedByDisplayName" ]
      },
      "UpsertSaferCustodyScreeningOutcomeRequest" : {
        "type" : "object",
        "description" : "The request body to create or update the Safer Custody Screening Outcome on the CSIP referral",
        "properties" : {
          "outcomeTypeCode" : {
            "type" : "string",
            "description" : "The type of outcome of the safer custody screening.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "date" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the safer custody screening outcome.",
            "example" : "2021-09-27"
          },
          "reasonForDecision" : {
            "type" : "string",
            "description" : "The reasons for the safer custody screening outcome decision.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the user who recorded the screening outcome.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the user who recorded the screening outcome.",
            "maxLength" : 255,
            "minLength" : 0
          }
        },
        "required" : [ "date", "outcomeTypeCode", "reasonForDecision", "recordedBy", "recordedByDisplayName" ]
      },
      "UpsertDecisionAndActionsRequest" : {
        "type" : "object",
        "description" : "The request body to create a Decision and Actions for a CSIP referral",
        "properties" : {
          "conclusion" : {
            "type" : "string",
            "description" : "The conclusion of the referral and reasons for the outcome decision.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "outcomeTypeCode" : {
            "type" : "string",
            "description" : "The outcome decision for the referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "signedOffByRoleCode" : {
            "type" : "string",
            "description" : "The role of the person making the outcome decision.",
            "maxLength" : 12,
            "minLength" : 0
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the user who recorded the outcome decision.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the user who recorded the outcome decision.",
            "maxLength" : 255,
            "minLength" : 0
          },
          "date" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the outcome decision was made.",
            "example" : "2021-09-27"
          },
          "nextSteps" : {
            "type" : "string",
            "description" : "The next steps that should be taken following the outcome decision.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actionOther" : {
            "type" : "string",
            "description" : "Any other actions that are recommended to be considered.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of recommended actions.",
            "items" : {
              "type" : "string",
              "enum" : [ "OPEN_CSIP_ALERT", "NON_ASSOCIATIONS_UPDATED", "OBSERVATION_BOOK", "UNIT_OR_CELL_MOVE", "CSRA_OR_RSRA_REVIEW", "SERVICE_REFERRAL", "SIM_REFERRAL" ]
            },
            "uniqueItems" : true
          }
        },
        "required" : [ "actions", "outcomeTypeCode" ]
      },
      "CreateContributoryFactorRequest" : {
        "type" : "object",
        "description" : "The request body to create a contributory factor to the incident that motivated the CSIP referral",
        "properties" : {
          "factorTypeCode" : {
            "type" : "string",
            "description" : "The type of contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "comment" : {
            "type" : "string",
            "description" : "Additional information about the contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        },
        "required" : [ "factorTypeCode" ]
      },
      "CreateCsipRecordRequest" : {
        "type" : "object",
        "description" : "The request body for creating a new CSIP Record for a person",
        "properties" : {
          "logCode" : {
            "type" : "string",
            "description" : "User entered identifier for the CSIP record. Defaults to the prison code.",
            "maxLength" : 10,
            "minLength" : 0
          },
          "referral" : {
            "$ref" : "#/components/schemas/CreateReferralRequest",
            "description" : "The referral that results in the creation of this CSIP record."
          }
        },
        "required" : [ "referral" ]
      },
      "CreateReferralRequest" : {
        "type" : "object",
        "description" : "The request body for creating a CSIP referral",
        "properties" : {
          "incidentDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the incident that motivated the CSIP referral occurred",
            "example" : "2021-09-27"
          },
          "incidentTime" : {
            "type" : "string",
            "format" : "partial-time",
            "description" : "The time the incident that motivated the CSIP referral occurred",
            "example" : "14:19:25"
          },
          "incidentTypeCode" : {
            "type" : "string",
            "description" : "The type of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "incidentLocationCode" : {
            "type" : "string",
            "description" : "The location of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "referredBy" : {
            "type" : "string",
            "description" : "The person reporting the incident or creating the CSIP referral.",
            "maxLength" : 240,
            "minLength" : 1
          },
          "refererAreaCode" : {
            "type" : "string",
            "description" : "The area of work of the person reporting the incident or creating the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "isProactiveReferral" : {
            "type" : "boolean",
            "description" : "Was this referral proactive or preventative."
          },
          "isStaffAssaulted" : {
            "type" : "boolean",
            "description" : "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName" : {
            "type" : "string",
            "description" : "Name or names of assaulted members of staff if any.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "incidentInvolvementCode" : {
            "type" : "string",
            "description" : "The type of involvement the person had in the incident",
            "maxLength" : 12,
            "minLength" : 1
          },
          "descriptionOfConcern" : {
            "type" : "string",
            "description" : "The reasons why there is cause for concern.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "knownReasons" : {
            "type" : "string",
            "description" : "The reasons already known about the causes of the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "otherInformation" : {
            "type" : "string",
            "description" : "Any other information about the incident or reasons for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "isSaferCustodyTeamInformed" : {
            "type" : "string",
            "description" : "Records whether the safer custody team been informed.",
            "enum" : [ "YES", "NO", "DO_NOT_KNOW" ]
          },
          "isReferralComplete" : {
            "type" : "boolean",
            "description" : "Is the referral complete."
          },
          "contributoryFactors" : {
            "type" : "array",
            "description" : "Contributory factors to the incident that motivated the referral.",
            "items" : {
              "$ref" : "#/components/schemas/CreateContributoryFactorRequest"
            }
          }
        },
        "required" : [ "contributoryFactors", "incidentDate", "incidentLocationCode", "incidentTypeCode", "isSaferCustodyTeamInformed", "refererAreaCode", "referredBy" ]
      },
      "CreateInterviewRequest" : {
        "type" : "object",
        "description" : "The request body to create an interview",
        "properties" : {
          "interviewee" : {
            "type" : "string",
            "description" : "Name of the person being interviewed.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "interviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the interview took place.",
            "example" : "2021-09-27"
          },
          "intervieweeRoleCode" : {
            "type" : "string",
            "description" : "What role the interviewee played in the incident or referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "interviewText" : {
            "type" : "string",
            "description" : "Information provided in interview.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        },
        "required" : [ "interviewDate", "interviewee", "intervieweeRoleCode" ]
      },
      "CreateInvestigationRequest" : {
        "type" : "object",
        "description" : "The request body to create an investigation on the incident that motivated the CSIP referral.",
        "properties" : {
          "staffInvolved" : {
            "type" : "string",
            "description" : "The names of the staff involved in the investigation.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "evidenceSecured" : {
            "type" : "string",
            "description" : "Any evidence that was secured as part of the investigation.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "occurrenceReason" : {
            "type" : "string",
            "description" : "The reasons why the incident occurred.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "personsUsualBehaviour" : {
            "type" : "string",
            "description" : "The normal behaviour of the person in prison.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "personsTrigger" : {
            "type" : "string",
            "description" : "What triggers the person in prison has that could have motivated the incident.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "protectiveFactors" : {
            "type" : "string",
            "description" : "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "recordedBy" : {
            "type" : "string"
          },
          "recordedByDisplayName" : {
            "type" : "string"
          },
          "interviews" : {
            "type" : "array",
            "description" : "The interviews in relation to the investigation",
            "items" : {
              "$ref" : "#/components/schemas/CreateInterviewRequest"
            }
          }
        },
        "required" : [ "interviews" ]
      },
      "CreateIdentifiedNeedRequest" : {
        "type" : "object",
        "description" : "The request body to create an Identified Need in a CSIP Plan",
        "properties" : {
          "identifiedNeed" : {
            "type" : "string",
            "description" : "Details of the need identified in the CSIP plan.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "responsiblePerson" : {
            "type" : "string",
            "description" : "The name of the person who is responsible for taking action on the intervention.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "createdDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the need was identified.",
            "example" : "2021-09-27"
          },
          "targetDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The target date the need should be progressed or resolved.",
            "example" : "2021-09-27"
          },
          "closedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the identified need was resolved or closed.",
            "example" : "2021-09-27"
          },
          "intervention" : {
            "type" : "string",
            "description" : "The planned intervention for the identified need.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "progression" : {
            "type" : "string",
            "description" : "How the plan to address the identified need is progressing.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        },
        "required" : [ "createdDate", "identifiedNeed", "intervention", "responsiblePerson", "targetDate" ]
      },
      "CreatePlanRequest" : {
        "type" : "object",
        "description" : "The request for creating a CSIP Plan for a CSIP record",
        "properties" : {
          "caseManager" : {
            "type" : "string",
            "description" : "The case manager assigned to the CSIP plan.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "reasonForPlan" : {
            "type" : "string",
            "description" : "The reasons motivating the creation of a CSIP plan.",
            "maxLength" : 240,
            "minLength" : 0
          },
          "nextCaseReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The next date the CSIP plan should be reviewed.",
            "example" : "2021-09-27"
          },
          "identifiedNeeds" : {
            "type" : "array",
            "description" : "The needs identified in the CSIP plan.",
            "items" : {
              "$ref" : "#/components/schemas/CreateIdentifiedNeedRequest"
            }
          }
        },
        "required" : [ "caseManager", "identifiedNeeds", "nextCaseReviewDate", "reasonForPlan" ]
      },
      "CreateAttendeeRequest" : {
        "type" : "object",
        "description" : "The request body to create a Attendee/Contributor to the review of a CSIP Plan",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Name of review attendee/contributor.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "role" : {
            "type" : "string",
            "description" : "Role of review attendee/contributor.",
            "maxLength" : 50,
            "minLength" : 0
          },
          "isAttended" : {
            "type" : "boolean",
            "description" : "If the person attended the review."
          },
          "contribution" : {
            "type" : "string",
            "description" : "Description of attendee contribution.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        }
      },
      "CreateReviewRequest" : {
        "type" : "object",
        "description" : "The request body to create a Review for a CSIP Plan",
        "properties" : {
          "reviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the review.",
            "example" : "2021-09-27"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the person who recorded the review.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the person who recorded the review.",
            "maxLength" : 255,
            "minLength" : 0
          },
          "nextReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the next review.",
            "example" : "2021-09-27"
          },
          "csipClosedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the CSIP plan was closed following a review outcome decision to close it."
          },
          "summary" : {
            "type" : "string",
            "description" : "Additional information about the review.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of actions following the review.",
            "items" : {
              "type" : "string",
              "enum" : [ "RESPONSIBLE_PEOPLE_INFORMED", "CSIP_UPDATED", "REMAIN_ON_CSIP", "CASE_NOTE", "CLOSE_CSIP" ]
            },
            "uniqueItems" : true
          },
          "attendees" : {
            "type" : "array",
            "description" : "The attendees/contributors to the review.",
            "items" : {
              "$ref" : "#/components/schemas/CreateAttendeeRequest"
            }
          }
        },
        "required" : [ "actions", "attendees", "recordedBy", "recordedByDisplayName", "reviewDate" ]
      },
      "UpdateCsipRecordRequest" : {
        "type" : "object",
        "description" : "The request body for updating a CSIP Record",
        "properties" : {
          "logCode" : {
            "type" : "string",
            "description" : "User entered identifier for the CSIP record. Defaults to the prison code.",
            "maxLength" : 10,
            "minLength" : 0
          },
          "referral" : {
            "$ref" : "#/components/schemas/UpdateReferralRequest",
            "description" : "The referral that results in the creation of this CSIP record."
          }
        }
      },
      "UpdateReferralRequest" : {
        "type" : "object",
        "description" : "The detail for updating a CSIP referral",
        "properties" : {
          "incidentDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the incident that motivated the CSIP referral occurred",
            "example" : "2021-09-27"
          },
          "incidentTime" : {
            "type" : "string",
            "format" : "partial-time",
            "description" : "The time the incident that motivated the CSIP referral occurred",
            "example" : "14:19:25"
          },
          "incidentTypeCode" : {
            "type" : "string",
            "description" : "The type of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "incidentLocationCode" : {
            "type" : "string",
            "description" : "The location of incident that motivated the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "referredBy" : {
            "type" : "string",
            "description" : "The person reporting the incident or creating the CSIP referral.",
            "maxLength" : 240,
            "minLength" : 1
          },
          "refererAreaCode" : {
            "type" : "string",
            "description" : "The area of work of the person reporting the incident or creating the CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "isProactiveReferral" : {
            "type" : "boolean",
            "description" : "Was this referral proactive or preventative."
          },
          "isStaffAssaulted" : {
            "type" : "boolean",
            "description" : "Were any members of staff assaulted in the incident."
          },
          "assaultedStaffName" : {
            "type" : "string",
            "description" : "Name or names of assaulted members of staff if any.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "incidentInvolvementCode" : {
            "type" : "string",
            "description" : "The type of involvement the person had in the incident",
            "maxLength" : 12,
            "minLength" : 1
          },
          "descriptionOfConcern" : {
            "type" : "string",
            "description" : "The reasons why there is cause for concern.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "knownReasons" : {
            "type" : "string",
            "description" : "The reasons already known about the causes of the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "otherInformation" : {
            "type" : "string",
            "description" : "Any other information about the incident or reasons for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "isSaferCustodyTeamInformed" : {
            "type" : "string",
            "description" : "Records whether the safer custody team been informed.",
            "enum" : [ "YES", "NO", "DO_NOT_KNOW" ]
          },
          "isReferralComplete" : {
            "type" : "boolean",
            "description" : "Is the referral complete."
          }
        },
        "required" : [ "incidentDate", "incidentLocationCode", "incidentTypeCode", "isSaferCustodyTeamInformed", "refererAreaCode", "referredBy" ]
      },
      "UpdateInvestigationRequest" : {
        "type" : "object",
        "description" : "The request body to update an investigation on the incident that motivated the CSIP referral.",
        "properties" : {
          "staffInvolved" : {
            "type" : "string",
            "description" : "The names of the staff involved in the investigation.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "evidenceSecured" : {
            "type" : "string",
            "description" : "Any evidence that was secured as part of the investigation.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "occurrenceReason" : {
            "type" : "string",
            "description" : "The reasons why the incident occurred.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "personsUsualBehaviour" : {
            "type" : "string",
            "description" : "The normal behaviour of the person in prison.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "personsTrigger" : {
            "type" : "string",
            "description" : "What triggers the person in prison has that could have motivated the incident.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "protectiveFactors" : {
            "type" : "string",
            "description" : "Any protective factors to reduce the person's risk factors and prevent triggers for instance of violence",
            "maxLength" : 4000,
            "minLength" : 0
          }
        }
      },
      "UpdatePlanRequest" : {
        "type" : "object",
        "description" : "The request for updating a CSIP Plan for a CSIP record",
        "properties" : {
          "caseManager" : {
            "type" : "string",
            "description" : "The case manager assigned to the CSIP plan.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "reasonForPlan" : {
            "type" : "string",
            "description" : "The reasons motivating the creation of a CSIP plan.",
            "maxLength" : 240,
            "minLength" : 0
          },
          "nextCaseReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The next date the CSIP plan should be reviewed.",
            "example" : "2021-09-27"
          }
        }
      },
      "UpdateInterviewRequest" : {
        "type" : "object",
        "description" : "The request body to update an interview",
        "properties" : {
          "interviewee" : {
            "type" : "string",
            "description" : "Name of the person being interviewed.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "interviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the interview took place.",
            "example" : "2021-09-27"
          },
          "intervieweeRoleCode" : {
            "type" : "string",
            "description" : "What role the interviewee played in the incident or referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "interviewText" : {
            "type" : "string",
            "description" : "Information provided in interview.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        },
        "required" : [ "interviewDate", "interviewee", "intervieweeRoleCode" ]
      },
      "UpdateContributoryFactorRequest" : {
        "type" : "object",
        "description" : "The request body to update a contributory factor to the incident that motivated the CSIP referral",
        "properties" : {
          "factorTypeCode" : {
            "type" : "string",
            "description" : "The type of contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 12,
            "minLength" : 1
          },
          "comment" : {
            "type" : "string",
            "description" : "Additional information about the contributory factor to the incident or motivation for CSIP referral.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        },
        "required" : [ "factorTypeCode" ]
      },
      "UpdateReviewRequest" : {
        "type" : "object",
        "description" : "The request body to update a Review for a CSIP Plan",
        "properties" : {
          "reviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the review.",
            "example" : "2021-09-27"
          },
          "recordedBy" : {
            "type" : "string",
            "description" : "The username of the person who recorded the review.",
            "maxLength" : 64,
            "minLength" : 0
          },
          "recordedByDisplayName" : {
            "type" : "string",
            "description" : "The displayable name of the person who recorded the review.",
            "maxLength" : 255,
            "minLength" : 0
          },
          "nextReviewDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date of the next review.",
            "example" : "2021-09-27"
          },
          "csipClosedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the CSIP plan was closed following a review outcome decision to close it."
          },
          "summary" : {
            "type" : "string",
            "description" : "Additional information about the review.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "actions" : {
            "type" : "array",
            "description" : "A list of actions following the review.",
            "items" : {
              "type" : "string",
              "enum" : [ "RESPONSIBLE_PEOPLE_INFORMED", "CSIP_UPDATED", "REMAIN_ON_CSIP", "CASE_NOTE", "CLOSE_CSIP" ]
            },
            "uniqueItems" : true
          }
        },
        "required" : [ "actions", "recordedBy", "recordedByDisplayName", "reviewDate" ]
      },
      "UpdateAttendeeRequest" : {
        "type" : "object",
        "description" : "The request body to update a Attendee/Contributor to the review of a CSIP Plan",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Name of review attendee/contributor.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "role" : {
            "type" : "string",
            "description" : "Role of review attendee/contributor.",
            "maxLength" : 50,
            "minLength" : 0
          },
          "isAttended" : {
            "type" : "boolean",
            "description" : "If the person attended the review."
          },
          "contribution" : {
            "type" : "string",
            "description" : "Description of attendee contribution.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        }
      },
      "UpdateIdentifiedNeedRequest" : {
        "type" : "object",
        "description" : "The request body to update an Identified Need in a CSIP Plan",
        "properties" : {
          "identifiedNeed" : {
            "type" : "string",
            "description" : "Details of the need identified in the CSIP plan.",
            "maxLength" : 1000,
            "minLength" : 0
          },
          "responsiblePerson" : {
            "type" : "string",
            "description" : "The name of the person who is responsible for taking action on the intervention.",
            "maxLength" : 100,
            "minLength" : 0
          },
          "createdDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the need was identified.",
            "example" : "2021-09-27"
          },
          "targetDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The target date the need should be progressed or resolved.",
            "example" : "2021-09-27"
          },
          "closedDate" : {
            "type" : "string",
            "format" : "date",
            "description" : "The date the identified need was resolved or closed.",
            "example" : "2021-09-27"
          },
          "intervention" : {
            "type" : "string",
            "description" : "The planned intervention for the identified need.",
            "maxLength" : 4000,
            "minLength" : 0
          },
          "progression" : {
            "type" : "string",
            "description" : "How the plan to address the identified need is progressing.",
            "maxLength" : 4000,
            "minLength" : 0
          }
        },
        "required" : [ "createdDate", "identifiedNeed", "intervention", "responsiblePerson", "targetDate" ]
      },
      "CsipSearchResult" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "prisoner" : {
            "$ref" : "#/components/schemas/Prisoner"
          },
          "referralDate" : {
            "type" : "string",
            "format" : "date"
          },
          "nextReviewDate" : {
            "type" : "string",
            "format" : "date"
          },
          "caseManager" : {
            "type" : "string"
          },
          "status" : {
            "$ref" : "#/components/schemas/ReferenceData"
          }
        },
        "required" : [ "id", "prisoner", "referralDate", "status" ]
      },
      "CsipSearchResults" : {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/CsipSearchResult"
            }
          },
          "metadata" : {
            "$ref" : "#/components/schemas/PageMeta"
          }
        },
        "required" : [ "content", "metadata" ]
      },
      "PageMeta" : {
        "type" : "object",
        "properties" : {
          "totalElements" : {
            "type" : "integer",
            "format" : "int64"
          }
        },
        "required" : [ "totalElements" ]
      },
      "Prisoner" : {
        "type" : "object",
        "properties" : {
          "prisonNumber" : {
            "type" : "string"
          },
          "firstName" : {
            "type" : "string"
          },
          "lastName" : {
            "type" : "string"
          },
          "location" : {
            "type" : "string"
          }
        },
        "required" : [ "firstName", "lastName", "prisonNumber" ]
      },
      "CsipCounts" : {
        "type" : "object",
        "properties" : {
          "submittedReferrals" : {
            "type" : "integer",
            "format" : "int64"
          },
          "pendingInvestigations" : {
            "type" : "integer",
            "format" : "int64"
          },
          "awaitingDecisions" : {
            "type" : "integer",
            "format" : "int64"
          },
          "pendingPlans" : {
            "type" : "integer",
            "format" : "int64"
          },
          "open" : {
            "type" : "integer",
            "format" : "int64"
          },
          "overdueReviews" : {
            "type" : "integer",
            "format" : "int64"
          }
        },
        "required" : [ "awaitingDecisions", "open", "overdueReviews", "pendingInvestigations", "pendingPlans", "submittedReferrals" ]
      },
      "CsipOverview" : {
        "type" : "object",
        "properties" : {
          "counts" : {
            "$ref" : "#/components/schemas/CsipCounts"
          }
        },
        "required" : [ "counts" ]
      },
      "CurrentCsip" : {
        "type" : "object",
        "properties" : {
          "status" : {
            "$ref" : "#/components/schemas/ReferenceData"
          },
          "referralDate" : {
            "type" : "string",
            "format" : "date"
          },
          "nextReviewDate" : {
            "type" : "string",
            "format" : "date"
          },
          "closedDate" : {
            "type" : "string",
            "format" : "date"
          },
          "reviewOverdueDays" : {
            "type" : "integer",
            "format" : "int64"
          }
        },
        "required" : [ "status" ]
      },
      "CurrentCsipDetail" : {
        "type" : "object",
        "properties" : {
          "currentCsip" : {
            "$ref" : "#/components/schemas/CurrentCsip"
          },
          "totalOpenedCsipCount" : {
            "type" : "integer",
            "format" : "int32"
          },
          "totalReferralCount" : {
            "type" : "integer",
            "format" : "int32"
          }
        },
        "required" : [ "totalOpenedCsipCount", "totalReferralCount" ]
      },
      "DefaultLegacyActioned" : {
        "type" : "object",
        "properties" : {
          "actionedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "actionedBy" : {
            "type" : "string"
          },
          "activeCaseloadId" : {
            "type" : "string"
          }
        },
        "required" : [ "actionedAt" ]
      }
    },
    "securitySchemes" : {
      "bearer-jwt" : {
        "type" : "http",
        "name" : "Authorization",
        "in" : "header",
        "scheme" : "bearer",
        "bearerFormat" : "JWT"
      }
    }
  }
}
