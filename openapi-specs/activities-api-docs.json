{
  "openapi": "3.0.1",
  "info": {
    "title": "Activities management API",
    "description": "API for management of prisoner activities",
    "contact": {
      "name": "HMPPS Digital Studio",
      "email": "feedback@digital.justice.gov.uk"
    },
    "version": "2023-10-11.12025.8c9e747"
  },
  "servers": [
    {
      "url": "https://activities-api-dev.prison.service.justice.gov.uk",
      "description": "Generated server url"
    }
  ],
  "security": [
    {
      "bearer-jwt": [
        "read",
        "write"
      ]
    }
  ],
  "paths": {
    "/schedules/{scheduleId}/deallocate": {
      "put": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Deallocate offenders",
        "description": "Deallocates offenders from an activity schedule on a future date.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "deallocate",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PrisonerDeallocationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity schedule for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "One or more prisoners were deallocated from the schedule."
          }
        }
      }
    },
    "/scheduled-instances/{instanceId}/uncancel": {
      "put": {
        "tags": [
          "scheduled-instance-controller"
        ],
        "summary": "Un-cancels a scheduled instance.",
        "description": "Un-cancels a previously cancelled scheduled instance.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "uncancelScheduledInstance",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UncancelScheduledInstanceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found, the scheduled instance does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "The scheduled instance is not cancelled or it is in the past",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "The scheduled instance was successfully un cancelled."
          }
        }
      }
    },
    "/scheduled-instances/{instanceId}/cancel": {
      "put": {
        "tags": [
          "scheduled-instance-controller"
        ],
        "summary": "Cancel a scheduled instance",
        "description": "Cancels scheduled instance and associated attendance records\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "cancelScheduledInstance",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleInstanceCancelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "The scheduled instance was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "Scheduled instance successfully cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/queue-admin/retry-dlq/{dlqName}": {
      "put": {
        "tags": [
          "hmpps-queue-resource"
        ],
        "description": "\n\nRequires one of the following roles:\n* ROLE_QUEUE_ADMIN",
        "operationId": "retryDlq",
        "parameters": [
          {
            "name": "dlqName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RetryDlqResult"
                }
              }
            }
          }
        }
      }
    },
    "/queue-admin/retry-all-dlqs": {
      "put": {
        "tags": [
          "hmpps-queue-resource"
        ],
        "operationId": "retryAllDlqs",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RetryDlqResult"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/queue-admin/purge-queue/{queueName}": {
      "put": {
        "tags": [
          "hmpps-queue-resource"
        ],
        "description": "\n\nRequires one of the following roles:\n* ROLE_QUEUE_ADMIN",
        "operationId": "purgeQueue",
        "parameters": [
          {
            "name": "queueName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PurgeQueueResult"
                }
              }
            }
          }
        }
      }
    },
    "/attendances": {
      "put": {
        "tags": [
          "attendance-controller"
        ],
        "summary": "Updates attendance records.",
        "description": "Updates the given attendance records with the supplied update request details.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "markAttendances",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/AttendanceUpdateRequest"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "The attendance records were updated.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointments/{appointmentId}/cancel": {
      "put": {
        "tags": [
          "appointment-controller"
        ],
        "summary": "Cancel an appointment or series of appointments",
        "description": "\n    Cancel an appointment or series of appointments based on the applyTo property.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "cancelAppointment",
        "parameters": [
          {
            "name": "appointmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppointmentCancelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The appointment for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "202": {
            "description": "The appointment or series of appointments was cancelled.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSeries"
                }
              }
            }
          }
        }
      }
    },
    "/schedules/{scheduleId}/allocations": {
      "get": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Get a list of activity schedule allocations",
        "description": "Returns zero or more activity schedule allocations.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAllocationsBy",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "activeOnly",
            "in": "query",
            "description": "If true will only return active allocations. Defaults to true.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "includePrisonerSummary",
            "in": "query",
            "description": "If true will fetch and add prisoner details from prisoner search. Defaults to false.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "If provided will filter allocations by the given date. Format YYYY-MM-DD.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Schedule ID not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "The allocations for an activity schedule",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Allocation"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Allocate offender to schedule",
        "description": "Allocates the supplied offender allocation request to the activity schedule.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "allocate",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PrisonerAllocationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "The allocation was created and added to the schedule.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity schedule for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scheduled-events/prison/{prisonCode}": {
      "get": {
        "tags": [
          "scheduled-event-controller"
        ],
        "summary": "Get a list of scheduled events for a prison, prisoner, date range (max 3 months) and optional time slot.",
        "description": "\n      Returns scheduled events for the prison, prisoner, date range (max 3 months) and optional time slot.\n      Court hearings, adjudication hearings, transfers and visits come from NOMIS (via prison API).\n      Activities and appointments come from either NOMIS or the local database depending on whether the prison is\n      marked as active for appointments and/or activities.\n      (Intended usage: Prisoner calendar / schedule)\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getScheduledEventsForSinglePrisoner",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The 3-digit prison code.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "prisonerNumber",
            "in": "query",
            "description": "Prisoner number (required). Format A9999AA.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Start date of query (required). Format YYYY-MM-DD.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "End date of query (required). Format YYYY-MM-DD. The end date must be within 3 months of the start date)",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "timeSlot",
            "in": "query",
            "description": "Time slot for the events (optional). If supplied, one of AM, PM or ED.",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more scheduled events found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrisonerScheduledEvents"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "scheduled-event-controller"
        ],
        "summary": "Get a list of scheduled events for a prison and list of prisoner numbers for a date and time slot",
        "description": "\n      Returns scheduled events for the prison, prisoner numbers, single date and an optional time slot.\n      Court hearings, adjudication hearings, transfers and visits come from NOMIS (via prison API).\n      Activities and appointments come from either NOMIS or the local database depending on whether the prison is\n      marked as rolled-out for activities and/or appointments.\n      (Intended usage: Unlock list)\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getScheduledEventsForMultiplePrisoners",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The 3-character prison code.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "The exact date to return events for (required) in format YYYY-MM-DD",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "timeSlot",
            "in": "query",
            "description": "Time slot of the events (optional). If supplied, one of AM, PM or ED.",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "uniqueItems": true,
                "type": "array",
                "description": "Set of prisoner numbers (required). Example ['G11234YI', 'B5234YI'].",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more scheduled events found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrisonerScheduledEvents"
                }
              }
            }
          }
        }
      }
    },
    "/scheduled-events/prison/{prisonCode}/locations": {
      "post": {
        "tags": [
          "scheduled-event-controller"
        ],
        "summary": "Get a list of scheduled events for a prison and list of internal location ids numbers for a date and optional time slot",
        "description": "\n      Returns scheduled events for the prison, internal location ids, single date and an optional time slot.\n      This endpoint only returns activities and appointments and these come from the local database.\n      This endpoint supports the creation of movement lists.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getScheduledEventsForMultipleLocations",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The 3-character prison code.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "The exact date to return events for (required) in format YYYY-MM-DD",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "timeSlot",
            "in": "query",
            "description": "Time slot of the events (optional). If supplied, one of AM, PM or ED.",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "uniqueItems": true,
                "type": "array",
                "description": "Set of internal location ids (required). Example [123, 456].",
                "items": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more scheduled events found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InternalLocationEvents"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prisons/{prisonCode}/prisoner-allocations": {
      "post": {
        "tags": [
          "prisoner-allocation-controller"
        ],
        "summary": "Get all allocations for prisoners",
        "description": "Returns zero or more allocations for the supplied list of prisoners.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "prisonerAllocations",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activeOnly",
            "in": "query",
            "description": "If true will only return active allocations. Defaults to true.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "The required prisoner numbers (mandatory)",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "The allocations for the prisoners",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PrisonerAllocations"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/migrate/allocation": {
      "post": {
        "tags": [
          "migrate-activity-controller"
        ],
        "summary": "Migrate an allocation",
        "description": "Migrate an allocation from NOMIS.\n\nRequires one of the following roles:\n* NOMIS_ACTIVITIES",
        "operationId": "migrateAllocation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AllocationMigrateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "The allocation was migrated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllocationMigrateResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/migrate/activity": {
      "post": {
        "tags": [
          "migrate-activity-controller"
        ],
        "summary": "Migrate an activity",
        "description": "Migrate an activity.\n\nRequires one of the following roles:\n* NOMIS_ACTIVITIES",
        "operationId": "migrateActivity",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActivityMigrateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "The activity was migrated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityMigrateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/migrate-appointment": {
      "post": {
        "tags": [
          "migrate-appointment-controller"
        ],
        "summary": "Migrate an appointment from NOMIS",
        "description": "\n    Migrate an appointment creating an appointment series with one appointment that has the supplied prisoner allocated.\n    \n\nRequires one of the following roles:\n* NOMIS_APPOINTMENTS",
        "operationId": "migrateAppointment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppointmentMigrateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "The appointment was migrated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentInstance"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/job/manage-attendance-records": {
      "post": {
        "tags": [
          "job-trigger-controller"
        ],
        "summary": "Trigger the job to manage attendance records in advance",
        "description": "Can only be accessed from within the ingress. Requests from elsewhere will result in a 401 response code.",
        "operationId": "triggerManageAttendanceRecordsJob",
        "parameters": [
          {
            "name": "withExpiry",
            "in": "query",
            "description": "If true will run the attendance expiry process in addition to other features. Defaults to false.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/job/manage-allocations": {
      "post": {
        "tags": [
          "job-trigger-controller"
        ],
        "summary": "Trigger the job to manage allocations",
        "description": "\n        One or more operations to trigger for managing allocations.\n        \n        Can only be accessed from within the ingress. Requests from elsewhere will result in a 401 response code.\n    ",
        "operationId": "triggerManageAllocationsJob",
        "parameters": [
          {
            "name": "withActivate",
            "in": "query",
            "description": "If true will run the activate pending allocations process. Defaults to false.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "withDeallocate",
            "in": "query",
            "description": "If true will run the deallocate allocations process. Defaults to false.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/job/create-scheduled-instances": {
      "post": {
        "tags": [
          "job-trigger-controller"
        ],
        "summary": "Trigger the job to create the scheduled instances in advance for the active schedules on activities",
        "description": "Can only be accessed from within the ingress. Requests from elsewhere will result in a 401 response code.",
        "operationId": "triggerCreateScheduledInstancesJob",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/job/appointments/manage-attendees": {
      "post": {
        "tags": [
          "appointment-job-controller"
        ],
        "summary": "Starts a job to manage appointment attendees",
        "description": "\n      Job will retrieve all appointments within the date range defined by the supplied days before now and days after now parameters.\n      It will retrieve the attendees for these appointments and retrieve the associated prisoner records. The status, location and\n      any other pertinent information for these prisoners will be used to determine whether the attendee records should be removed.\n      \n      Can only be accessed from within the ingress. Requests from elsewhere will result in a 401 response code.\n    ",
        "operationId": "triggerManageAllocationsJob_1",
        "parameters": [
          {
            "name": "daysBeforeNow",
            "in": "query",
            "description": "The number of days prior to today to start the date range. The attendees for appointments starting after this will be managed.",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "daysAfterNow",
            "in": "query",
            "description": "The number of days after today to end the date range. The attendees for appointments starting before this will be managed.",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Accepted",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/job/appointments-metrics": {
      "post": {
        "tags": [
          "job-trigger-controller"
        ],
        "summary": "Trigger the job to generate appointments metrics",
        "description": "Can only be accessed from within the ingress. Requests from elsewhere will result in a 401 response code.",
        "operationId": "triggerAppointmentsMetricsJob",
        "responses": {
          "202": {
            "description": "Accepted",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/job/activities-metrics": {
      "post": {
        "tags": [
          "job-trigger-controller"
        ],
        "summary": "Trigger the job to generate activity metrics",
        "description": "Can only be accessed from within the ingress. Requests from elsewhere will result in a 401 response code.",
        "operationId": "triggerActivityMetricsJob",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/event-review/prison/{prison}/acknowledge": {
      "post": {
        "tags": [
          "event-review-controller"
        ],
        "summary": "Acknowledge a list of change of circumstance events in the prison.",
        "description": "Used to indicate that a subset of change events have been acknowledged.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "acknowledgeEvents",
        "parameters": [
          {
            "name": "prison",
            "in": "path",
            "description": "The prison code e.g. MDI",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventAcknowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "The event IDS were acknowledged.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/audit/search": {
      "post": {
        "tags": [
          "audit-controller"
        ],
        "summary": "Search for audit records",
        "description": "Returns all records that match the search criteria.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAuditRecords",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 3
            }
          },
          {
            "name": "sortDirection",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": ""
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuditRecordSearchFilters"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Search performed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocalAuditSearchResults"
                }
              }
            }
          }
        }
      }
    },
    "/appointments/{prisonCode}/search": {
      "post": {
        "tags": [
          "appointment-controller"
        ],
        "summary": "Search for appointments within the specified prison",
        "description": "\n    Uses the supplied prison code and search parameters to filter and return appointment search results.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "searchAppointments",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppointmentSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "202": {
            "description": "Prison code and search parameters were accepted and results returned.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AppointmentSearchResult"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-set": {
      "post": {
        "tags": [
          "appointment-set-controller"
        ],
        "summary": "Create a set of appointments",
        "description": "\n    Create a set of appointments that start on the same day and add the associated prisoner as the appointment attendee.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "createAppointmentSet",
        "parameters": [
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppointmentSetCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "The appointment set was created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSet"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-series": {
      "post": {
        "tags": [
          "appointment-series-controller"
        ],
        "summary": "Create an appointment series with one or more appointments",
        "description": "\n    Create an appointment series with one or more appointments and add the supplied prisoner or prisoners as appointment attendees.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "createAppointmentSeries",
        "parameters": [
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppointmentSeriesCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "The appointment series was created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSeries"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/allocations/{prisonCode}/waiting-list-application": {
      "post": {
        "tags": [
          "allocation-controller"
        ],
        "summary": "Add a prisoner to an activity schedule waiting list",
        "description": "Adds the supplied waiting list creation request to the activity schedule.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "addToWaitingList",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WaitingListApplicationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity schedule in the request for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "The waiting list entry was created and added to the schedule.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/activities": {
      "post": {
        "tags": [
          "activity-controller"
        ],
        "summary": "Create an activity",
        "description": "Create an activity\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "create",
        "parameters": [
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActivityCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "The activity was created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/waiting-list-applications/{waitingListId}": {
      "get": {
        "tags": [
          "waiting-list-application-controller"
        ],
        "summary": "Get a waiting list application by its id",
        "description": "Returns a single waiting list application by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getWaitingListById",
        "parameters": [
          {
            "name": "waitingListId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The waiting list application for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Waiting list application found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WaitingListApplication"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "waiting-list-application-controller"
        ],
        "description": "Update a waiting list application.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "updateWaitingList",
        "parameters": [
          {
            "name": "waitingListId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WaitingListApplicationUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "202": {
            "description": "The updated waiting list application.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WaitingListApplication"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Waiting list application not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointments/{appointmentId}": {
      "get": {
        "tags": [
          "appointment-controller"
        ],
        "summary": "Get an appointment by its id",
        "description": "Returns an appointment with its properties and references to NOMIS by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentById",
        "parameters": [
          {
            "name": "appointmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Appointment"
                }
              }
            }
          },
          "404": {
            "description": "The appointment for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "appointment-controller"
        ],
        "summary": "Update an appointment or series of appointments",
        "description": "\n    Update an appointment or series of appointments based on the applyTo property.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "updateAppointment",
        "parameters": [
          {
            "name": "appointmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppointmentUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "202": {
            "description": "The appointment or series of appointments was updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSeries"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The appointment for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/allocations/{prisonCode}/allocationId/{allocationId}": {
      "patch": {
        "tags": [
          "allocation-controller"
        ],
        "summary": "Update an allocation",
        "description": "Update an allocation\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "update",
        "parameters": [
          {
            "name": "allocationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AllocationUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "202": {
            "description": "The allocation was updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Allocation"
                }
              }
            }
          },
          "404": {
            "description": "Allocation ID not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/activities/{prisonCode}/activityId/{activityId}": {
      "patch": {
        "tags": [
          "activity-controller"
        ],
        "summary": "Update an activity",
        "description": "Update an activity\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "update_1",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActivityUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "The activity was updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "404": {
            "description": "Activity ID not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/synchronisation/reconciliation/allocations/{prisonId}": {
      "get": {
        "tags": [
          "synchronisation-controller"
        ],
        "summary": "Retrieves allocation details for the sync reconciliation",
        "description": "Retrieves booking numbers and counts for allocations currently active in each prison\n\nRequires one of the following roles:\n* NOMIS_ACTIVITIES",
        "operationId": "getAllocationReconciliation",
        "parameters": [
          {
            "name": "prisonId",
            "in": "path",
            "description": "Prison id",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Prison id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reconciliation information retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllocationReconciliationResponse"
                }
              }
            }
          },
          "400": {
            "description": "There was an error with the request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized to access this endpoint",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/synchronisation/attendance/{attendanceId}": {
      "get": {
        "tags": [
          "synchronisation-controller"
        ],
        "summary": "Retrieves Nomis synchronisation details",
        "description": "Retrieves all details required in order to synchronise an attendance with the Nomis database.\n\nRequires one of the following roles:\n* NOMIS_ACTIVITIES",
        "operationId": "getAttendanceSync",
        "parameters": [
          {
            "name": "attendanceId",
            "in": "path",
            "description": "Attendance id",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Attendance id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attendance retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttendanceSync"
                }
              }
            }
          },
          "400": {
            "description": "There was an error with the request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized to access this endpoint",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Attendance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/schedules/{scheduleId}": {
      "get": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Get an activity schedule by its id",
        "description": "Returns a single activity schedule by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN\n* NOMIS_ACTIVITIES",
        "operationId": "getScheduleId",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activity found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivitySchedule"
                }
              }
            }
          }
        }
      }
    },
    "/schedules/{scheduleId}/waiting-list-applications": {
      "get": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Get a schedules waiting list applications",
        "description": "Returns zero or more activity schedule waiting list applications.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getWaitingListApplicationsBy",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Schedule ID not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "The waiting list applications for an activity schedule",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WaitingListApplication"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/schedules/{scheduleId}/suitability": {
      "get": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Gets the suitability details of a candidate for an activity",
        "description": "Returns candidate suitability details considering factors such as, workplace risk assessment, incentive level, education levels, earliest release date and non-associations\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "allocationSuitability",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "prisonerNumber",
            "in": "query",
            "description": "Prisoner number (required). Format A9999AA.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Candidate suitability details.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllocationSuitability"
                }
              }
            }
          },
          "404": {
            "description": "The activity schedule for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/schedules/{scheduleId}/candidates": {
      "get": {
        "tags": [
          "activity-schedule-controller"
        ],
        "summary": "Get the suitable candidates for an activity",
        "description": "Returns a paginated view of the list of candidates suitable for a given activity schedule. Filterable by employment status, workplace risk assessment, and incentive level.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "candidates",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "suitableIncentiveLevel",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "suitableRiskLevel",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "suitableForEmployed",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paginated list of candidates was returned.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageActivityCandidate"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity schedule for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scheduled-instances/{instanceId}": {
      "get": {
        "tags": [
          "scheduled-instance-controller"
        ],
        "summary": "Get a scheduled instance by ID",
        "description": "Returns a scheduled instance.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN\n* NOMIS_ACTIVITIES",
        "operationId": "getScheduledInstanceById",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "404": {
            "description": "The scheduled instance was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Scheduled instance found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityScheduleInstance"
                }
              }
            }
          }
        }
      }
    },
    "/scheduled-instances/{instanceId}/attendances": {
      "get": {
        "tags": [
          "scheduled-instance-controller"
        ],
        "summary": "Get a list of attendances for a scheduled instance",
        "description": "Returns one or more attendance records for a particular scheduled activity for a given scheduled instance.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAttendancesByScheduledInstance",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "The scheduled instance was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Attendance records found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Attendance"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/scheduled-instances/attendance-summary": {
      "get": {
        "tags": [
          "scheduled-instance-controller"
        ],
        "summary": "Attendance summary of activity sessions for a given date",
        "description": "Attendance summary of activity sessions for a given date\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "attendanceSummary",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "query",
            "description": "The prison code of the prison to return an attendance summary for",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "MDI"
          },
          {
            "name": "date",
            "in": "query",
            "description": "The date of the attendance summary. Format, YYYY-MM-DD.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "example": "2023-09-20"
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "404": {
            "description": "The scheduled instance was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Attendance summary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ScheduledInstanceAttendanceSummary"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/rollout/{prisonCode}": {
      "get": {
        "tags": [
          "rollout-controller"
        ],
        "summary": "Get a prison's rollout plan by prison code",
        "description": "Returns a single prison and its activities management service rollout plan by its unique code.\n\nRequires one of the following roles:\n* ACTIVITY_ADMIN",
        "operationId": "getPrisonByCode",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Prison rollout plan found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RolloutPrisonPlan"
                }
              }
            }
          }
        }
      }
    },
    "/queue-admin/get-dlq-messages/{dlqName}": {
      "get": {
        "tags": [
          "hmpps-queue-resource"
        ],
        "description": "\n\nRequires one of the following roles:\n* ROLE_QUEUE_ADMIN",
        "operationId": "getDlqMessages",
        "parameters": [
          {
            "name": "dlqName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "maxMessages",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GetDlqResult"
                }
              }
            }
          }
        }
      }
    },
    "/prisons/{prisonCode}/scheduled-instances": {
      "get": {
        "tags": [
          "activity-schedule-instance-controller"
        ],
        "summary": "Get a list of scheduled instances for a prison, date range (max 3 months) and time slot (AM, PM or ED - optional)",
        "description": "Returns zero or more scheduled instances for a prison and date range (max 3 months).\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getActivityScheduleInstancesByDateRange",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The 3-character prison code.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Start date of query (required). Format YYYY-MM-DD.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "End date of query (required). The end date must be within 3 months of the start date.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "slot",
            "in": "query",
            "description": "The time slot (optional). If supplied, one of AM, PM or ED.",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more scheduled instance records found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActivityScheduleInstance"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/prison/{prisonCode}/schedules": {
      "get": {
        "tags": [
          "prison-controller"
        ],
        "summary": "Get a list of activity schedules at a given prison",
        "description": "Returns zero or more activity schedules at a given prison.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getSchedulesByPrisonCode",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "Date of activity, default today",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "timeSlot",
            "in": "query",
            "description": "AM, PM or ED",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          },
          {
            "name": "locationId",
            "in": "query",
            "description": "The internal NOMIS location id of the activity",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Activity schedules found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActivitySchedule"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prison/{prisonCode}/prison-pay-bands": {
      "get": {
        "tags": [
          "prison-controller"
        ],
        "summary": "Get a list of pay bands at a given prison",
        "description": "Returns the pay bands at a given prison or a default list of values if none present.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getPrisonPayBands",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Prison pay bands found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PrisonPayBand"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/prison/{prisonCode}/locations": {
      "get": {
        "tags": [
          "prison-controller"
        ],
        "summary": "Get scheduled prison locations",
        "description": "Returns a list of zero or more scheduled prison locations for the supplied criteria.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getScheduledPrisonLocations",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "Date of activity, default today",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "timeSlot",
            "in": "query",
            "description": "AM, PM or ED",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Locations found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InternalLocation"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/prison/{prisonCode}/activity-categories/{categoryId}/activities": {
      "get": {
        "tags": [
          "prison-controller"
        ],
        "summary": "Get list of activities within a category at a specified prison",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getActivitiesInCategory",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "categoryId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Category ID not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activities within the category",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActivityLite"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/prison/{prisonCode}/activities": {
      "get": {
        "tags": [
          "prison-controller"
        ],
        "summary": "Get list of activities running at a specified prison. Optionally and by default, only currently LIVE activities are returned",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getActivities",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "excludeArchived",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Activities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActivitySummary"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/prison/prison-regime/{prisonCode}": {
      "get": {
        "tags": [
          "prison-controller"
        ],
        "summary": "Get a prison regime by its code",
        "description": "Returns a single prison regime and its details by its unique prison code.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getPrisonRegimeByPrisonCode",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The prison regime for this prison code was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Prison regime found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrisonRegime"
                }
              }
            }
          }
        }
      }
    },
    "/locations/prison/{prisonCode}": {
      "get": {
        "tags": [
          "location-controller"
        ],
        "summary": "List of cell locations for a prison group supplied as a query parameter",
        "description": "List of cell locations for a prison group supplied as a query parameter\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getCellLocationsForGroup",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "groupName",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more cell locations found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Location"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/locations/prison/{prisonCode}/location-prefix": {
      "get": {
        "tags": [
          "location-controller"
        ],
        "summary": "Get the location prefix for a location group supplied as a query parameter",
        "description": "Get location prefix for a location group name supplied as a query parameter\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getLocationPrefixForGroup",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "groupName",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - Location prefix found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationPrefixDto"
                }
              }
            }
          }
        }
      }
    },
    "/locations/prison/{prisonCode}/location-groups": {
      "get": {
        "tags": [
          "location-controller"
        ],
        "summary": "List of all available location groups defined at a prison",
        "description": "List of all available location groups defined at a prison\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getLocationGroups",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more location groups found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LocationGroup"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/locations/prison/{prisonCode}/events-summaries": {
      "get": {
        "tags": [
          "location-controller"
        ],
        "summary": "\n      Get a list of internal locations that have events scheduled to take place on the specified date and optional time slot.\n      ",
        "description": "\n      Returns internal locations that have events scheduled to take place on the specified date and optional time slot.\n      Will contain summary information about the events taking place at the location as well as the total number of\n      prisoners due to arrive at the location. This endpoint supports the creation of movement lists allowing\n      users to select from a sublist of only the internal locations that have events scheduled there.\n    \n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getInternalLocationEventsSummary",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The 3-digit prison code.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "Date of scheduled events (required). Format YYYY-MM-DD. Up to 60 days in the future",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "timeSlot",
            "in": "query",
            "description": "Time slot for the scheduled events (optional). If supplied, one of AM, PM or ED.",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "AM",
                "PM",
                "ED"
              ]
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Requested resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successful call - zero or more internal locations with scheduled events found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalLocationEventsSummary"
                }
              }
            }
          }
        }
      }
    },
    "/event-review/prison/{prisonCode}": {
      "get": {
        "tags": [
          "event-review-controller"
        ],
        "summary": "Get events for a prison which may indicate that a change of circumstances affecting allocations had occurred",
        "description": "Returns events in the prison which match the search criteria provided.\n\nRequires one of the following roles:\n* ACTIVITY_HUB\n* ACTIVITY_ADMIN",
        "operationId": "getEventsForReview",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The prison code e.g. MDI",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "description": "The date for which to request events, format YYYY-MM-DD, e.g. 2023-10-01",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "prisonerNumber",
            "in": "query",
            "description": "The prisoner number, eg. A9999AA (optional). Default is all prisoner numbers.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "includeAcknowledged",
            "in": "query",
            "description": "Whether to include acknowledged events (optional). Default is false.",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "The page number to return (optional). Default is page zero.",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The maximum number of items to return in each page (optional). Default is 10.",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "sortDirection",
            "in": "query",
            "description": "The sort direction based on the time the events occurred. Default is ascending.",
            "required": false,
            "schema": {
              "type": "string",
              "default": "ascending"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Search performed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventReviewSearchResults"
                }
              }
            }
          }
        }
      }
    },
    "/attendances/{prisonCode}/{sessionDate}": {
      "get": {
        "tags": [
          "attendance-controller"
        ],
        "summary": "Get a daily list of attendances",
        "description": "Returns an attendance list.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAttendanceByDate",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionDate",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Attendance list found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AllAttendance"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/attendances/{attendanceId}": {
      "get": {
        "tags": [
          "attendance-controller"
        ],
        "summary": "Get an attendance by ID",
        "description": "Returns an attendance.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAttendanceById",
        "parameters": [
          {
            "name": "attendanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Attendance found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attendance"
                }
              }
            }
          },
          "404": {
            "description": "The attendance was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/attendance-reasons": {
      "get": {
        "tags": [
          "attendance-reason-controller"
        ],
        "summary": "Get the list of attendance reasons",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAttendanceReasons",
        "responses": {
          "200": {
            "description": "Attendance reasons found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttendanceReason"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointments/{appointmentId}/details": {
      "get": {
        "tags": [
          "appointment-controller"
        ],
        "summary": "Get the details of an appointment for display purposes by its id",
        "description": "Returns the displayable details of an appointment by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentDetailsById",
        "parameters": [
          {
            "name": "appointmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentDetails"
                }
              }
            }
          },
          "404": {
            "description": "The appointment for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-set/{appointmentSetId}": {
      "get": {
        "tags": [
          "appointment-set-controller"
        ],
        "summary": "Get an appointment set by its id",
        "description": "Returns an appointment set with its properties and references to NOMIS by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentSetById",
        "parameters": [
          {
            "name": "appointmentSetId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The appointment set for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment set found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSet"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-set/{appointmentSetId}/details": {
      "get": {
        "tags": [
          "appointment-set-controller"
        ],
        "summary": "Get the details of an appointment set for display purposes by its id",
        "description": "Returns the displayable details of an appointment set by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentSetDetailsById",
        "parameters": [
          {
            "name": "appointmentSetId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment set found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSetDetails"
                }
              }
            }
          },
          "404": {
            "description": "The appointment set for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-series/{appointmentSeriesId}": {
      "get": {
        "tags": [
          "appointment-series-controller"
        ],
        "summary": "Get an appointment series by its id",
        "description": "Returns an appointment series with its properties and references to NOMIS by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentSeriesById",
        "parameters": [
          {
            "name": "appointmentSeriesId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment series found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSeries"
                }
              }
            }
          },
          "404": {
            "description": "The appointment series for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-series/{appointmentSeriesId}/details": {
      "get": {
        "tags": [
          "appointment-series-controller"
        ],
        "summary": "Get the details of an appointment series for display purposes by its id",
        "description": "Returns the displayable details of an appointment series by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentDetailsById_1",
        "parameters": [
          {
            "name": "appointmentSeriesId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Appointment series found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentSeriesDetails"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The appointment series for this id was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-locations/{prisonCode}": {
      "get": {
        "tags": [
          "appointment-location-controller"
        ],
        "summary": "Get the list of appointment locations",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentLocations",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Appointment locations found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AppointmentLocationSummary"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-instances/{appointmentInstanceId}": {
      "get": {
        "tags": [
          "appointment-instance-controller"
        ],
        "summary": "Get an appointment instance by its id",
        "description": "Returns an appointment instance and its details by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN\n* NOMIS_ACTIVITIES",
        "operationId": "getAppointmentInstanceById",
        "parameters": [
          {
            "name": "appointmentInstanceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "404": {
            "description": "The appointment instance for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment instance found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppointmentInstance"
                }
              }
            }
          }
        }
      }
    },
    "/appointment-categories": {
      "get": {
        "tags": [
          "appointment-category-controller"
        ],
        "summary": "Get the list of appointment categories",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getAppointmentCategories",
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Appointment categories found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AppointmentCategorySummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/allocations/id/{allocationId}": {
      "get": {
        "tags": [
          "allocation-controller"
        ],
        "summary": "Get an allocation by its id",
        "description": "Returns a single allocation and its details by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN\n* NOMIS_ACTIVITIES",
        "operationId": "getAllocationById",
        "parameters": [
          {
            "name": "allocationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "allocation found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Allocation"
                }
              }
            }
          },
          "404": {
            "description": "The allocation for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/allocations/deallocation-reasons": {
      "get": {
        "tags": [
          "allocation-controller"
        ],
        "summary": "Get the list of deallocation reasons",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getDeallocationReasons",
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Deallocation reasons found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeallocationReason"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/activity-categories": {
      "get": {
        "tags": [
          "activity-category-controller"
        ],
        "summary": "Get the list of top-level activity categories",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN\n* NOMIS_ACTIVITIES",
        "operationId": "getCategories",
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activity categories found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActivityCategory"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}": {
      "get": {
        "tags": [
          "activity-controller"
        ],
        "summary": "Get an activity by its id",
        "description": "Returns a single activity and its details by its unique identifier.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN\n* NOMIS_ACTIVITIES",
        "operationId": "getActivityById",
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "Caseload-Id",
            "in": "header",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activity found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}/schedules": {
      "get": {
        "tags": [
          "activity-controller"
        ],
        "summary": "Get the capacity and number of allocated slots in an activity",
        "description": "\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getActivitySchedules",
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Activity ID not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activity schedules",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityScheduleLite"
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}/filtered": {
      "get": {
        "tags": [
          "activity-controller"
        ],
        "summary": "Get an activity by its ID with limited instances (by date)",
        "description": "Returns a single activity by activity ID with limited instances.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getActivityByIdWithFilters",
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "earliestSessionDate",
            "in": "query",
            "description": "The date of the earliest scheduled instances to include. Defaults to newer than 1 month ago.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "The activity for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activity found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}/basic": {
      "get": {
        "tags": [
          "activity-controller"
        ],
        "summary": "Returns the basic activity ids and descriptions without its child collections",
        "description": "Returns basic activity IDs and attributes without its child collections.\n\nRequires one of the following roles:\n* PRISON\n* ACTIVITY_ADMIN",
        "operationId": "getActivityKeyIds",
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Activity found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityBasic"
                }
              }
            }
          },
          "404": {
            "description": "The activity for this ID was not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/migrate/delete-activity/prison/{prisonCode}/id/{activityId}": {
      "delete": {
        "tags": [
          "migrate-activity-controller"
        ],
        "summary": "Delete an activity with cascade.",
        "description": "\n      Deletes an activity and all its child entities including schedule, slots, pay, instances, attendances and allocations.\n      Only for use via by migration services to undo a failed migration.\n      \n\nRequires one of the following roles:\n* NOMIS_ACTIVITIES",
        "operationId": "deleteActivity",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The prison code where this activity exists",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activityId",
            "in": "path",
            "description": "The activity ID to remove",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden, requires an appropriate role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "The activity was deleted."
          },
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/migrate-appointment/{prisonCode}": {
      "delete": {
        "tags": [
          "migrate-appointment-controller"
        ],
        "summary": "\n      Starts a job to delete migrated appointments taking place at the supplied prison code that start on or after the\n      supplied start date and are assigned the optional category code.\n      ",
        "description": "\n      Migrated appointments matching the supplied criteria will be soft deleted in the database. An appointment instance\n      deleted domain event used for syncing will be published for each deleted appointment. This will cause the mapped\n      appointment in NOMIS to also be deleted.\n    \n\nRequires one of the following roles:\n* NOMIS_APPOINTMENTS",
        "operationId": "deleteMigratedAppointments",
        "parameters": [
          {
            "name": "prisonCode",
            "in": "path",
            "description": "The 3-digit prison code.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Inclusive start date of migrated appointments to be deleted. Must be today or in the future",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "categoryCode",
            "in": "query",
            "description": "The category code assigned to migrated appointments to be deleted.",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorised, requires a valid Oauth2 token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "202": {
            "description": "Migrated appointments matching the supplied criteria are being deleted.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AppointmentSearchResult"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PrisonerDeallocationRequest": {
        "required": [
          "endDate",
          "prisonerNumbers",
          "reasonCode"
        ],
        "type": "object",
        "properties": {
          "prisonerNumbers": {
            "type": "array",
            "description": "The prisoner or prisoners to be deallocated. Must be allocated to the schedule affected by the request.",
            "items": {
              "type": "string",
              "description": "The prisoner or prisoners to be deallocated. Must be allocated to the schedule affected by the request."
            }
          },
          "reasonCode": {
            "type": "string",
            "description": "The reason code for the deallocation",
            "example": "RELEASED",
            "enum": [
              "OTHER",
              "PERSONAL",
              "PROBLEM",
              "REMOVED",
              "SECURITY",
              "UNACCEPTABLE_ATTENDANCE",
              "UNACCEPTABLE_BEHAVIOUR",
              "WITHDRAWN"
            ]
          },
          "endDate": {
            "type": "string",
            "description": "The future date on which this allocation will end. Must not exceed the end date of the allocation, schedule or activity.",
            "format": "date",
            "example": "2023-05-24"
          }
        },
        "description": "The prisoner deallocation request details"
      },
      "ErrorResponse": {
        "required": [
          "status"
        ],
        "type": "object",
        "properties": {
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "errorCode": {
            "type": "integer",
            "format": "int32"
          },
          "userMessage": {
            "type": "string"
          },
          "developerMessage": {
            "type": "string"
          },
          "moreInfo": {
            "type": "string"
          }
        }
      },
      "UncancelScheduledInstanceRequest": {
        "required": [
          "displayName",
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "The username of the user performing the unschedule operation",
            "example": "RJ56DDE"
          },
          "displayName": {
            "type": "string",
            "description": "The displayName of the user performing the unschedule operation",
            "example": "Bob Adams"
          }
        },
        "description": "The uncancel request with the user details"
      },
      "ScheduleInstanceCancelRequest": {
        "required": [
          "reason",
          "username"
        ],
        "type": "object",
        "properties": {
          "reason": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The reason for cancelling the schedule instance",
            "example": "No tutor available"
          },
          "username": {
            "type": "string",
            "description": "The username of the user cancelling the schedule instance",
            "example": "RJ56DDE"
          },
          "comment": {
            "type": "string",
            "description": "A field for any additional comments",
            "example": "Resume tomorrow"
          }
        },
        "description": "The scheduled instance cancellation request"
      },
      "DlqMessage": {
        "required": [
          "body",
          "messageId"
        ],
        "type": "object",
        "properties": {
          "body": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          },
          "messageId": {
            "type": "string"
          }
        }
      },
      "RetryDlqResult": {
        "required": [
          "messages",
          "messagesFoundCount"
        ],
        "type": "object",
        "properties": {
          "messagesFoundCount": {
            "type": "integer",
            "format": "int32"
          },
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DlqMessage"
            }
          }
        }
      },
      "PurgeQueueResult": {
        "required": [
          "messagesFoundCount"
        ],
        "type": "object",
        "properties": {
          "messagesFoundCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AttendanceUpdateRequest": {
        "required": [
          "id",
          "prisonCode",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this attendance",
            "format": "int64",
            "example": 123456
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code",
            "example": "MDI"
          },
          "status": {
            "type": "string",
            "description": "The status - WAITING, COMPLETED",
            "example": "WAITING",
            "enum": [
              "WAITING",
              "COMPLETED"
            ]
          },
          "attendanceReason": {
            "type": "string",
            "description": "The reason codes- SICK, REFUSED, NOT_REQUIRED, REST, CLASH, OTHER, SUSPENDED, CANCELLED, ATTENDED",
            "example": "ATTENDED"
          },
          "comment": {
            "type": "string",
            "description": "Comments such as more detail for SICK",
            "example": "Prisoner has COVID-19"
          },
          "issuePayment": {
            "type": "boolean",
            "description": "Should payment be issued for SICK, REST or OTHER",
            "example": true
          },
          "caseNote": {
            "type": "string",
            "description": "Case note provided for REFUSED",
            "example": "Prisoner refused to attend the scheduled activity without reasonable excuse"
          },
          "incentiveLevelWarningIssued": {
            "type": "boolean",
            "description": "Was an incentive level warning issued for REFUSED",
            "example": true
          },
          "otherAbsenceReason": {
            "type": "string",
            "description": "The absence reason for OTHER",
            "example": "Prisoner has another reason for missing the activity"
          }
        },
        "description": "Request object for updating an attendance record"
      },
      "AppointmentCancelRequest": {
        "required": [
          "applyTo",
          "cancellationReasonId"
        ],
        "type": "object",
        "properties": {
          "cancellationReasonId": {
            "type": "integer",
            "description": "\n    Specifies the id of the reason for the cancellation. The cancellation reason, identified by this id, will determine \n    whether the cancellation is also treated as a soft delete\n    ",
            "format": "int64",
            "example": 1234
          },
          "applyTo": {
            "type": "string",
            "description": "\n    Specifies which appointment or appointments this cancellation should apply to.\n    Defaults to THIS_APPOINTMENT meaning the cancellation will be applied to the appointment specified by the\n    supplied id only.\n    ",
            "example": "THIS_APPOINTMENT",
            "enum": [
              "THIS_APPOINTMENT",
              "THIS_AND_ALL_FUTURE_APPOINTMENTS",
              "ALL_FUTURE_APPOINTMENTS"
            ]
          }
        },
        "description": "The cancel request with the cancellation details and how to apply the cancellation"
      },
      "Appointment": {
        "required": [
          "attendees",
          "categoryCode",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "isCancelled",
          "prisonCode",
          "sequenceNumber",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment",
            "format": "int64",
            "example": 123456
          },
          "sequenceNumber": {
            "type": "integer",
            "description": "The sequence number of this appointment within the appointment series",
            "format": "int32",
            "example": 3
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "categoryCode": {
            "type": "string",
            "description": "The NOMIS REFERENCE_CODES.CODE (DOMAIN = 'INT_SCH_RSN') value for mapping to NOMIS",
            "example": "CHAP"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID value for mapping to NOMIS.\n    Will be null if in cell = true\n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment is in cell rather than an internal prison location.\n    Internal location id should be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date this appointment is taking place on",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of this appointment",
            "format": "partial-time",
            "example": "13:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of this appointment",
            "format": "partial-time",
            "example": "13:30"
          },
          "extraInformation": {
            "type": "string",
            "description": "\n    Extra information for the prisoner or prisoners attending this appointment.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that created the appointment.\n    Usually a NOMIS username\n    ",
            "example": "AAA01U"
          },
          "updatedTime": {
            "type": "string",
            "description": "\n    The date and time this appointment was last changed.\n    Will be null if this appointment has not been altered since it was created\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that edited this appointment.\n    Will be null if this appointment has not been altered since it was created\n    ",
            "example": "AAA01U"
          },
          "cancelledTime": {
            "type": "string",
            "description": "\n    The date and time this appointment was cancelled.\n    Will be null if this appointment has not been cancelled\n    ",
            "format": "date-time"
          },
          "cancellationReasonId": {
            "type": "integer",
            "description": "\n    The id of the reason why this appointment was cancelled.\n    Will be null if this appointment has not been cancelled\n    ",
            "format": "int64",
            "example": 12345
          },
          "cancelledBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that cancelled this appointment.\n    Will be null if this appointment has not been cancelled\n    ",
            "example": "AAA01U"
          },
          "attendees": {
            "type": "array",
            "description": "\n    The prisoner or prisoners attending this appointment. Single appointments such as medical will have one\n    attendee. A group appointment e.g. gym or chaplaincy sessions will have more than one attendee.\n    Attendees are at the appointment level supporting alteration of attendees in any future appointment.\n    ",
            "items": {
              "$ref": "#/components/schemas/AppointmentAttendee"
            }
          },
          "isCancelled": {
            "type": "boolean"
          }
        },
        "description": "\n  Described on the UI as an \"Appointment\" and represents the scheduled event on a specific date and time.\n  All updates and cancellations happen at this appointment level with the parent appointment series being immutable.\n  "
      },
      "AppointmentAttendee": {
        "required": [
          "bookingId",
          "id",
          "prisonerNumber"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "\n    The internally generated identifier for this prisoner attending a specific appointment in an appointment series or set.\n    N.B. this is used as the appointment instance id due to there being a one to one relationship between an appointment\n    attendee and appointment instances.\n    ",
            "format": "int64",
            "example": 123456
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The NOMIS OFFENDERS.OFFENDER_ID_DISPLAY value for mapping to a prisoner record in NOMIS",
            "example": "A1234BC"
          },
          "bookingId": {
            "type": "integer",
            "description": "The NOMIS OFFENDER_BOOKINGS.OFFENDER_BOOK_ID value for mapping to a prisoner booking record in NOMIS",
            "format": "int64",
            "example": 456
          },
          "addedTime": {
            "type": "string",
            "description": "\n    The date and time this attendee was added appointment.\n    Will be null if this attendee was part of the appointment when the appointment was created\n    ",
            "format": "date-time"
          },
          "addedBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that added this attendee to the appointment.\n    Will be null if this attendee was part of the appointment when the appointment was created\n    ",
            "example": "AAA01U"
          },
          "attended": {
            "type": "boolean",
            "description": "\n    Specifies whether the prisoner attended the specific appointment in an appointment series or set.\n    A null value means that the prisoner's attendance has not been recorded yet. \n    "
          },
          "attendanceRecordedTime": {
            "type": "string",
            "description": "\n    The date and time the attendance record the specific appointment in an appointment series or set was marked.\n    A null value means that the prisoner's attendance has not been recorded yet. \n    ",
            "format": "date-time"
          },
          "attendanceRecordedBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that marked the attendance record the specific appointment in\n    an appointment series or set.\n    A null value means that the prisoner's attendance has not been recorded yet. \n    ",
            "example": "AAA01U"
          },
          "removedTime": {
            "type": "string",
            "description": "\n    The date and time this attendee was removed from the appointment.\n    Will be null if this attendee has not been removed from the appointment\n    ",
            "format": "date-time"
          },
          "removedBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that removed this attendee from the appointment.\n    Will be null if this attendee has not been removed from the appointment\n    ",
            "example": "AAA01U"
          }
        },
        "description": "\n  Described on the UI as an \"Attendee\". A prisoner attending a specific appointment in an appointment series or set.\n  "
      },
      "AppointmentSeries": {
        "required": [
          "appointmentType",
          "appointments",
          "categoryCode",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "prisonCode",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment series",
            "format": "int64",
            "example": 12345
          },
          "appointmentType": {
            "type": "string",
            "description": "The appointment type (INDIVIDUAL or GROUP)",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "categoryCode": {
            "type": "string",
            "description": "The NOMIS REFERENCE_CODES.CODE (DOMAIN = 'INT_SCH_RSN') value for mapping to NOMIS",
            "example": "CHAP"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment series. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID value for mapping to NOMIS.\n    Will be null if in cell = true\n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment series is in cell rather than an internal prison location.\n    Internal location id should be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date of the first appointment in the series",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of the appointment or appointments in the series",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the appointment or appointments in the series",
            "format": "partial-time",
            "example": "10:30"
          },
          "schedule": {
            "$ref": "#/components/schemas/AppointmentSeriesSchedule"
          },
          "extraInformation": {
            "type": "string",
            "description": "\n    Extra information for the prisoner or prisoners attending the appointment or appointments in the series.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment series was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that created the appointment series.\n    Usually a NOMIS username\n    ",
            "example": "AAA01U"
          },
          "updatedTime": {
            "type": "string",
            "description": "\n    The date and time one or more appointments in this series was last changed.\n    Will be null if no appointments in the series have been altered since they were created\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that last edited one or more appointments in this series.\n    Will be null if no appointments in the series have been altered since they were created\n    ",
            "example": "AAA01U"
          },
          "appointments": {
            "type": "array",
            "description": "\n    The individual appointment or appointments in this series. Non recurring appointment series will have a single\n    appointment containing the same property values as the parent appointment series. The same start date, time\n    and end time. Recurring appointment series will have one or more appointments. The first in the series will also\n    contain the same property values as the parent appointment series and subsequent appointments will have start dates\n    following on from the original start date incremented as specified by the series' schedule. Each appointment\n    can be edited independently of the parent. All properties of an appointment are separate to those of the parent\n    appointment series. The full series of appointments specified by the schedule will have been created in advance.\n    ",
            "items": {
              "$ref": "#/components/schemas/Appointment"
            }
          }
        },
        "description": "\n  Described on the UI as an \"Appointment series\" and only shown for repeat appointments.\n  The top level of the standard appointment hierarchy containing the initial property values common to all appointments\n  in the series.\n  Contains the collection of all the child appointments in the series plus the schedule definition if the appointment series repeats.\n  The properties at this level cannot be changed via the API however the child appointment property values can be changed\n  independently to support rescheduling, cancelling and altered attendee lists per appointment.\n  N.B. there is no collection of attending prisoners at this top level as all attendees are per appointment. This is to\n  support attendee modification for each scheduled appointment and to prevent altering the past by editing attendees\n  in an appointment series where some appointments have past.\n  "
      },
      "AppointmentSeriesSchedule": {
        "required": [
          "frequency",
          "numberOfAppointments"
        ],
        "type": "object",
        "properties": {
          "frequency": {
            "type": "string",
            "description": "\n    The frequency of the appointments in the repeating appointment series. When they will repeat and how often\n    ",
            "example": "WEEKLY",
            "enum": [
              "WEEKDAY",
              "DAILY",
              "WEEKLY",
              "FORTNIGHTLY",
              "MONTHLY"
            ]
          },
          "numberOfAppointments": {
            "minimum": 1,
            "type": "integer",
            "description": "\n    The original total number of appointments in the appointment series i.e. the number that were created initially\n    without excluding any that were subsequently cancelled or deleted\n    ",
            "format": "int32",
            "example": 6
          }
        },
        "description": "\n  Describes the schedule of the appointment i.e. how the appointments in the series will repeat. The frequency of\n  those appointments and how many appointments there will be in total in the series.\n  "
      },
      "PrisonerAllocationRequest": {
        "required": [
          "payBandId",
          "prisonerNumber",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "prisonerNumber": {
            "maxLength": 7,
            "minLength": 0,
            "type": "string",
            "description": "The prisoner number (Nomis ID)",
            "example": "A1234AA"
          },
          "payBandId": {
            "type": "integer",
            "description": "Where a prison uses pay bands to differentiate earnings, this is the pay band code given to this prisoner",
            "format": "int64",
            "example": 1
          },
          "startDate": {
            "type": "string",
            "description": "The future date when the prisoner will start the activity",
            "format": "date",
            "example": "2022-09-10"
          },
          "endDate": {
            "type": "string",
            "description": "The date when the prisoner will stop attending the activity",
            "format": "date",
            "example": "2023-09-10"
          }
        },
        "description": "The prisoner allocation request details"
      },
      "PrisonerScheduledEvents": {
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string",
            "description": "The prison code for these scheduled events",
            "example": "MDI"
          },
          "prisonerNumbers": {
            "uniqueItems": true,
            "type": "array",
            "description": "The set of prisoner numbers for theses scheduled events ",
            "example": "['GF10101', 'GR123YI']",
            "items": {
              "type": "string",
              "description": "The set of prisoner numbers for theses scheduled events ",
              "example": "['GF10101', 'GR123YI']"
            }
          },
          "startDate": {
            "type": "string",
            "description": "The start date for this collection of scheduled events",
            "format": "date",
            "example": "2022-11-01"
          },
          "endDate": {
            "type": "string",
            "description": "The end date (inclusive) for this collection of scheduled events",
            "format": "date",
            "example": "2022-11-28"
          },
          "appointments": {
            "type": "array",
            "description": "A list of scheduled appointments for this prisoner in this date range",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          },
          "courtHearings": {
            "type": "array",
            "description": "A list of (active) scheduled court hearings for this prisoner in this date range",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          },
          "visits": {
            "type": "array",
            "description": "A list of scheduled visits for this prisoner in this date range",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          },
          "activities": {
            "type": "array",
            "description": "A list of scheduled activities for this prisoner in this date range",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          },
          "externalTransfers": {
            "type": "array",
            "description": "A list of external transfers for this prisoner in this date range",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          },
          "adjudications": {
            "type": "array",
            "description": "A list of adjudications for this prisoner in this date range",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          }
        },
        "description": "Describes a prisons scheduled events"
      },
      "ScheduledEvent": {
        "required": [
          "cancelled",
          "inCell",
          "offWing",
          "onWing",
          "outsidePrison",
          "priority",
          "startTime",
          "suspended"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string",
            "description": "The prison code for this scheduled event",
            "example": "MDI"
          },
          "eventSource": {
            "type": "string",
            "description": "The source of this event - valid values are NOMIS or SAA (scheduling activities and appointments)",
            "example": "NOMIS"
          },
          "eventType": {
            "type": "string",
            "description": "The event type (APPOINTMENT, ACTIVITY, COURT_HEARING, EXTERNAL_TRANSFER, ADJUDICATION_HEARING, VISIT)",
            "example": "APPOINTMENT"
          },
          "scheduledInstanceId": {
            "type": "integer",
            "description": "For activities from SAA the ID for the activity scheduled instance, or null when from NOMIS",
            "format": "int64",
            "example": 9999
          },
          "appointmentSeriesId": {
            "type": "integer",
            "description": "For appointments from SAA the ID for the appointment series, or null when from NOMIS",
            "format": "int64",
            "example": 9999
          },
          "appointmentId": {
            "type": "integer",
            "description": "For appointments from SAA the ID for the appointment, or null when from NOMIS",
            "format": "int64",
            "example": 9999
          },
          "appointmentAttendeeId": {
            "type": "integer",
            "description": "For appointments from SAA the ID for the appointment attendee, or null when from NOMIS",
            "format": "int64",
            "example": 9999
          },
          "oicHearingId": {
            "type": "integer",
            "description": "For adjudication hearings from NOMIS the ID for the OIC hearing, or null for other types",
            "format": "int64",
            "example": 9999
          },
          "eventId": {
            "type": "integer",
            "description": "The event ID for events from NOMIS, otherwise null if from SAA",
            "format": "int64",
            "example": 10001
          },
          "bookingId": {
            "type": "integer",
            "description": "The booking id of the prisoner this event relates to.",
            "format": "int64",
            "example": 10001
          },
          "internalLocationId": {
            "type": "integer",
            "description": "The NOMIS internal location id where this event takes place",
            "format": "int64",
            "example": 10001
          },
          "internalLocationCode": {
            "type": "string",
            "description": "The NOMIS location code for this event",
            "example": "MDI-HB1-EDUCATION-RM1"
          },
          "internalLocationDescription": {
            "type": "string",
            "description": "The NOMIS location description for this event",
            "example": "Education Room One"
          },
          "categoryCode": {
            "type": "string",
            "description": "Event category code (e.g appointment category code, activity category code)",
            "example": "GOVE"
          },
          "categoryDescription": {
            "type": "string",
            "description": "Event category description.",
            "example": "Governor"
          },
          "summary": {
            "type": "string",
            "description": "The event summary to show on unlock lists, schedules and calendars",
            "example": "Court hearing"
          },
          "comments": {
            "type": "string",
            "description": "Any comments supplied that relate to this event",
            "example": "Reception for 8am please."
          },
          "inCell": {
            "type": "boolean",
            "description": "Set to true if this event will take place in the prisoner's cell",
            "example": false
          },
          "onWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is on wing",
            "example": false
          },
          "offWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is off wing and not in a listed location",
            "example": false
          },
          "outsidePrison": {
            "type": "boolean",
            "description": "Set to true if this event takes place outside the prison",
            "example": false
          },
          "cancelled": {
            "type": "boolean",
            "description": "Set to true if this event has been cancelled",
            "example": false
          },
          "suspended": {
            "type": "boolean",
            "description": "Set to true if this prisoner is suspended for this event (only applies to activities)",
            "example": false
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number",
            "example": "GF10101"
          },
          "date": {
            "type": "string",
            "description": "The specific date for this event",
            "format": "date",
            "example": "2022-09-30"
          },
          "startTime": {
            "type": "string",
            "description": "The start time for this scheduled instance",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time for this scheduled instance",
            "format": "partial-time",
            "example": "10:00"
          },
          "priority": {
            "type": "integer",
            "description": "The event priority - configurable by prison, or via defaults.",
            "format": "int32"
          }
        },
        "description": "Describes a scheduled event"
      },
      "InternalLocationEvents": {
        "required": [
          "code",
          "description",
          "events",
          "id",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "\n    The id of the internal location. Mapped from AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID in NOMIS.\n    ",
            "format": "int64",
            "example": 27723
          },
          "prisonCode": {
            "type": "string",
            "description": "\n    The prison code/agency id of the internal location. Mapped from AGENCY_LOCATIONS.AGY_LOC_ID in NOMIS.\n    ",
            "example": "SKI"
          },
          "code": {
            "type": "string",
            "description": "The code of the internal location. Mapped from AGENCY_INTERNAL_LOCATIONS.DESCRIPTION",
            "example": "EDUC-ED1-ED1"
          },
          "description": {
            "type": "string",
            "description": "The description of the internal location. Mapped from AGENCY_INTERNAL_LOCATIONS.USER_DESC",
            "example": "Education 1"
          },
          "events": {
            "uniqueItems": true,
            "type": "array",
            "description": "Collection of scheduled events due to take place at the internal location",
            "items": {
              "$ref": "#/components/schemas/ScheduledEvent"
            }
          }
        },
        "description": "\n  The details of an internal location that has events scheduled to take place there. Supports movement lists.\n  Contains additional information about the events taking place at the location.\n  The system of record for internal locations is NOMIS and they are managed in that application.\n  "
      },
      "Allocation": {
        "required": [
          "activityId",
          "activitySummary",
          "bookingId",
          "id",
          "isUnemployment",
          "prisonPayBand",
          "prisonerNumber",
          "scheduleDescription",
          "scheduleId",
          "startDate",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this allocation",
            "format": "int64",
            "example": 123456
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number (Nomis ID)",
            "example": "A1234AA"
          },
          "bookingId": {
            "type": "integer",
            "description": "The offender booking id",
            "format": "int64",
            "example": 10001
          },
          "activitySummary": {
            "type": "string"
          },
          "activityId": {
            "type": "integer",
            "format": "int64"
          },
          "scheduleId": {
            "type": "integer",
            "format": "int64"
          },
          "scheduleDescription": {
            "type": "string"
          },
          "isUnemployment": {
            "type": "boolean",
            "description": "Indicates whether this allocation is to an activity within the 'Not in work' category"
          },
          "prisonPayBand": {
            "$ref": "#/components/schemas/PrisonPayBand"
          },
          "startDate": {
            "type": "string",
            "description": "The date when the prisoner will start the activity",
            "format": "date",
            "example": "2022-09-10"
          },
          "endDate": {
            "type": "string",
            "description": "The date when the prisoner will stop attending the activity",
            "format": "date",
            "example": "2023-09-10"
          },
          "allocatedTime": {
            "type": "string",
            "description": "The date and time the prisoner was allocated to the activity",
            "format": "date-time"
          },
          "allocatedBy": {
            "type": "string",
            "description": "The person who allocated the prisoner to the activity",
            "example": "Mr Blogs"
          },
          "deallocatedTime": {
            "type": "string",
            "description": "The date and time the prisoner was deallocated from the activity",
            "format": "date-time"
          },
          "deallocatedBy": {
            "type": "string",
            "description": "The person who deallocated the prisoner from the activity",
            "example": "Mrs Blogs"
          },
          "deallocatedReason": {
            "$ref": "#/components/schemas/DeallocationReason"
          },
          "suspendedTime": {
            "type": "string",
            "description": "The date and time the allocation was suspended",
            "format": "date-time"
          },
          "suspendedBy": {
            "type": "string",
            "description": "The person who suspended the prisoner from the activity",
            "example": "Mrs Blogs"
          },
          "suspendedReason": {
            "type": "string",
            "description": "The descriptive reason why this prisoner was suspended from the activity",
            "example": "Temporarily released from prison"
          },
          "status": {
            "type": "string",
            "description": "The status of the allocation",
            "example": "ACTIVE",
            "enum": [
              "ACTIVE",
              "PENDING",
              "SUSPENDED",
              "AUTO_SUSPENDED",
              "ENDED"
            ]
          },
          "plannedDeallocation": {
            "$ref": "#/components/schemas/PlannedDeallocation"
          },
          "prisonerName": {
            "type": "string",
            "description": "The name of the prisoner. Included only if includePrisonerSummary = true"
          },
          "cellLocation": {
            "type": "string",
            "description": "The cell location of the prisoner. Included only if includePrisonerSummary = true"
          },
          "earliestReleaseDate": {
            "$ref": "#/components/schemas/EarliestReleaseDate"
          }
        },
        "description": "A prisoner who is allocated to an activity"
      },
      "DeallocationReason": {
        "required": [
          "code",
          "description"
        ],
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The code for the deallocation reason",
            "example": "RELEASED"
          },
          "description": {
            "type": "string",
            "description": "The description for the deallocation reason",
            "example": "Released from prison"
          }
        },
        "description": "The code and descriptive reason why this prisoner was deallocated from the activity",
        "example": "PLANNED"
      },
      "EarliestReleaseDate": {
        "required": [
          "isConvictedUnsentenced",
          "isImmigrationDetainee",
          "isIndeterminateSentence",
          "isRemand",
          "isTariffDate"
        ],
        "type": "object",
        "properties": {
          "releaseDate": {
            "type": "string",
            "description": "The prisoner's earliest release date",
            "format": "date",
            "example": "2027-09-20"
          },
          "isTariffDate": {
            "type": "boolean",
            "description": "The prisoner's earliest release date is the tariff date"
          },
          "isIndeterminateSentence": {
            "type": "boolean",
            "description": "The prisoner's sentence is indeterminate"
          },
          "isImmigrationDetainee": {
            "type": "boolean",
            "description": "The prisoner is an immigration detainee"
          },
          "isConvictedUnsentenced": {
            "type": "boolean",
            "description": "The prisoner is convicted and unsentenced"
          },
          "isRemand": {
            "type": "boolean",
            "description": "The prisoner is on remand"
          }
        },
        "description": "Summary of a prisoner's sentence and resulting earliest release date"
      },
      "PlannedDeallocation": {
        "required": [
          "id",
          "plannedAt",
          "plannedBy",
          "plannedDate",
          "plannedReason"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this planned de-allocation",
            "format": "int64",
            "example": 24
          },
          "plannedDate": {
            "type": "string",
            "description": "The planned de-allocation date ",
            "format": "date",
            "example": "2023-07-31"
          },
          "plannedBy": {
            "type": "string",
            "description": "The person who planned the de-allocation",
            "example": "ADMIN"
          },
          "plannedReason": {
            "$ref": "#/components/schemas/DeallocationReason"
          },
          "plannedAt": {
            "type": "string",
            "description": "The system time when the de-allocation plan was made",
            "format": "date-time"
          }
        },
        "description": "Describes one instance of a planned deallocation"
      },
      "PrisonPayBand": {
        "required": [
          "alias",
          "description",
          "displaySequence",
          "id",
          "nomisPayBand",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this prison pay band",
            "format": "int64",
            "example": 123456
          },
          "displaySequence": {
            "type": "integer",
            "description": "The order in which the pay band should be presented within a list e.g. dropdown",
            "format": "int32",
            "example": 1
          },
          "alias": {
            "type": "string",
            "description": "The alternative text to use in place of the description e.g. Low, Medium, High",
            "example": "Low"
          },
          "description": {
            "type": "string",
            "description": "The description of pay band in this prison",
            "example": "Pay band 1"
          },
          "nomisPayBand": {
            "type": "integer",
            "description": "The pay band number this is associated with in NOMIS (1-10)",
            "format": "int32",
            "example": 1
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code for the pay band. Can also be 'DEFAULT' if none set up for prison",
            "example": "MDI"
          }
        },
        "description": "Describes one instance of a prison pay band"
      },
      "PrisonerAllocations": {
        "required": [
          "allocations",
          "prisonerNumber"
        ],
        "type": "object",
        "properties": {
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number",
            "example": "GF10101"
          },
          "allocations": {
            "type": "array",
            "description": "The list of allocations for the prisoner",
            "items": {
              "$ref": "#/components/schemas/Allocation"
            }
          }
        },
        "description": "Describes a prisoners allocations"
      },
      "AllocationMigrateRequest": {
        "required": [
          "activityId",
          "bookingId",
          "prisonCode",
          "prisonerNumber",
          "startDate",
          "suspendedFlag"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The prison code where this allocation is to be made",
            "example": "PVI"
          },
          "activityId": {
            "type": "integer",
            "description": "The activity ID to which this allocation should be made",
            "format": "int64",
            "example": 12332
          },
          "splitRegimeActivityId": {
            "type": "integer",
            "description": "The alternative activity ID in a split regime",
            "format": "int64",
            "example": 1322
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner display number from NOMIS",
            "example": "A3334AB"
          },
          "bookingId": {
            "type": "integer",
            "description": "The prisoner booking id from NOMIS",
            "format": "int64",
            "example": 99098484
          },
          "cellLocation": {
            "type": "string",
            "description": "The prisoner cell location",
            "example": "RSI-A-1-2-001"
          },
          "nomisPayBand": {
            "type": "string",
            "description": "The pay band code from NOMIS",
            "example": "2"
          },
          "startDate": {
            "type": "string",
            "description": "Date on which this allocation starts or started. Not nullable.",
            "format": "date",
            "example": "2022-12-23"
          },
          "endDate": {
            "type": "string",
            "description": "Date on which this allocation ended or will end. Nullable.",
            "format": "date",
            "example": "2022-12-23"
          },
          "endComment": {
            "type": "string",
            "description": "If an end date is set there may be a comment. Nullable.",
            "example": "Due to end in January."
          },
          "suspendedFlag": {
            "type": "boolean",
            "description": "True if this prisoner allocation is suspended.",
            "example": true
          }
        },
        "description": "Allocation migration request"
      },
      "AllocationMigrateResponse": {
        "required": [
          "activityId",
          "allocationId"
        ],
        "type": "object",
        "properties": {
          "activityId": {
            "type": "integer",
            "description": "The actual activity ID to which the allocation was made",
            "format": "int64",
            "example": 123232
          },
          "allocationId": {
            "type": "integer",
            "description": "The allocation ID created in the activities service",
            "format": "int64",
            "example": 32323
          }
        },
        "description": "Response for a successful migration of one allocation to an activity"
      },
      "ActivityMigrateRequest": {
        "required": [
          "capacity",
          "description",
          "minimumIncentiveLevel",
          "outsideWork",
          "payPerSession",
          "payRates",
          "prisonCode",
          "programServiceCode",
          "runsOnBankHoliday",
          "scheduleRules",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "programServiceCode": {
            "type": "string",
            "description": "A nomis program service code (activity category)",
            "example": "PRISON JOBS"
          },
          "prisonCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "PVI"
          },
          "startDate": {
            "type": "string",
            "description": "Date on which this activity starts or started. Can not be null.",
            "format": "date",
            "example": "2022-12-23"
          },
          "endDate": {
            "type": "string",
            "description": "Date when this activity ends. Can be null.",
            "format": "date",
            "example": "2022-12-23"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "Optional NOMIS internal location id",
            "format": "int64",
            "example": 98877667
          },
          "internalLocationCode": {
            "type": "string",
            "description": "Optional NOMIS internal location code",
            "example": "A011"
          },
          "internalLocationDescription": {
            "type": "string",
            "description": "Optional NOMIS internal location description",
            "example": "PVI-1-2-A011"
          },
          "capacity": {
            "type": "integer",
            "description": "The maximum number of prisoners who can attend. Not null.",
            "format": "int32",
            "example": 10
          },
          "description": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "A summary description for the activity.",
            "example": "Maths level 1"
          },
          "payPerSession": {
            "type": "string",
            "description": "Indicates (F)ull or (H)alf day (for payment purposes). Not nullable.",
            "example": "H",
            "enum": [
              "H",
              "F"
            ]
          },
          "minimumIncentiveLevel": {
            "type": "string",
            "description": "The NOMIS code for the minimum incentive level for this activity",
            "example": "BAS"
          },
          "runsOnBankHoliday": {
            "type": "boolean",
            "description": "Whether the schedule runs on bank holidays",
            "example": true
          },
          "outsideWork": {
            "type": "boolean",
            "description": "Whether the activity takes place outside of the prison",
            "example": true
          },
          "scheduleRules": {
            "type": "array",
            "description": "Details of when this activity runs during the week",
            "items": {
              "$ref": "#/components/schemas/NomisScheduleRule"
            }
          },
          "payRates": {
            "type": "array",
            "description": "The pay rates which apply to this activity. Where none are specified we will assume an unpaid activity.",
            "items": {
              "$ref": "#/components/schemas/NomisPayRate"
            }
          }
        },
        "description": "Activity migration request"
      },
      "NomisPayRate": {
        "required": [
          "incentiveLevel",
          "rate"
        ],
        "type": "object",
        "properties": {
          "incentiveLevel": {
            "type": "string",
            "description": "The incentive level code from NOMIS",
            "example": "BAS"
          },
          "nomisPayBand": {
            "type": "string",
            "description": "The pay band code from NOMIS. If null, will be defaulted to 1",
            "example": "2"
          },
          "rate": {
            "type": "integer",
            "description": "The pay rate for one half day session in pence",
            "format": "int32",
            "example": 120
          }
        },
        "description": "Describes a pay rate for an activity."
      },
      "NomisScheduleRule": {
        "required": [
          "endTime",
          "friday",
          "monday",
          "saturday",
          "startTime",
          "sunday",
          "thursday",
          "tuesday",
          "wednesday"
        ],
        "type": "object",
        "properties": {
          "startTime": {
            "type": "string",
            "description": "Start time on the day",
            "format": "partial-time",
            "example": "10:45"
          },
          "endTime": {
            "type": "string",
            "description": "End time on the day",
            "format": "partial-time",
            "example": "11:45"
          },
          "monday": {
            "type": "boolean",
            "description": "Runs on a Monday",
            "example": true
          },
          "tuesday": {
            "type": "boolean",
            "description": "Runs on a Tuesday",
            "example": true
          },
          "wednesday": {
            "type": "boolean",
            "description": "Runs on a Wednesday",
            "example": true
          },
          "thursday": {
            "type": "boolean",
            "description": "Runs on a Thursday",
            "example": true
          },
          "friday": {
            "type": "boolean",
            "description": "Runs on a Friday",
            "example": true
          },
          "saturday": {
            "type": "boolean",
            "description": "Runs on a Saturday",
            "example": true
          },
          "sunday": {
            "type": "boolean",
            "description": "Runs on a Sunday",
            "example": true
          }
        },
        "description": "The scheduling rules in Nomis. At least one day and time must be specified."
      },
      "ActivityMigrateResponse": {
        "required": [
          "activityId",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string"
          },
          "activityId": {
            "type": "integer",
            "format": "int64"
          },
          "splitRegimeActivityId": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "AppointmentMigrateRequest": {
        "required": [
          "bookingId",
          "categoryCode",
          "created",
          "createdBy",
          "internalLocationId",
          "prisonCode",
          "prisonerNumber",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "maxLength": 6,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS prison code where this appointment takes place",
            "example": "PVI"
          },
          "prisonerNumber": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The prisoner to allocate to the appointment",
            "example": "A1234BC"
          },
          "bookingId": {
            "type": "integer",
            "description": "The NOMIS OFFENDER_BOOKINGS.OFFENDER_BOOK_ID value for mapping to a prisoner booking record in NOMIS",
            "format": "int64",
            "example": 456
          },
          "categoryCode": {
            "maxLength": 12,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS reference code for this appointment.",
            "example": "CHAP"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS internal location id within the specified prison.\n    ",
            "format": "int64",
            "example": 123
          },
          "startDate": {
            "type": "string",
            "description": "The date of the appointment",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of the appointment",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the appointment",
            "format": "partial-time",
            "example": "10:30"
          },
          "comment": {
            "type": "string",
            "description": "\n    Notes relating to the appointment.    \n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "isCancelled": {
            "type": "boolean",
            "description": "\n    Indicates that this appointment has been cancelled\n    ",
            "example": false
          },
          "created": {
            "type": "string",
            "description": "The date and time this appointment was created",
            "format": "date-time"
          },
          "createdBy": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "\n    The username of the user authenticated via NOMIS/HMPPS auth that created the appointment\n    ",
            "example": "AAA01U"
          },
          "updated": {
            "type": "string",
            "description": "\n    The date and time this appointment was last changed\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "\n    The username of the user authenticated via NOMIS/HMPPS auth that modified the appointment\n    ",
            "example": "AAA01U"
          }
        },
        "description": "The migration request with the appointment details"
      },
      "AppointmentInstance": {
        "required": [
          "appointmentAttendeeId",
          "appointmentDate",
          "appointmentId",
          "appointmentSeriesId",
          "appointmentType",
          "bookingId",
          "categoryCode",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "prisonCode",
          "prisonerNumber",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "\n    The internally generated identifier for this appointment instance. N.B. this is the appointment attendee id due to\n    there being a one to one relationship between an appointment attendee and appointment instances.\n    ",
            "format": "int64",
            "example": 123456
          },
          "appointmentSeriesId": {
            "type": "integer",
            "description": "The internally generated identifier for the appointment series",
            "format": "int64",
            "example": 1234
          },
          "appointmentId": {
            "type": "integer",
            "description": "The internally generated identifier for the appointment",
            "format": "int64",
            "example": 12345
          },
          "appointmentAttendeeId": {
            "type": "integer",
            "description": "\n    The internally generated identifier for the appointment attendee. N.B. this is used as the appointment instance id\n    due to there being a one to one relationship between an appointment attendee and appointment instances.\n    ",
            "format": "int64",
            "example": 123456
          },
          "appointmentType": {
            "type": "string",
            "description": "The appointment type (INDIVIDUAL or GROUP)",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The NOMIS OFFENDERS.OFFENDER_ID_DISPLAY value for mapping to a prisoner record in NOMIS",
            "example": "A1234BC"
          },
          "bookingId": {
            "type": "integer",
            "description": "The NOMIS OFFENDER_BOOKINGS.OFFENDER_BOOK_ID value for mapping to a prisoner booking record in NOMIS",
            "format": "int64",
            "example": 456
          },
          "categoryCode": {
            "type": "string",
            "description": "The NOMIS REFERENCE_CODES.CODE (DOMAIN = 'INT_SCH_RSN') value for mapping to NOMIS",
            "example": "CHAP"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment instance. Used as part of the appointment name with the\n    format \"Appointment description (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID value for mapping to NOMIS.\n    Will be null if in cell = true\n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment instance is in cell rather than an internal prison location.\n    Internal location id should be null if in cell = true\n    ",
            "example": false
          },
          "appointmentDate": {
            "type": "string",
            "description": "The date of the appointment instance",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of the appointment instance",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the appointment instance",
            "format": "partial-time",
            "example": "10:30"
          },
          "extraInformation": {
            "type": "string",
            "description": "\n    Extra information for the prisoner attending this appointment instance.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment instance was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that created the appointment instance.\n    Usually a NOMIS username\n    ",
            "example": "AAA01U"
          },
          "updatedTime": {
            "type": "string",
            "description": "\n    The date and time this appointment instance was last changed.\n    Will be null if this appointment instance has not been altered since it was created\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that edited this appointment instance.\n    Will be null if this appointment instance has not been altered since it was created\n    ",
            "example": "AAA01U"
          }
        },
        "description": "\n  Represents an appointment instance for a specific prisoner to attend at the specified location, date and time.\n  The fully denormalised representation of the appointment series, appointments and attendees equivalent to a row in\n  the NOMIS OFFENDER_IND_SCHEDULES table.\n  Appointment instances do not exist as database records and are the product of the join between appointment attendees,\n  appointments and appointment series. \n  The appointment attendee id is used for the appointment instance id as there is a one to one relationship between an\n  appointment attendee and appointment instances.\n  Appointment instances are used primarily for the one way sync to NOMIS.\n  "
      },
      "EventAcknowledgeRequest": {
        "required": [
          "eventReviewIds"
        ],
        "type": "object",
        "properties": {
          "eventReviewIds": {
            "type": "array",
            "description": "The list of IDs to acknowledge",
            "example": [
              3,
              5,
              6
            ],
            "items": {
              "type": "integer",
              "description": "The list of IDs to acknowledge",
              "format": "int64"
            }
          }
        },
        "description": "The prisoner allocation request details"
      },
      "AuditRecordSearchFilters": {
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string",
            "description": "The code of the prison",
            "example": "PVI"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number",
            "example": "A1234AA"
          },
          "username": {
            "type": "string",
            "description": "The username of the logged-in user",
            "example": "JONESA"
          },
          "auditType": {
            "type": "string",
            "description": "The top-level audit category",
            "example": "ACTIVITY",
            "enum": [
              "PRISONER",
              "ACTIVITY",
              "APPOINTMENT"
            ]
          },
          "auditEventType": {
            "type": "string",
            "description": "The specific event type",
            "example": "ACTIVITY_CREATED",
            "enum": [
              "ACTIVITY_CREATED",
              "ACTIVITY_UPDATED",
              "APPOINTMENT_CANCELLED",
              "APPOINTMENT_CANCELLED_ON_TRANSFER",
              "APPOINTMENT_SERIES_CREATED",
              "APPOINTMENT_DELETED",
              "APPOINTMENT_EDITED",
              "BONUS_PAYMENT_MADE_FOR_ACTIVITY_ATTENDANCE",
              "APPOINTMENT_SET_CREATED",
              "INCENTIVE_LEVEL_WARNING_GIVEN_FOR_ACTIVITY_ATTENDANCE",
              "PRISONER_ACCEPTED_FROM_WAITING_LIST",
              "PRISONER_ADDED_TO_WAITING_LIST",
              "PRISONER_ALLOCATED",
              "PRISONER_DEALLOCATED",
              "PRISONER_DECLINED_FROM_WAITING_LIST",
              "PRISONER_SUSPENDED_FROM_ACTIVITY",
              "PRISONER_UNSUSPENDED_FROM_ACTIVITY"
            ]
          },
          "startTime": {
            "type": "string",
            "description": "The date and time on or after which to search for events",
            "format": "date-time"
          },
          "endTime": {
            "type": "string",
            "description": "The date and time on or before which to search for events",
            "format": "date-time"
          },
          "activityId": {
            "type": "integer",
            "description": "The ID of the activity",
            "format": "int64",
            "example": 123456
          },
          "scheduleId": {
            "type": "integer",
            "description": "The ID of the activity schedule",
            "format": "int64",
            "example": 123456
          }
        },
        "description": "Set of search filters for searching audit records"
      },
      "LocalAuditRecord": {
        "required": [
          "auditEventType",
          "auditType",
          "localAuditId",
          "message",
          "prisonCode",
          "recordedTime",
          "username"
        ],
        "type": "object",
        "properties": {
          "localAuditId": {
            "type": "integer",
            "description": "The internally-generated ID for this audit record",
            "format": "int64",
            "example": 123456
          },
          "username": {
            "type": "string",
            "description": "The username of the logg-in user that triggered this event",
            "example": "JONESA"
          },
          "auditType": {
            "type": "string",
            "description": "The top-level audit category",
            "example": "ACTIVITY",
            "enum": [
              "PRISONER",
              "ACTIVITY",
              "APPOINTMENT"
            ]
          },
          "auditEventType": {
            "type": "string",
            "description": "The specific event type",
            "example": "ACTIVITY_CREATED",
            "enum": [
              "ACTIVITY_CREATED",
              "ACTIVITY_UPDATED",
              "APPOINTMENT_CANCELLED",
              "APPOINTMENT_CANCELLED_ON_TRANSFER",
              "APPOINTMENT_SERIES_CREATED",
              "APPOINTMENT_DELETED",
              "APPOINTMENT_EDITED",
              "BONUS_PAYMENT_MADE_FOR_ACTIVITY_ATTENDANCE",
              "APPOINTMENT_SET_CREATED",
              "INCENTIVE_LEVEL_WARNING_GIVEN_FOR_ACTIVITY_ATTENDANCE",
              "PRISONER_ACCEPTED_FROM_WAITING_LIST",
              "PRISONER_ADDED_TO_WAITING_LIST",
              "PRISONER_ALLOCATED",
              "PRISONER_DEALLOCATED",
              "PRISONER_DECLINED_FROM_WAITING_LIST",
              "PRISONER_SUSPENDED_FROM_ACTIVITY",
              "PRISONER_UNSUSPENDED_FROM_ACTIVITY"
            ]
          },
          "recordedTime": {
            "type": "string",
            "description": "The date and time at which this event occurred",
            "format": "date-time"
          },
          "prisonCode": {
            "type": "string",
            "description": "The code of the prison to which the event relates",
            "example": "PVI"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number (if any) to which the event relates",
            "example": "A1234AA"
          },
          "activityId": {
            "type": "integer",
            "description": "The ID of the activity (if any) to which the event relates",
            "format": "int64",
            "example": 123456
          },
          "activityScheduleId": {
            "type": "integer",
            "description": "The ID of the activity schedule (if any) to which the event relates",
            "format": "int64",
            "example": 123456
          },
          "message": {
            "type": "string",
            "description": "A descriptive message of the event",
            "example": "An activity called 'Some Activity'(1) with category C and starting on 2023-03-23 at prison PBI was created. Event created on 2023-03-22 at 09:00:03 by Bob."
          }
        },
        "description": "Describes a system even that has been recorded for audit purposes"
      },
      "LocalAuditSearchResults": {
        "required": [
          "content",
          "pageNumber",
          "totalPages"
        ],
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "description": "The matching records",
            "items": {
              "$ref": "#/components/schemas/LocalAuditRecord"
            }
          },
          "pageNumber": {
            "type": "integer",
            "description": "The current page number",
            "format": "int32",
            "example": 0
          },
          "totalPages": {
            "type": "integer",
            "description": "The total number of pages",
            "format": "int32",
            "example": 5
          }
        },
        "description": "The result of an audit record search"
      },
      "AppointmentSearchRequest": {
        "required": [
          "startDate"
        ],
        "type": "object",
        "properties": {
          "appointmentType": {
            "type": "string",
            "description": "\n    The appointment type (INDIVIDUAL or GROUP) to match with the appointment series. Will restrict the search results to\n    appointments that are part of a series with the matching type when this search parameter is supplied.\n    ",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "startDate": {
            "type": "string",
            "description": "\n    The start date to match with the appointments. Will restrict the search results to appointments\n    that have the matching start date when this search parameter is supplied but no end date is supplied.\n    When an end date is also supplied, the search uses a date range and will restrict the search results to\n    appointments that have a start date within the date range.\n    ",
            "format": "date"
          },
          "endDate": {
            "type": "string",
            "description": "\n    The end date of the date range to match with the appointments. Start date must be supplied if an end date\n    is specified. Will restrict the search results to appointments that have a start date within the date range.\n    ",
            "format": "date"
          },
          "timeSlot": {
            "type": "string",
            "description": "\n    The time slot to match with the appointments. Will restrict the search results to appointments that have a start\n    time between the times defined by the prison for that time slot when this search parameter is supplied.\n    ",
            "example": "PM",
            "enum": [
              "AM",
              "PM",
              "ED"
            ]
          },
          "categoryCode": {
            "type": "string",
            "description": "\n    The NOMIS reference code to match with the appointments. Will restrict the search results to appointments\n    that have the matching category code when this search parameter is supplied.\n    ",
            "example": "GYMW"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS internal location id to match with the appointments. Will restrict the search results to\n    appointments that have the matching internal location id when this search parameter is supplied.\n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    The in cell flag value to match with the appointments. Will restrict the search results to appointments\n    that have the matching in cell value when this search parameter is supplied.\n    ",
            "example": false
          },
          "prisonerNumbers": {
            "type": "array",
            "description": "\n    The allocated prisoner or prisoners to match with the appointments. Will restrict the search results to\n    appointments that have the at least one of the supplied prisoner numbers attending when this search parameter\n    is supplied.\n    ",
            "example": [
              "A1234BC"
            ],
            "items": {
              "type": "string",
              "description": "\n    The allocated prisoner or prisoners to match with the appointments. Will restrict the search results to\n    appointments that have the at least one of the supplied prisoner numbers attending when this search parameter\n    is supplied.\n    ",
              "example": "[\"A1234BC\"]"
            }
          },
          "createdBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth to match with the appointments. Will restrict the\n    search results to appointments that were created by this username when this search parameter is supplied.\n    ",
            "example": "AAA01U"
          }
        },
        "description": "The search parameters to use to filter appointments"
      },
      "AppointmentAttendeeSearchResult": {
        "required": [
          "appointmentAttendeeId",
          "bookingId",
          "prisonerNumber"
        ],
        "type": "object",
        "properties": {
          "appointmentAttendeeId": {
            "type": "integer",
            "description": "\n    The internally generated identifier for this prisoner attending a specific appointment in an appointment series or set.\n    N.B. this is used as the appointment instance id due to there being a one to one relationship between an appointment\n    attendee and appointment instances.\n    ",
            "format": "int64",
            "example": 123456
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The NOMIS OFFENDERS.OFFENDER_ID_DISPLAY value for mapping to a prisoner record in NOMIS",
            "example": "A1234BC"
          },
          "bookingId": {
            "type": "integer",
            "description": "The NOMIS OFFENDER_BOOKINGS.OFFENDER_BOOK_ID value for mapping to a prisoner booking record in NOMIS",
            "format": "int64",
            "example": 456
          }
        },
        "description": "\n  Summary search result details of a specific appointment attendee found via search. Contains properties needed to\n  make additional API calls and to populate a table of search results.\n  "
      },
      "AppointmentCategorySummary": {
        "required": [
          "code",
          "description"
        ],
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The NOMIS REFERENCE_CODES.CODE (DOMAIN = 'INT_SCH_RSN') value for mapping to NOMIS",
            "example": "CHAP"
          },
          "description": {
            "type": "string",
            "description": "The description of the appointment category",
            "example": "Chaplaincy"
          }
        },
        "description": "\n  Summarises an appointment category for display purposes. Contains only properties needed to make additional API calls\n  and to display.\n  "
      },
      "AppointmentLocationSummary": {
        "required": [
          "description",
          "id",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The NOMIS AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID value for mapping to NOMIS.",
            "format": "int64",
            "example": 27
          },
          "prisonCode": {
            "type": "string",
            "description": "\n    The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS.\n    ",
            "example": "SKI"
          },
          "description": {
            "type": "string",
            "description": "The description of the appointment location. Mapped from AGENCY_INTERNAL_LOCATIONS.USER_DESC",
            "example": "Chapel"
          }
        },
        "description": "\n  Summarises an appointment location for display purposes. Contains only properties needed to make additional API calls\n  and to display. NOMIS is the current system of record for appointment locations and they are managed there.\n  "
      },
      "AppointmentSearchResult": {
        "required": [
          "appointmentId",
          "appointmentName",
          "appointmentSeriesId",
          "appointmentType",
          "attendees",
          "category",
          "inCell",
          "isCancelled",
          "isEdited",
          "isExpired",
          "isRepeat",
          "maxSequenceNumber",
          "prisonCode",
          "sequenceNumber",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "appointmentSeriesId": {
            "type": "integer",
            "description": "The internally generated identifier for the appointment series",
            "format": "int64",
            "example": 12345
          },
          "appointmentId": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment",
            "format": "int64",
            "example": 123456
          },
          "appointmentType": {
            "type": "string",
            "description": "The type of the appointment series (INDIVIDUAL or GROUP)",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "prisonCode": {
            "type": "string",
            "description": "\n    The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS.\n    ",
            "example": "SKI"
          },
          "appointmentName": {
            "type": "string",
            "description": "\n    The appointment's name combining the optional custom name with the category description. If custom name has been\n    specified, the name format will be \"Custom name (Category description)\" \n    "
          },
          "attendees": {
            "type": "array",
            "description": "\n    The prisoner or prisoners attending this appointment. Appointments of type INDIVIDUAL will have one\n    prisoner attending to each appointment. Appointments of type GROUP can have more than one prisoner\n    attending each appointment\n    ",
            "items": {
              "$ref": "#/components/schemas/AppointmentAttendeeSearchResult"
            }
          },
          "category": {
            "$ref": "#/components/schemas/AppointmentCategorySummary"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocation": {
            "$ref": "#/components/schemas/AppointmentLocationSummary"
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment is in cell rather than an internal prison location.\n    Internal location will be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date this appointment is taking place on",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of this appointment",
            "format": "partial-time",
            "example": "13:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of this appointment",
            "format": "partial-time",
            "example": "13:30"
          },
          "isRepeat": {
            "type": "boolean",
            "description": "Indicates whether the appointment series was specified to repeat via its schedule",
            "example": false
          },
          "sequenceNumber": {
            "type": "integer",
            "description": "The sequence number of this appointment within the appointment series",
            "format": "int32",
            "example": 3
          },
          "maxSequenceNumber": {
            "type": "integer",
            "description": "The sequence number of the final appointment within the appointment series",
            "format": "int32",
            "example": 6
          },
          "isEdited": {
            "type": "boolean",
            "description": "Indicates whether this appointment has been changed from its original state",
            "example": false
          },
          "isCancelled": {
            "type": "boolean",
            "description": "Indicates whether this appointment has been cancelled",
            "example": false
          },
          "isExpired": {
            "type": "boolean",
            "description": "Indicates whether this appointment has expired",
            "example": false
          }
        },
        "description": "\n  Summary search result details of a specific appointment found via search. Contains properties needed to\n  make additional API calls and to populate a table of search results.\n  "
      },
      "AppointmentSetAppointment": {
        "required": [
          "endTime",
          "prisonerNumber",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner attending the appointment",
            "example": "A1234BC"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of the appointment",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the appointment",
            "format": "partial-time",
            "example": "10:30"
          },
          "extraInformation": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "\n    Extra information for the prisoner or prisoners attending the appointment. Shown only on the appointments details\n    page and on printed movement slips. Wing staff will be notified there is extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          }
        },
        "description": "\n    The list of appointments to create\n    "
      },
      "AppointmentSetCreateRequest": {
        "required": [
          "appointments",
          "categoryCode",
          "inCell",
          "prisonCode",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS prison code where these appointments takes place",
            "example": "PVI"
          },
          "categoryCode": {
            "type": "string",
            "description": "The NOMIS reference code for these appointments. Must exist and be active",
            "example": "CHAP"
          },
          "customName": {
            "maxLength": 40,
            "minLength": 0,
            "type": "string",
            "description": "\n    Free text name further describing the appointment series. Will be used to create the appointment name using the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS internal location id within the specified prison. This must be supplied if inCell is false.\n    The internal location id must exist, must be within the prison specified by the prisonCode property and be active. \n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointments is in cell rather than an internal prison location.\n    Internal location id will be ignored if inCell is true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date of the appointments",
            "format": "date"
          },
          "appointments": {
            "type": "array",
            "description": "\n    The list of appointments to create\n    ",
            "items": {
              "$ref": "#/components/schemas/AppointmentSetAppointment"
            }
          }
        },
        "description": "The create request with the new appointment set details"
      },
      "AppointmentSet": {
        "required": [
          "appointments",
          "categoryCode",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "prisonCode",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment set",
            "format": "int64",
            "example": 12345
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "categoryCode": {
            "type": "string",
            "description": "The NOMIS REFERENCE_CODES.CODE (DOMAIN = 'INT_SCH_RSN') value for mapping to NOMIS",
            "example": "CHAP"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment set. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID value for mapping to NOMIS.\n    Will be null if in cell = true\n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment set is in cell rather than an internal prison location.\n    Internal location id should be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date of the first appointment in each appointment series in the set",
            "format": "date"
          },
          "appointments": {
            "type": "array",
            "description": "The appointments in the set",
            "items": {
              "$ref": "#/components/schemas/Appointment"
            }
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment set was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "\n    The username of the user authenticated via HMPPS auth that created this appointment set.\n    Usually a NOMIS username\n    ",
            "example": "AAA01U"
          }
        },
        "description": "\n  Described on the UI as an \"Appointment set\" or \"set of back-to-back appointments\".\n  Contains the initial property values common to all appointment series and appointments in the set.\n  The properties at this level cannot be changed via the API.\n  "
      },
      "AppointmentSeriesCreateRequest": {
        "required": [
          "appointmentType",
          "categoryCode",
          "endTime",
          "inCell",
          "prisonCode",
          "prisonerNumbers",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "appointmentType": {
            "type": "string",
            "description": "The appointment type (INDIVIDUAL or GROUP)",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "prisonCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS prison code where this appointment series takes place",
            "example": "PVI"
          },
          "prisonerNumbers": {
            "type": "array",
            "description": "The prisoner or prisoners attending the appointment or appointments in the series",
            "example": [
              "A1234BC"
            ],
            "items": {
              "type": "string",
              "description": "The prisoner or prisoners attending the appointment or appointments in the series",
              "example": "[\"A1234BC\"]"
            }
          },
          "categoryCode": {
            "type": "string",
            "description": "The NOMIS reference code for this appointment. Must exist and be active",
            "example": "CHAP"
          },
          "customName": {
            "maxLength": 40,
            "minLength": 0,
            "type": "string",
            "description": "\n    Free text name further describing the appointment series. Will be used to create the appointment name using the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The NOMIS internal location id within the specified prison. This must be supplied if inCell is false.\n    The internal location id must exist, must be within the prison specified by the prisonCode property and be active. \n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment series is in cell rather than an internal prison location.\n    Internal location id will be ignored if inCell is true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date of the first appointment in the series",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of the appointment or appointments in the series",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the appointment or appointments in the series",
            "format": "partial-time",
            "example": "10:30"
          },
          "schedule": {
            "$ref": "#/components/schemas/AppointmentSeriesSchedule"
          },
          "extraInformation": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "\n    Extra information for the prisoner or prisoners attending the appointment or appointments in the series.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          }
        },
        "description": "The create request with the new appointment series details"
      },
      "WaitingListApplicationRequest": {
        "required": [
          "activityScheduleId",
          "applicationDate",
          "prisonerNumber",
          "requestedBy",
          "status"
        ],
        "type": "object",
        "properties": {
          "prisonerNumber": {
            "maxLength": 7,
            "minLength": 0,
            "type": "string",
            "description": "The prisoner number (NOMIS ID)",
            "example": "A1234AA"
          },
          "activityScheduleId": {
            "type": "integer",
            "description": "The internally-generated ID for this activity schedule (assumes 1-2-1 with activity)",
            "format": "int64",
            "example": 7654321
          },
          "applicationDate": {
            "type": "string",
            "description": "The past or present date on which the waiting list application was requested",
            "format": "date",
            "example": "2023-06-23"
          },
          "requestedBy": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The person who made the request",
            "example": "Fred Bloggs"
          },
          "comments": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "description": "Any particular comments related to the waiting list request",
            "example": "The prisoner has specifically requested to attend this activity"
          },
          "status": {
            "type": "string",
            "description": "The status of the application. Only PENDING, APPROVED or DECLINED are allowed when creating.",
            "example": "PENDING",
            "enum": [
              "PENDING",
              "APPROVED",
              "DECLINED",
              "ALLOCATED",
              "REMOVED"
            ]
          }
        },
        "description": "The request with the prisoner waiting list details"
      },
      "ActivityCreateRequest": {
        "required": [
          "attendanceRequired",
          "categoryId",
          "eligibilityRuleIds",
          "inCell",
          "minimumEducationLevel",
          "minimumIncentiveLevel",
          "minimumIncentiveNomisCode",
          "offWing",
          "onWing",
          "outsideWork",
          "pay",
          "pieceWork",
          "prisonCode",
          "riskLevel",
          "runsOnBankHoliday",
          "scheduleWeeks",
          "slots",
          "startDate",
          "summary"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "PVI"
          },
          "attendanceRequired": {
            "type": "boolean",
            "description": "Flag to indicate if attendance is required for this activity, e.g. gym induction might not be mandatory attendance",
            "example": false
          },
          "inCell": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is in cell",
            "example": false
          },
          "onWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is on wing",
            "example": false
          },
          "offWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is off wing and not in a listed location",
            "example": false
          },
          "pieceWork": {
            "type": "boolean",
            "description": "Flag to indicate if the activity is piece work",
            "example": false
          },
          "outsideWork": {
            "type": "boolean",
            "description": "Flag to indicate if the activity carried out outside of the prison",
            "example": false
          },
          "payPerSession": {
            "type": "string",
            "description": "Indicates whether the activity session is a (F)ull day or a (H)alf day (for payment purposes). ",
            "example": "H",
            "enum": [
              "H",
              "F"
            ]
          },
          "summary": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "A brief summary description of this activity for use in forms and lists",
            "example": "Maths level 1"
          },
          "description": {
            "maxLength": 300,
            "minLength": 0,
            "type": "string",
            "description": "A detailed description for this activity",
            "example": "A basic maths course suitable for introduction to the subject"
          },
          "categoryId": {
            "type": "integer",
            "description": "The category id for this activity, one of the high-level categories",
            "format": "int64"
          },
          "tierId": {
            "type": "integer",
            "description": "The tier id for this activity, as defined by the Future Prison Regime team",
            "format": "int64",
            "example": 1
          },
          "eligibilityRuleIds": {
            "type": "array",
            "description": "A list of eligibility rules ids which apply to this activity.",
            "example": [
              1,
              2,
              3
            ],
            "items": {
              "type": "integer",
              "description": "A list of eligibility rules ids which apply to this activity.",
              "format": "int64"
            }
          },
          "pay": {
            "type": "array",
            "description": "The list of pay rates that can apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityPayCreateRequest"
            }
          },
          "riskLevel": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The most recent risk assessment level for this activity",
            "example": "high"
          },
          "minimumIncentiveNomisCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS code for the minimum incentive/earned privilege level for this activity",
            "example": "BAS"
          },
          "minimumIncentiveLevel": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The minimum incentive/earned privilege level for this activity",
            "example": "Basic"
          },
          "startDate": {
            "type": "string",
            "description": "The future date on which this activity will start. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-12-23"
          },
          "endDate": {
            "type": "string",
            "description": "The date on which this activity ends. From this date, there will be no more planned instances of the activity. If null, the activity has no end date and will be scheduled indefinitely.",
            "format": "date",
            "example": "2022-12-23"
          },
          "minimumEducationLevel": {
            "type": "array",
            "description": "The list of minimum education levels that apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityMinimumEducationLevelCreateRequest"
            }
          },
          "locationId": {
            "type": "integer",
            "description": "The optional NOMIS internal location id for this schedule",
            "format": "int64",
            "example": 98877667
          },
          "capacity": {
            "type": "integer",
            "description": "The maximum number of prisoners allowed for a scheduled instance of this schedule",
            "format": "int32",
            "example": 10
          },
          "scheduleWeeks": {
            "maximum": 2,
            "minimum": 1,
            "type": "integer",
            "description": "The number of weeks in the schedule",
            "format": "int32",
            "example": 1
          },
          "slots": {
            "type": "array",
            "description": "The days and times an activity schedule can take place",
            "items": {
              "$ref": "#/components/schemas/Slot"
            }
          },
          "runsOnBankHoliday": {
            "type": "boolean",
            "description": "Whether the schedule runs on bank holidays",
            "example": true
          }
        },
        "description": "The create request with the new activity details"
      },
      "ActivityMinimumEducationLevelCreateRequest": {
        "required": [
          "educationLevelCode",
          "educationLevelDescription",
          "studyAreaCode",
          "studyAreaDescription"
        ],
        "type": "object",
        "properties": {
          "educationLevelCode": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The Education level code",
            "example": "1"
          },
          "educationLevelDescription": {
            "maxLength": 60,
            "minLength": 0,
            "type": "string",
            "description": "The Education level description",
            "example": "Reading Measure 1.0"
          },
          "studyAreaCode": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The study area code",
            "example": "ENGLA"
          },
          "studyAreaDescription": {
            "maxLength": 60,
            "minLength": 0,
            "type": "string",
            "description": "The study area description",
            "example": "English Language"
          }
        },
        "description": "Describes the minimum education levels to be created for an activity"
      },
      "ActivityPayCreateRequest": {
        "required": [
          "incentiveLevel",
          "incentiveNomisCode",
          "payBandId"
        ],
        "type": "object",
        "properties": {
          "incentiveNomisCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS code for the incentive/earned privilege level",
            "example": "BAS"
          },
          "incentiveLevel": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "The incentive/earned privilege level",
            "example": "Basic"
          },
          "payBandId": {
            "type": "integer",
            "description": "The id of the prison pay band used",
            "format": "int64",
            "example": 1
          },
          "rate": {
            "type": "integer",
            "description": "The earning rate for one half day session for someone of this incentive level and pay band (in pence)",
            "format": "int32",
            "example": 150
          },
          "pieceRate": {
            "type": "integer",
            "description": "Where payment is related to produced amounts of a product, this indicates the payment rate (in pence) per pieceRateItems produced",
            "format": "int32",
            "example": 150
          },
          "pieceRateItems": {
            "type": "integer",
            "description": "Where payment is related to the number of items produced in a batch of a product, this is the batch size that attract 1 x pieceRate",
            "format": "int32",
            "example": 10
          }
        },
        "description": "Describes the pay rates and bands to be created for an activity"
      },
      "Slot": {
        "required": [
          "daysOfWeek",
          "friday",
          "monday",
          "saturday",
          "sunday",
          "thursday",
          "timeSlot",
          "tuesday",
          "wednesday",
          "weekNumber"
        ],
        "type": "object",
        "properties": {
          "weekNumber": {
            "type": "integer",
            "description": "The week of the schedule this slot relates to",
            "format": "int32",
            "example": 1
          },
          "timeSlot": {
            "type": "string",
            "description": "The time slot of the activity schedule, morning afternoon or evening e.g. AM, PM or ED",
            "example": "AM"
          },
          "monday": {
            "type": "boolean"
          },
          "tuesday": {
            "type": "boolean"
          },
          "wednesday": {
            "type": "boolean"
          },
          "thursday": {
            "type": "boolean"
          },
          "friday": {
            "type": "boolean"
          },
          "saturday": {
            "type": "boolean"
          },
          "sunday": {
            "type": "boolean"
          },
          "daysOfWeek": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "MONDAY",
                "TUESDAY",
                "WEDNESDAY",
                "THURSDAY",
                "FRIDAY",
                "SATURDAY",
                "SUNDAY"
              ]
            }
          }
        },
        "description": "\n    Describes time slot and day (or days) the scheduled activity would run. At least one day must be specified.\n    \n    e.g. 'AM, Monday, Wednesday and Friday' or 'PM Tuesday, Thursday, Sunday'\n  "
      },
      "Activity": {
        "required": [
          "attendanceRequired",
          "category",
          "createdBy",
          "createdTime",
          "eligibilityRules",
          "id",
          "inCell",
          "minimumEducationLevel",
          "minimumIncentiveLevel",
          "minimumIncentiveNomisCode",
          "offWing",
          "onWing",
          "outsideWork",
          "pay",
          "payPerSession",
          "pieceWork",
          "prisonCode",
          "riskLevel",
          "schedules",
          "startDate",
          "summary"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity",
            "format": "int64",
            "example": 123456
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "PVI"
          },
          "attendanceRequired": {
            "type": "boolean",
            "description": "Flag to indicate if attendance is required for this activity, e.g. gym induction might not be mandatory attendance",
            "example": false
          },
          "inCell": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is in cell",
            "example": false
          },
          "onWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is on wing",
            "example": false
          },
          "offWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is off wing and not in a listed location",
            "example": false
          },
          "pieceWork": {
            "type": "boolean",
            "description": "Flag to indicate if the activity is piece work",
            "example": false
          },
          "outsideWork": {
            "type": "boolean",
            "description": "Flag to indicate if the activity carried out outside of the prison",
            "example": false
          },
          "payPerSession": {
            "type": "string",
            "description": "Indicates whether the activity session is a (F)ull day or a (H)alf day (for payment purposes). ",
            "example": "H",
            "enum": [
              "H",
              "F"
            ]
          },
          "summary": {
            "type": "string",
            "description": "A brief summary description of this activity for use in forms and lists",
            "example": "Maths level 1"
          },
          "description": {
            "type": "string",
            "description": "A detailed description for this activity",
            "example": "A basic maths course suitable for introduction to the subject"
          },
          "category": {
            "$ref": "#/components/schemas/ActivityCategory"
          },
          "tier": {
            "$ref": "#/components/schemas/ActivityTier"
          },
          "eligibilityRules": {
            "type": "array",
            "description": "A list of eligibility rules which apply to this activity. These can be positive (include) and negative (exclude)",
            "example": "[FEMALE_ONLY,AGED_18-25]",
            "items": {
              "$ref": "#/components/schemas/ActivityEligibility"
            }
          },
          "schedules": {
            "type": "array",
            "description": "A list of schedules for this activity. These contain the time slots / recurrence settings for instances of this activity.",
            "items": {
              "$ref": "#/components/schemas/ActivitySchedule"
            }
          },
          "pay": {
            "type": "array",
            "description": "The list of pay rates by incentive level and pay band that can apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityPay"
            }
          },
          "startDate": {
            "type": "string",
            "description": "The date on which this activity will start. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-09-21"
          },
          "endDate": {
            "type": "string",
            "description": "The date on which this activity ends. From this date, there will be no more planned instances of the activity. If null, the activity has no end date and will be scheduled indefinitely.",
            "format": "date",
            "example": "2022-12-21"
          },
          "riskLevel": {
            "type": "string",
            "description": "The most recent risk assessment level for this activity",
            "example": "high"
          },
          "minimumIncentiveNomisCode": {
            "type": "string",
            "description": "The NOMIS code for the minimum incentive/earned privilege level for this activity",
            "example": "BAS"
          },
          "minimumIncentiveLevel": {
            "type": "string",
            "description": "The minimum incentive/earned privilege level for this activity",
            "example": "Basic"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time when this activity was created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The person who created this activity",
            "example": "Adam Smith"
          },
          "updatedTime": {
            "type": "string",
            "description": "The date and time when this activity was updated",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "The person who updated this activity",
            "example": "Adam Smith"
          },
          "minimumEducationLevel": {
            "type": "array",
            "description": "The list of minimum education levels that can apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityMinimumEducationLevel"
            }
          }
        },
        "description": "Describes a top-level activity"
      },
      "ActivityCategory": {
        "required": [
          "code",
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated identifier for this activity category",
            "format": "int64",
            "example": 1
          },
          "code": {
            "type": "string",
            "description": "The activity category code",
            "example": "LEISURE_SOCIAL"
          },
          "name": {
            "type": "string",
            "description": "The name of the activity category",
            "example": "Leisure and social"
          },
          "description": {
            "type": "string",
            "description": "The description of the activity category",
            "example": "Such as association, library time and social clubs, like music or art"
          }
        },
        "description": "Describes a top-level activity category"
      },
      "ActivityEligibility": {
        "required": [
          "eligibility",
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internal ID of the activity that these rules apply to",
            "format": "int64",
            "example": 123456
          },
          "eligibility": {
            "$ref": "#/components/schemas/EligibilityRule"
          }
        },
        "description": "Describes an eligibility rule as applied to an activity",
        "example": "[FEMALE_ONLY,AGED_18-25]"
      },
      "ActivityLite": {
        "required": [
          "activityState",
          "allocated",
          "attendanceRequired",
          "capacity",
          "category",
          "createdTime",
          "id",
          "inCell",
          "minimumEducationLevel",
          "minimumIncentiveLevel",
          "minimumIncentiveNomisCode",
          "offWing",
          "onWing",
          "outsideWork",
          "payPerSession",
          "pieceWork",
          "prisonCode",
          "riskLevel",
          "summary"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity",
            "format": "int64",
            "example": 123456
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "PVI"
          },
          "attendanceRequired": {
            "type": "boolean",
            "description": "Flag to indicate if attendance is required for this activity, e.g. gym induction might not be mandatory attendance",
            "example": false
          },
          "inCell": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is in cell",
            "example": false
          },
          "onWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is on wing",
            "example": false
          },
          "offWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is off wing and not in a listed location",
            "example": false
          },
          "pieceWork": {
            "type": "boolean",
            "description": "Flag to indicate if the activity is piece work",
            "example": false
          },
          "outsideWork": {
            "type": "boolean",
            "description": "Flag to indicate if the activity carried out outside of the prison",
            "example": false
          },
          "payPerSession": {
            "type": "string",
            "description": "Indicates whether the activity session is a (F)ull day or a (H)alf day (for payment purposes). ",
            "example": "H",
            "enum": [
              "H",
              "F"
            ]
          },
          "summary": {
            "type": "string",
            "description": "A brief summary description of this activity for use in forms and lists",
            "example": "Maths level 1"
          },
          "description": {
            "type": "string",
            "description": "A detailed description for this activity",
            "example": "A basic maths course suitable for introduction to the subject"
          },
          "category": {
            "$ref": "#/components/schemas/ActivityCategory"
          },
          "riskLevel": {
            "type": "string",
            "description": "The most recent risk assessment level for this activity",
            "example": "high"
          },
          "minimumIncentiveNomisCode": {
            "type": "string",
            "description": "The NOMIS code for the minimum incentive/earned privilege level for this activity",
            "example": "BAS"
          },
          "minimumIncentiveLevel": {
            "type": "string",
            "description": "The minimum incentive/earned privilege level for this activity",
            "example": "Basic"
          },
          "minimumEducationLevel": {
            "type": "array",
            "description": "The list of minimum education levels that can apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityMinimumEducationLevel"
            }
          },
          "endDate": {
            "type": "string",
            "description": "The date on which this activity ends. From this date, there will be no more planned instances of the activity. If null, the activity has no end date and will be scheduled indefinitely.",
            "format": "date",
            "example": "2022-12-21"
          },
          "capacity": {
            "type": "integer",
            "description": "The capacity of the activity",
            "format": "int32"
          },
          "allocated": {
            "type": "integer",
            "description": "The number of prisoners currently allocated to the activity",
            "format": "int32"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time when this activity was created",
            "format": "date-time"
          },
          "activityState": {
            "type": "string",
            "description": "Whether the activity is live or archived",
            "example": "live",
            "enum": [
              "ARCHIVED",
              "LIVE"
            ]
          }
        },
        "description": "Describes a top-level activity"
      },
      "ActivityMinimumEducationLevel": {
        "required": [
          "educationLevelCode",
          "educationLevelDescription",
          "id",
          "studyAreaCode",
          "studyAreaDescription"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity minimum education level",
            "format": "int64",
            "example": 123456
          },
          "educationLevelCode": {
            "type": "string",
            "description": "The education level code",
            "example": "Basic"
          },
          "educationLevelDescription": {
            "type": "string",
            "description": "The education level description",
            "example": "Basic"
          },
          "studyAreaCode": {
            "type": "string",
            "description": "The study area code",
            "example": "ENGLA"
          },
          "studyAreaDescription": {
            "type": "string",
            "description": "The study area description",
            "example": "English Language"
          }
        },
        "description": "Describes the minimum education levels which apply to an activity"
      },
      "ActivityPay": {
        "required": [
          "id",
          "incentiveLevel",
          "incentiveNomisCode",
          "prisonPayBand"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity pay",
            "format": "int64",
            "example": 123456
          },
          "incentiveNomisCode": {
            "type": "string",
            "description": "The NOMIS code for the incentive/earned privilege level",
            "example": "BAS"
          },
          "incentiveLevel": {
            "type": "string",
            "description": "The incentive/earned privilege level",
            "example": "Basic"
          },
          "prisonPayBand": {
            "$ref": "#/components/schemas/PrisonPayBand"
          },
          "rate": {
            "type": "integer",
            "description": "The earning rate for one half day session for someone of this incentive level and pay band (in pence)",
            "format": "int32",
            "example": 150
          },
          "pieceRate": {
            "type": "integer",
            "description": "Where payment is related to produced amounts of a product, this indicates the payment rate (in pence) per pieceRateItems produced",
            "format": "int32",
            "example": 150
          },
          "pieceRateItems": {
            "type": "integer",
            "description": "Where payment is related to the number of items produced in a batch of a product, this is the batch size that attract 1 x pieceRate",
            "format": "int32",
            "example": 10
          }
        },
        "description": "Describes the pay rates and bands which apply to an activity"
      },
      "ActivitySchedule": {
        "required": [
          "activity",
          "allocations",
          "capacity",
          "description",
          "id",
          "instances",
          "runsOnBankHoliday",
          "scheduleWeeks",
          "slots",
          "startDate",
          "suspensions"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity schedule",
            "format": "int64",
            "example": 123456
          },
          "instances": {
            "type": "array",
            "description": "The planned instances associated with this activity schedule",
            "items": {
              "$ref": "#/components/schemas/ScheduledInstance"
            }
          },
          "allocations": {
            "type": "array",
            "description": "The list of allocated prisoners who are allocated to this schedule, at this time and location",
            "items": {
              "$ref": "#/components/schemas/Allocation"
            }
          },
          "description": {
            "type": "string",
            "description": "The description of this activity schedule",
            "example": "Entry level Maths 1"
          },
          "suspensions": {
            "type": "array",
            "description": "Indicates the dates between which the schedule has been suspended",
            "items": {
              "$ref": "#/components/schemas/Suspension"
            }
          },
          "internalLocation": {
            "$ref": "#/components/schemas/InternalLocation"
          },
          "capacity": {
            "type": "integer",
            "description": "The maximum number of prisoners allowed for a scheduled instance of this schedule",
            "format": "int32",
            "example": 10
          },
          "activity": {
            "$ref": "#/components/schemas/ActivityLite"
          },
          "scheduleWeeks": {
            "type": "integer",
            "description": "The number of weeks in the schedule",
            "format": "int32",
            "example": 1
          },
          "slots": {
            "type": "array",
            "description": "The slots associated with this activity schedule",
            "items": {
              "$ref": "#/components/schemas/ActivityScheduleSlot"
            }
          },
          "startDate": {
            "type": "string",
            "description": "The date on which this schedule will start. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-09-21"
          },
          "endDate": {
            "type": "string",
            "description": "The date on which this schedule will end. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-10-21"
          },
          "runsOnBankHoliday": {
            "type": "boolean",
            "description": "Whether the schedule runs on bank holidays",
            "example": true
          },
          "updatedTime": {
            "type": "string",
            "description": "The date and time when this activity schedule was updated",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "The person who updated this activity schedule",
            "example": "Adam Smith"
          }
        },
        "description": "\n  Describes the weekly schedule for an activity. There can be several of these defined for one activity.\n  An activity schedule describes when, during the week, an activity will be run and where.\n  e.g. Tuesday PM and Thursday AM - suitable for Houseblock 2 to attend.\n  e.g. Monday AM and Thursday PM - suitable for Houseblock 3 to attend.\n  "
      },
      "ActivityScheduleSlot": {
        "required": [
          "daysOfWeek",
          "endTime",
          "fridayFlag",
          "id",
          "mondayFlag",
          "saturdayFlag",
          "startTime",
          "sundayFlag",
          "thursdayFlag",
          "tuesdayFlag",
          "wednesdayFlag",
          "weekNumber"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity schedule slot",
            "format": "int64",
            "example": 123456
          },
          "weekNumber": {
            "type": "integer",
            "description": "The week of the schedule this slot relates to",
            "format": "int32",
            "example": 1
          },
          "startTime": {
            "type": "string",
            "description": "The time that any instances of this schedule slot will start",
            "format": "partial-time",
            "example": "9:00"
          },
          "endTime": {
            "type": "string",
            "description": "The time that any instances of this schedule slot will finish",
            "format": "partial-time",
            "example": "11:30"
          },
          "daysOfWeek": {
            "type": "array",
            "description": "The days of the week on which the schedule slot takes place",
            "example": "[Mon,Tue,Wed]",
            "items": {
              "type": "string",
              "description": "The days of the week on which the schedule slot takes place",
              "example": "[Mon,Tue,Wed]"
            }
          },
          "mondayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Monday",
            "example": true
          },
          "tuesdayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Tuesday",
            "example": true
          },
          "wednesdayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Wednesday",
            "example": true
          },
          "thursdayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Thursday",
            "example": false
          },
          "fridayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Friday",
            "example": false
          },
          "saturdayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Saturday",
            "example": false
          },
          "sundayFlag": {
            "type": "boolean",
            "description": "Indicates whether the schedule slot takes place on a Sunday",
            "example": false
          }
        },
        "description": "\n  Describes a slot for an activity schedule. There can be several of these defined for one activity schedule.\n  An activity schedule slot describes when, during the week, an activity will be run.\n  e.g. Tuesday PM on a Monday and Thursday.\n  "
      },
      "ActivityTier": {
        "required": [
          "code",
          "description",
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity tier",
            "format": "int64",
            "example": 123456
          },
          "code": {
            "type": "string",
            "description": "The code for this activity tier",
            "example": "Tier1"
          },
          "description": {
            "type": "string",
            "description": "The detailed description for this activity tier",
            "example": "Work, education and maintenance"
          }
        },
        "description": "An activity tier",
        "example": "Tier 1, Tier 2, Foundation"
      },
      "Attendance": {
        "required": [
          "attendanceHistory",
          "editable",
          "id",
          "prisonerNumber",
          "scheduleInstanceId",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this attendance",
            "format": "int64",
            "example": 123456
          },
          "scheduleInstanceId": {
            "type": "integer",
            "description": "The ID for scheduled instance for this attendance",
            "format": "int64",
            "example": 123456
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prison number this attendance record is for",
            "example": "A1234AA"
          },
          "attendanceReason": {
            "$ref": "#/components/schemas/AttendanceReason"
          },
          "comment": {
            "type": "string",
            "description": "Free text to allow comments to be put against the attendance",
            "example": "Prisoner was too unwell to attend the activity."
          },
          "recordedTime": {
            "type": "string",
            "description": "The date and time the attendance was updated",
            "format": "date-time"
          },
          "recordedBy": {
            "type": "string",
            "description": "The person who updated the attendance",
            "example": "A.JONES"
          },
          "status": {
            "type": "string",
            "description": "WAITING or COMPLETED",
            "example": "WAITING"
          },
          "payAmount": {
            "type": "integer",
            "description": "The amount in pence to pay the prisoner for the activity",
            "format": "int32",
            "example": 100
          },
          "bonusAmount": {
            "type": "integer",
            "description": "The bonus amount in pence to pay the prisoner for the activity",
            "format": "int32",
            "example": 50
          },
          "pieces": {
            "type": "integer",
            "format": "int32"
          },
          "issuePayment": {
            "type": "boolean",
            "description": "Should payment be issued for SICK, REST or OTHER",
            "example": true
          },
          "incentiveLevelWarningIssued": {
            "type": "boolean",
            "description": "Was an incentive level warning issued for REFUSED",
            "example": true
          },
          "otherAbsenceReason": {
            "type": "string",
            "description": "Free text to allow other reasons for non attendance against the attendance",
            "example": "Prisoner has a valid reason to miss the activity."
          },
          "caseNoteText": {
            "type": "string",
            "description": "Free text for any case note entered against the attendance record",
            "example": "Prisoner has refused to attend the activity without a valid reason to miss the activity."
          },
          "attendanceHistory": {
            "type": "array",
            "description": "The attendance history records for this attendance",
            "items": {
              "$ref": "#/components/schemas/AttendanceHistory"
            }
          },
          "editable": {
            "type": "boolean",
            "description": "Flag to show whether this attendance is editable",
            "example": true
          }
        },
        "description": "An attendance record for a prisoner, can be marked or unmarked"
      },
      "AttendanceHistory": {
        "required": [
          "id",
          "recordedBy",
          "recordedTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this attendance",
            "format": "int64",
            "example": 123456
          },
          "attendanceReason": {
            "$ref": "#/components/schemas/AttendanceReason"
          },
          "comment": {
            "type": "string",
            "description": "Free text to allow comments to be put against the attendance",
            "example": "Prisoner was too unwell to attend the activity."
          },
          "recordedTime": {
            "type": "string",
            "description": "The date and time the attendance was updated",
            "format": "date-time"
          },
          "recordedBy": {
            "type": "string",
            "description": "The person who updated the attendance",
            "example": "A.JONES"
          },
          "issuePayment": {
            "type": "boolean",
            "description": "Should payment be issued for SICK, REST or OTHER",
            "example": true
          },
          "incentiveLevelWarningIssued": {
            "type": "boolean",
            "description": "Was an incentive level warning issued for REFUSED",
            "example": true
          },
          "otherAbsenceReason": {
            "type": "string",
            "description": "Free text to allow other reasons for non attendance against the attendance",
            "example": "Prisoner has a valid reason to miss the activity."
          },
          "caseNoteText": {
            "type": "string",
            "description": "Free text for any case note entered against the attendance record",
            "example": "Prisoner has refused to attend the activity without a valid reason to miss the activity."
          }
        },
        "description": "An attendance record for a prisoner, can be marked or unmarked"
      },
      "AttendanceReason": {
        "required": [
          "attended",
          "captureCaseNote",
          "captureIncentiveLevelWarning",
          "captureMoreDetail",
          "captureOtherText",
          "capturePay",
          "code",
          "description",
          "displayInAbsence",
          "id",
          "notes"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this (non) attendance reason",
            "format": "int64",
            "example": 1
          },
          "code": {
            "type": "string",
            "description": "The code for the (non) attendance reason",
            "example": "SICK"
          },
          "description": {
            "type": "string",
            "description": "The description of the (non) attendance reason",
            "example": "Sick"
          },
          "attended": {
            "type": "boolean",
            "description": "A flag to show whether the reason is Attended (true) or Not Attended (false)",
            "example": true
          },
          "capturePay": {
            "type": "boolean",
            "description": "A flag to show whether or not to capture whether the prisoner should still be paid",
            "example": true
          },
          "captureMoreDetail": {
            "type": "boolean",
            "description": "A flag to show whether or not to capture more detail",
            "example": true
          },
          "captureCaseNote": {
            "type": "boolean",
            "description": "A flag to show whether or not to capture a case note",
            "example": true
          },
          "captureIncentiveLevelWarning": {
            "type": "boolean",
            "description": "A flag to show whether or not to capture whether an incentive level warning has been issued due to non attendance",
            "example": false
          },
          "captureOtherText": {
            "type": "boolean",
            "description": "A flag to show whether or not to capture other text",
            "example": false
          },
          "displayInAbsence": {
            "type": "boolean",
            "description": "A flag to show whether or not the reason should be displayed in the UI as an option for non attendance",
            "example": false
          },
          "displaySequence": {
            "type": "number",
            "description": "The sequence in which the reason should be displayed in the UI",
            "example": 1
          },
          "notes": {
            "type": "string",
            "description": "Any internal notes to explain the use of the reason",
            "example": "Maps to ACCAB in NOMIS"
          }
        },
        "description": "The reason for attending or not"
      },
      "EligibilityRule": {
        "required": [
          "code",
          "description",
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this eligibility rule",
            "format": "int64",
            "example": 123456
          },
          "code": {
            "type": "string",
            "description": "The code for this eligibility rule",
            "example": "OVER_21"
          },
          "description": {
            "type": "string",
            "description": "The description for this eligibility rule",
            "example": "The prisoner must be over 21 to attend"
          }
        },
        "description": "Defines one eligibility rule"
      },
      "InternalLocation": {
        "required": [
          "code",
          "description",
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The NOMIS internal location id for this schedule",
            "format": "int32",
            "example": 98877667
          },
          "code": {
            "type": "string",
            "description": "The NOMIS internal location code for this schedule",
            "example": "EDU-ROOM-1"
          },
          "description": {
            "type": "string",
            "description": "The NOMIS internal location description for this schedule",
            "example": "Education - R1"
          }
        },
        "description": "An internal NOMIS location for an activity to take place",
        "example": 98877667
      },
      "ScheduledInstance": {
        "required": [
          "attendances",
          "cancelled",
          "date",
          "endTime",
          "id",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this scheduled instance",
            "format": "int64",
            "example": 123456
          },
          "date": {
            "type": "string",
            "description": "The specific date for this scheduled instance",
            "format": "date",
            "example": "2022-09-30"
          },
          "startTime": {
            "type": "string",
            "description": "The start time for this scheduled instance",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time for this scheduled instance",
            "format": "partial-time",
            "example": "10:00"
          },
          "cancelled": {
            "type": "boolean",
            "description": "Flag to indicate if this scheduled instance has been cancelled since being scheduled",
            "example": false
          },
          "cancelledTime": {
            "type": "string",
            "description": "Date and time this scheduled instance was cancelled (or null if not cancelled)",
            "format": "date-time"
          },
          "cancelledBy": {
            "type": "string",
            "description": "The person who cancelled this scheduled instance (or null if not cancelled)",
            "example": "Adam Smith"
          },
          "attendances": {
            "type": "array",
            "description": "The attendance records for this scheduled instance",
            "items": {
              "$ref": "#/components/schemas/Attendance"
            }
          }
        },
        "description": "Describes one instance of an activity schedule"
      },
      "Suspension": {
        "required": [
          "suspendedFrom"
        ],
        "type": "object",
        "properties": {
          "suspendedFrom": {
            "type": "string",
            "description": "The date from which the activity schedule was suspended",
            "format": "date",
            "example": "2022-09-02"
          },
          "suspendedUntil": {
            "type": "string",
            "description": "The date until which the activity schedule was suspended. If null, the schedule is suspended indefinitely",
            "format": "date",
            "example": "2022-09-02"
          }
        },
        "description": "Describes the period of time an activity schedule has been suspended"
      },
      "WaitingListApplicationUpdateRequest": {
        "type": "object",
        "properties": {
          "applicationDate": {
            "type": "string",
            "description": "\n      The updated past or present date on which the waiting list application was requested.\n      \n      Note this cannot be after the date the waiting list application was first made.\n    ",
            "format": "date",
            "example": "2023-06-23"
          },
          "requestedBy": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "The updated person who made the request",
            "example": "Fred Bloggs"
          },
          "comments": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "description": "The updated comments related to the waiting list request",
            "example": "The prisoner has specifically requested to attend this activity"
          },
          "status": {
            "type": "string",
            "description": "The updated status of the application. Only PENDING, APPROVED or DECLINED are allowed when updating.",
            "example": "PENDING",
            "enum": [
              "PENDING",
              "APPROVED",
              "DECLINED",
              "ALLOCATED",
              "REMOVED"
            ]
          }
        },
        "description": "The update request with the waiting list changes"
      },
      "WaitingListApplication": {
        "required": [
          "activityId",
          "bookingId",
          "createdBy",
          "creationTime",
          "id",
          "prisonCode",
          "prisonerNumber",
          "requestedBy",
          "requestedDate",
          "scheduleId",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this waiting list",
            "format": "int64",
            "example": 111111
          },
          "activityId": {
            "type": "integer",
            "description": "The internally-generated ID for the associated activity",
            "format": "int64",
            "example": 1000
          },
          "scheduleId": {
            "type": "integer",
            "description": "The internally-generated ID for the associated activity schedule",
            "format": "int64",
            "example": 222222
          },
          "allocationId": {
            "type": "integer",
            "description": "The internally-generated ID for the associated allocation",
            "format": "int64",
            "example": 333333
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code for this waiting list",
            "example": "PVI"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number (NOMIS ID) for this waiting list",
            "example": "A1234AA"
          },
          "bookingId": {
            "type": "integer",
            "description": "The prisoner booking id (NOMIS ID) for this waiting list",
            "format": "int64",
            "example": 10001
          },
          "status": {
            "type": "string",
            "description": "The status of this waiting list",
            "example": "PENDING",
            "enum": [
              "PENDING",
              "APPROVED",
              "DECLINED",
              "ALLOCATED",
              "REMOVED"
            ]
          },
          "statusUpdatedTime": {
            "type": "string",
            "description": "The date and time the waiting list status was last updated",
            "format": "date-time"
          },
          "requestedDate": {
            "type": "string",
            "description": "The past or present date on which the waiting list was requested",
            "format": "date",
            "example": "2023-06-23"
          },
          "requestedBy": {
            "type": "string",
            "description": "The person who made the request for this waiting list",
            "example": "Fred Bloggs"
          },
          "comments": {
            "type": "string",
            "description": "Any particular comments related to this waiting list",
            "example": "The prisoner has specifically requested to attend this activity"
          },
          "declinedReason": {
            "type": "string",
            "description": "The reason for the waiting list request to be declined (null if status is not declined)",
            "example": "The prisoner has specifically requested to attend this activity"
          },
          "creationTime": {
            "type": "string",
            "description": "The date and time the waiting list was first created",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string",
            "description": "The person who created the waiting list i.e the user at the time",
            "example": "Jon Doe"
          },
          "updatedTime": {
            "type": "string",
            "description": "The date and time the waiting list was last updated",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "description": "The person who last made changes to the waiting list",
            "example": "Jane Doe"
          }
        },
        "description": "Describes a single waiting list application for a prisoner who is waiting to be allocated to an activity."
      },
      "AppointmentUpdateRequest": {
        "required": [
          "applyTo",
          "isPropertyUpdate"
        ],
        "type": "object",
        "properties": {
          "categoryCode": {
            "type": "string",
            "description": "\n    The updated NOMIS reference code. Must exist and be active.\n    ",
            "example": "GYMW"
          },
          "internalLocationId": {
            "type": "integer",
            "description": "\n    The updated NOMIS internal location id within the specified prison. This must be supplied if inCell is false.\n    The internal location id must exist, must be within the prison specified by the prisonCode property on the\n    appointment and be active. \n    ",
            "format": "int64",
            "example": 123
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment or appointments is in cell rather than an internal prison location.\n    Internal location id will be ignored if inCell is true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "\n    The updated date of the appointment. NOTE: this property specifies the start date to use along with the existing\n    schedule frequency to move all appointments that will take place after the appointment when used in conjunction\n    with the applyTo property\n    ",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The updated starting time",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The updated end time",
            "format": "partial-time",
            "example": "10:30"
          },
          "extraInformation": {
            "maxLength": 4000,
            "minLength": 0,
            "type": "string",
            "description": "\n    Updated extra information for the prisoner or prisoners attending the appointment or appointments.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "removePrisonerNumbers": {
            "type": "array",
            "description": "The prisoner or prisoners to remove from the appointment or appointments",
            "example": [
              "A1234BC"
            ],
            "items": {
              "type": "string",
              "description": "The prisoner or prisoners to remove from the appointment or appointments",
              "example": "[\"A1234BC\"]"
            }
          },
          "addPrisonerNumbers": {
            "type": "array",
            "description": "The new prisoner or prisoners that will be attending the appointment or appointments",
            "example": [
              "A1234BC"
            ],
            "items": {
              "type": "string",
              "description": "The new prisoner or prisoners that will be attending the appointment or appointments",
              "example": "[\"A1234BC\"]"
            }
          },
          "applyTo": {
            "type": "string",
            "description": "\n    Specifies which appointment or appointments this update should apply to.\n    Defaults to THIS_APPOINTMENT meaning the update will be applied to the appointment specified by the\n    supplied id only.\n    ",
            "example": "THIS_APPOINTMENT",
            "enum": [
              "THIS_APPOINTMENT",
              "THIS_AND_ALL_FUTURE_APPOINTMENTS",
              "ALL_FUTURE_APPOINTMENTS"
            ]
          },
          "isPropertyUpdate": {
            "type": "boolean"
          }
        },
        "description": "The update request with the new appointment details and how to apply the update"
      },
      "AllocationUpdateRequest": {
        "type": "object",
        "properties": {
          "startDate": {
            "type": "string",
            "description": "The date when the prisoner will start the activity",
            "format": "date",
            "example": "2022-09-10"
          },
          "endDate": {
            "type": "string",
            "description": "The date when the prisoner will stop attending the activity",
            "format": "date",
            "example": "2023-09-10"
          },
          "removeEndDate": {
            "type": "boolean",
            "description": "A flag to indicate that the allocation end date is to be removed",
            "example": true
          },
          "reasonCode": {
            "type": "string",
            "description": "The reason code for the deallocation",
            "example": "RELEASED",
            "enum": [
              "OTHER",
              "PERSONAL",
              "PROBLEM",
              "REMOVED",
              "SECURITY",
              "UNACCEPTABLE_ATTENDANCE",
              "UNACCEPTABLE_BEHAVIOUR",
              "WITHDRAWN"
            ]
          },
          "payBandId": {
            "type": "integer",
            "description": "Where a prison uses pay bands to differentiate earnings, this is the pay band given to this prisoner",
            "format": "int64"
          }
        },
        "description": "The update request with the new allocation details"
      },
      "ActivityUpdateRequest": {
        "required": [
          "removeEndDate"
        ],
        "type": "object",
        "properties": {
          "categoryId": {
            "type": "integer",
            "description": "The category id for this activity, one of the high-level categories",
            "format": "int64"
          },
          "tierId": {
            "type": "integer",
            "description": "The tier id for this activity, as defined by the Future Prison Regime team",
            "format": "int64",
            "example": 1
          },
          "summary": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "A brief summary description of this activity for use in forms and lists",
            "example": "Maths level 1"
          },
          "startDate": {
            "type": "string",
            "description": "The date on which this activity will start. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-12-23"
          },
          "endDate": {
            "type": "string",
            "description": "The date on which this activity ends. From this date, there will be no more planned instances of the activity. If null, the activity has no end date and will be scheduled indefinitely.",
            "format": "date",
            "example": "2022-12-23"
          },
          "minimumIncentiveNomisCode": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "The NOMIS code for the minimum incentive/earned privilege level for this activity",
            "example": "BAS"
          },
          "minimumIncentiveLevel": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The minimum incentive/earned privilege level for this activity",
            "example": "Basic"
          },
          "runsOnBankHoliday": {
            "type": "boolean",
            "description": "Whether the schedule runs on bank holidays",
            "example": true
          },
          "capacity": {
            "type": "integer",
            "description": "The maximum number of prisoners allowed for a scheduled instance of this schedule",
            "format": "int32",
            "example": 10
          },
          "riskLevel": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "The most recent risk assessment level for this activity",
            "example": "high"
          },
          "locationId": {
            "type": "integer",
            "description": "The optional NOMIS internal location id for this schedule",
            "format": "int64",
            "example": 98877667
          },
          "inCell": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is in cell",
            "example": false
          },
          "onWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is on wing",
            "example": false
          },
          "offWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is off wing and not in a listed location",
            "example": false
          },
          "attendanceRequired": {
            "type": "boolean",
            "description": "Flag to indicate if attendance is required for this activity, e.g. gym induction might not be mandatory attendance",
            "example": false
          },
          "minimumEducationLevel": {
            "type": "array",
            "description": "The list of minimum education levels that apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityMinimumEducationLevelCreateRequest"
            }
          },
          "pay": {
            "type": "array",
            "description": "The list of pay rates that can apply to this activity",
            "items": {
              "$ref": "#/components/schemas/ActivityPayCreateRequest"
            }
          },
          "scheduleWeeks": {
            "maximum": 2,
            "minimum": 1,
            "type": "integer",
            "description": "The number of weeks in the schedule",
            "format": "int32",
            "example": 1
          },
          "slots": {
            "type": "array",
            "description": "The days and times an activity schedule can take place",
            "items": {
              "$ref": "#/components/schemas/Slot"
            }
          },
          "removeEndDate": {
            "type": "boolean",
            "description": "A flag to indicate that the end date is to be removed",
            "example": true,
            "default": false
          }
        },
        "description": "The update request with the new activity details"
      },
      "AllocationReconciliationResponse": {
        "required": [
          "bookings",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string",
            "description": "The prison code",
            "example": "BXI"
          },
          "bookings": {
            "type": "array",
            "description": "A list of bookings and the number of active allocations for each",
            "example": "{ [ \"bookingId\": 12345, \"count\": 2 ] }",
            "items": {
              "$ref": "#/components/schemas/BookingCount"
            }
          }
        },
        "description": "A list of allocation counts for each booking in the prison"
      },
      "BookingCount": {
        "required": [
          "bookingId",
          "count"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "description": "The booking ID",
            "format": "int64",
            "example": 12345
          },
          "count": {
            "type": "integer",
            "description": "The count for the booking ID",
            "format": "int64",
            "example": 2
          }
        },
        "description": "The count for a booking ID",
        "example": "{ [ \"bookingId\": 12345, \"count\": 2 ] }"
      },
      "AttendanceSync": {
        "required": [
          "activityScheduleId",
          "attendanceId",
          "bookingId",
          "prisonerNumber",
          "scheduledInstanceId",
          "sessionDate",
          "sessionEndTime",
          "sessionStartTime",
          "status"
        ],
        "type": "object",
        "properties": {
          "attendanceId": {
            "type": "integer",
            "description": "The attendance primary key",
            "format": "int64",
            "example": 123456
          },
          "scheduledInstanceId": {
            "type": "integer",
            "description": "The scheduled instance primary key",
            "format": "int64",
            "example": 123456
          },
          "activityScheduleId": {
            "type": "integer",
            "description": "The activity schedule primary key",
            "format": "int64",
            "example": 123456
          },
          "sessionDate": {
            "type": "string",
            "description": "The scheduled instance date",
            "format": "date",
            "example": "2023-03-30"
          },
          "sessionStartTime": {
            "type": "string",
            "description": "The scheduled instance start time",
            "format": "partial-time",
            "example": "10:00"
          },
          "sessionEndTime": {
            "type": "string",
            "description": "The scheduled instance end time",
            "format": "partial-time",
            "example": "11:00"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The offender's unique identifier",
            "example": "A1234BC"
          },
          "bookingId": {
            "type": "integer",
            "description": "The offender booking primary key",
            "format": "int64",
            "example": 123456
          },
          "attendanceReasonCode": {
            "type": "string",
            "description": "The reason for attending or not"
          },
          "comment": {
            "type": "string",
            "description": "Free text to allow comments to be put against the attendance",
            "example": "Prisoner was too unwell to attend the activity."
          },
          "status": {
            "type": "string",
            "description": "WAITING, COMPLETED.",
            "example": "WAITING"
          },
          "payAmount": {
            "type": "integer",
            "description": "The amount in pence to pay the prisoner for the activity",
            "format": "int32",
            "example": 100
          },
          "bonusAmount": {
            "type": "integer",
            "description": "The bonus amount in pence to pay the prisoner for the activity",
            "format": "int32",
            "example": 50
          },
          "issuePayment": {
            "type": "boolean",
            "description": "Should payment be issued for SICK, REST or OTHER",
            "example": true
          }
        },
        "description": "\n  Represents the key data required to synchronise an attendance with Nomis \n  "
      },
      "ActivityPayLite": {
        "required": [
          "id",
          "incentiveLevel",
          "incentiveNomisCode",
          "prisonPayBandId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity pay",
            "format": "int64",
            "example": 123456
          },
          "incentiveNomisCode": {
            "type": "string",
            "description": "The NOMIS code for the incentive/earned privilege level",
            "example": "BAS"
          },
          "incentiveLevel": {
            "type": "string",
            "description": "The incentive/earned privilege level",
            "example": "Basic"
          },
          "prisonPayBandId": {
            "type": "integer",
            "description": "The pay band id for this activity pay",
            "format": "int64",
            "example": 123456
          },
          "rate": {
            "type": "integer",
            "description": "The earning rate for one half day session for someone of this incentive level and pay band (in pence)",
            "format": "int32",
            "example": 150
          },
          "pieceRate": {
            "type": "integer",
            "description": "Where payment is related to produced amounts of a product, this indicates the payment rate (in pence) per pieceRateItems produced",
            "format": "int32",
            "example": 150
          },
          "pieceRateItems": {
            "type": "integer",
            "description": "Where payment is related to the number of items produced in a batch of a product, this is the batch size that attract 1 x pieceRate",
            "format": "int32",
            "example": 10
          }
        },
        "description": "Describes a pay rate applied to an activity"
      },
      "AddressDto": {
        "required": [
          "noFixedAddress",
          "primary"
        ],
        "type": "object",
        "properties": {
          "primary": {
            "type": "boolean",
            "description": "Primary Address",
            "example": false
          },
          "noFixedAddress": {
            "type": "boolean",
            "description": "No Fixed Address",
            "example": false
          },
          "addressId": {
            "type": "integer",
            "description": "Address Id",
            "format": "int64",
            "example": 543524
          },
          "addressType": {
            "type": "string",
            "description": "Address Type. Note: Reference domain is ADDR_TYPE",
            "example": "BUS"
          },
          "flat": {
            "type": "string",
            "description": "Flat",
            "example": "3B"
          },
          "premise": {
            "type": "string",
            "description": "Premise",
            "example": "Liverpool Prison"
          },
          "street": {
            "type": "string",
            "description": "Street",
            "example": "Slinn Street"
          },
          "locality": {
            "type": "string",
            "description": "Locality",
            "example": "Brincliffe"
          },
          "town": {
            "type": "string",
            "description": "Town/City. Note: Reference domain is CITY",
            "example": "Liverpool"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal Code",
            "example": "LI1 5TH"
          },
          "county": {
            "type": "string",
            "description": "County. Note: Reference domain is COUNTY",
            "example": "HEREFORD"
          },
          "country": {
            "type": "string",
            "description": "Country. Note: Reference domain is COUNTRY",
            "example": "ENG"
          },
          "comment": {
            "type": "string",
            "description": "Comment",
            "example": "This is a comment text"
          },
          "startDate": {
            "type": "string",
            "description": "Date Added",
            "format": "date"
          },
          "endDate": {
            "type": "string",
            "description": "Date ended",
            "format": "date"
          },
          "phones": {
            "type": "array",
            "description": "The phone number associated with the address",
            "items": {
              "$ref": "#/components/schemas/Telephone"
            },
            "example": null
          },
          "addressUsages": {
            "type": "array",
            "description": "The address usages/types",
            "items": {
              "$ref": "#/components/schemas/AddressUsageDto"
            },
            "example": null
          }
        }
      },
      "AddressUsageDto": {
        "type": "object",
        "properties": {
          "addressId": {
            "type": "integer",
            "description": "Address ID of the associated address",
            "format": "int64",
            "example": 23422313
          },
          "addressUsage": {
            "type": "string",
            "description": "The address usages",
            "example": "HDC"
          },
          "addressUsageDescription": {
            "type": "string",
            "description": "The address usages description",
            "example": "HDC Address"
          },
          "activeFlag": {
            "type": "boolean",
            "description": "Active Flag",
            "example": true
          }
        },
        "description": "The address usages/types",
        "example": null
      },
      "AllocationPayRate": {
        "required": [
          "allocation"
        ],
        "type": "object",
        "properties": {
          "payRate": {
            "$ref": "#/components/schemas/ActivityPayLite"
          },
          "allocation": {
            "$ref": "#/components/schemas/Allocation"
          }
        },
        "description": "Allocation details with activity pay rate if applicable"
      },
      "AllocationSuitability": {
        "required": [
          "allocations"
        ],
        "type": "object",
        "properties": {
          "workplaceRiskAssessment": {
            "$ref": "#/components/schemas/WRASuitability"
          },
          "incentiveLevel": {
            "$ref": "#/components/schemas/IncentiveLevelSuitability"
          },
          "education": {
            "$ref": "#/components/schemas/EducationSuitability"
          },
          "releaseDate": {
            "$ref": "#/components/schemas/ReleaseDateSuitability"
          },
          "nonAssociation": {
            "$ref": "#/components/schemas/NonAssociationSuitability"
          },
          "allocations": {
            "type": "array",
            "description": "The prisoner's allocations with pay rates",
            "items": {
              "$ref": "#/components/schemas/AllocationPayRate"
            }
          }
        },
        "description": "Cross references prisoners details with activity requirements"
      },
      "Education": {
        "required": [
          "addresses",
          "bookingId",
          "comment",
          "educationLevel",
          "endDate",
          "graduationYear",
          "isSpecialEducation",
          "numberOfYears",
          "schedule",
          "school",
          "startDate",
          "studyArea"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int64"
          },
          "startDate": {
            "type": "string",
            "format": "date"
          },
          "endDate": {
            "type": "string",
            "format": "date"
          },
          "studyArea": {
            "type": "string"
          },
          "educationLevel": {
            "type": "string"
          },
          "numberOfYears": {
            "type": "integer",
            "format": "int32"
          },
          "graduationYear": {
            "type": "string"
          },
          "comment": {
            "type": "string"
          },
          "school": {
            "type": "string"
          },
          "isSpecialEducation": {
            "type": "boolean"
          },
          "schedule": {
            "type": "string"
          },
          "addresses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AddressDto"
            }
          }
        },
        "description": "The prisoner's education levels"
      },
      "EducationSuitability": {
        "required": [
          "education",
          "suitable"
        ],
        "type": "object",
        "properties": {
          "suitable": {
            "type": "boolean",
            "description": "The prisoner's suitability",
            "example": true
          },
          "education": {
            "type": "array",
            "description": "The prisoner's education levels",
            "items": {
              "$ref": "#/components/schemas/Education"
            }
          }
        },
        "description": "Prisoner workplace education suitability"
      },
      "IncentiveLevelSuitability": {
        "required": [
          "suitable"
        ],
        "type": "object",
        "properties": {
          "suitable": {
            "type": "boolean",
            "description": "The prisoner's suitability",
            "example": true
          },
          "incentiveLevel": {
            "type": "string",
            "description": "The prisoner's current incentive level",
            "example": "standard"
          }
        },
        "description": "Prisoner's incentive level suitability"
      },
      "NonAssociationDetails": {
        "required": [
          "effectiveDate",
          "offenderNonAssociation",
          "reasonCode",
          "reasonDescription",
          "typeCode",
          "typeDescription"
        ],
        "type": "object",
        "properties": {
          "reasonCode": {
            "type": "string",
            "description": "The non-association reason code",
            "example": "VIC"
          },
          "reasonDescription": {
            "type": "string",
            "description": "The non-association reason description",
            "example": "Victim"
          },
          "typeCode": {
            "type": "string",
            "description": "The non-association type code",
            "example": "WING"
          },
          "typeDescription": {
            "type": "string",
            "description": "The non-association type description",
            "example": "Do Not Locate on Same Wing"
          },
          "effectiveDate": {
            "type": "string",
            "description": "Date and time the mom-association is effective from. In Europe/London (ISO 8601) format without timezone offset e.g. YYYY-MM-DDTHH:MM:SS.",
            "format": "date-time"
          },
          "expiryDate": {
            "type": "string",
            "description": "Date and time the mom-association expires. In Europe/London (ISO 8601) format without timezone offset e.g. YYYY-MM-DDTHH:MM:SS.",
            "format": "date-time"
          },
          "offenderNonAssociation": {
            "$ref": "#/components/schemas/OffenderNonAssociation"
          },
          "authorisedBy": {
            "type": "string",
            "description": "The person who authorised the non-association (free text).",
            "example": "null"
          },
          "comments": {
            "type": "string",
            "description": "Additional free text comments related to the non-association.",
            "example": "null"
          }
        },
        "description": "Prisoner non-association details"
      },
      "NonAssociationSuitability": {
        "required": [
          "nonAssociations",
          "suitable"
        ],
        "type": "object",
        "properties": {
          "suitable": {
            "type": "boolean",
            "description": "The prisoner's suitability",
            "example": true
          },
          "nonAssociations": {
            "type": "array",
            "description": "The prisoner's non-associations",
            "items": {
              "$ref": "#/components/schemas/NonAssociationDetails"
            }
          }
        },
        "description": "Prisoner workplace risk assessment suitability"
      },
      "OffenderNonAssociation": {
        "required": [
          "agencyDescription",
          "assignedLivingUnitDescription",
          "assignedLivingUnitId",
          "firstName",
          "lastName",
          "offenderNo",
          "reasonCode",
          "reasonDescription"
        ],
        "type": "object",
        "properties": {
          "offenderNo": {
            "type": "string",
            "description": "The offenders number",
            "example": "G0135GA"
          },
          "firstName": {
            "type": "string",
            "description": "The offenders first name",
            "example": "Joseph"
          },
          "lastName": {
            "type": "string",
            "description": "The offenders last name",
            "example": "Bloggs"
          },
          "reasonCode": {
            "type": "string",
            "description": "The non-association reason code",
            "example": "PER"
          },
          "reasonDescription": {
            "type": "string",
            "description": "The non-association reason description",
            "example": "Perpetrator"
          },
          "agencyDescription": {
            "type": "string",
            "description": "Description of the agency (e.g. prison) the offender is assigned to.",
            "example": "Pentonville (PVI)"
          },
          "assignedLivingUnitDescription": {
            "type": "string",
            "description": "Description of living unit (e.g. cell) the offender is assigned to.",
            "example": "PVI-1-2-4"
          },
          "assignedLivingUnitId": {
            "type": "integer",
            "description": "Id of living unit (e.g. cell) the offender is assigned to.",
            "format": "int64",
            "example": 123
          }
        },
        "description": "Offender non-association details",
        "example": null
      },
      "ReleaseDateSuitability": {
        "required": [
          "earliestReleaseDate",
          "suitable"
        ],
        "type": "object",
        "properties": {
          "suitable": {
            "type": "boolean",
            "description": "The prisoner's suitability",
            "example": true
          },
          "earliestReleaseDate": {
            "$ref": "#/components/schemas/EarliestReleaseDate"
          }
        },
        "description": "Prisoner release date suitability"
      },
      "Telephone": {
        "required": [
          "number",
          "type"
        ],
        "type": "object",
        "properties": {
          "number": {
            "type": "string",
            "description": "Telephone number",
            "example": "0114 2345678"
          },
          "type": {
            "type": "string",
            "description": "Telephone type",
            "example": "TEL"
          },
          "phoneId": {
            "type": "integer",
            "description": "Phone Id",
            "format": "int64",
            "example": 2234232
          },
          "ext": {
            "type": "string",
            "description": "Telephone extension number",
            "example": "123"
          }
        },
        "description": "The phone number associated with the address",
        "example": null
      },
      "WRASuitability": {
        "required": [
          "riskLevel",
          "suitable"
        ],
        "type": "object",
        "properties": {
          "suitable": {
            "type": "boolean",
            "description": "The prisoner's suitability",
            "example": true
          },
          "riskLevel": {
            "type": "string",
            "description": "The prisoner's WRA level",
            "example": "medium"
          }
        },
        "description": "Prisoner workplace risk assessment suitability"
      },
      "ActivityCandidate": {
        "required": [
          "earliestReleaseDate",
          "name",
          "otherAllocations",
          "prisonerNumber"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The candidate's name",
            "example": "Joe Bloggs"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The candidate's prisoner number",
            "example": "GF10101"
          },
          "cellLocation": {
            "type": "string",
            "description": "The candidate's cell location",
            "example": "MDI-1-1-101"
          },
          "otherAllocations": {
            "type": "array",
            "description": "Any activities the candidate is currently allocated to (excluding ended)",
            "items": {
              "$ref": "#/components/schemas/Allocation"
            }
          },
          "earliestReleaseDate": {
            "$ref": "#/components/schemas/EarliestReleaseDate"
          }
        },
        "description": "Describes a candidate for allocation to an activity"
      },
      "PageActivityCandidate": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityCandidate"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "first": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "pageable": {
            "$ref": "#/components/schemas/PageableObject"
          },
          "last": {
            "type": "boolean"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PageableObject": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "format": "int64"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "paged": {
            "type": "boolean"
          },
          "unpaged": {
            "type": "boolean"
          }
        }
      },
      "SortObject": {
        "type": "object",
        "properties": {
          "empty": {
            "type": "boolean"
          },
          "sorted": {
            "type": "boolean"
          },
          "unsorted": {
            "type": "boolean"
          }
        }
      },
      "ActivityScheduleInstance": {
        "required": [
          "activitySchedule",
          "attendances",
          "cancelled",
          "date",
          "endTime",
          "id",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this scheduled instance",
            "format": "int64",
            "example": 123456
          },
          "date": {
            "type": "string",
            "description": "The specific date for this scheduled instance",
            "format": "date",
            "example": "2022-09-30"
          },
          "startTime": {
            "type": "string",
            "description": "The start time for this scheduled instance",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time for this scheduled instance",
            "format": "partial-time",
            "example": "10:00"
          },
          "cancelled": {
            "type": "boolean",
            "description": "Flag to indicate if this scheduled instance has been cancelled since being scheduled",
            "example": false
          },
          "cancelledTime": {
            "type": "string",
            "description": "Date and time this scheduled instance was cancelled (or null if not cancelled)",
            "format": "date-time"
          },
          "cancelledBy": {
            "type": "string",
            "description": "The person who cancelled this scheduled instance (or null if not cancelled)",
            "example": "Adam Smith"
          },
          "cancelledReason": {
            "type": "string",
            "description": "The reason this scheduled instance was cancelled",
            "example": "Staff unavailable"
          },
          "comment": {
            "type": "string",
            "description": "Comment on cancelling",
            "example": "Teacher unavailable"
          },
          "previousScheduledInstanceId": {
            "type": "integer",
            "description": "The id for the previous scheduled instance",
            "format": "int64",
            "example": 123456
          },
          "previousScheduledInstanceDate": {
            "type": "string",
            "description": "The date for the previous scheduled instance",
            "format": "date",
            "example": "2022-09-30"
          },
          "nextScheduledInstanceId": {
            "type": "integer",
            "description": "The id for the next scheduled instance",
            "format": "int64",
            "example": 123456
          },
          "nextScheduledInstanceDate": {
            "type": "string",
            "description": "The date for the next scheduled instance",
            "format": "date",
            "example": "2022-09-30"
          },
          "attendances": {
            "type": "array",
            "description": "The list of attendees",
            "items": {
              "$ref": "#/components/schemas/Attendance"
            }
          },
          "activitySchedule": {
            "$ref": "#/components/schemas/ActivityScheduleLite"
          }
        },
        "description": "Describes one instance of an activity schedule"
      },
      "ActivityScheduleLite": {
        "required": [
          "activity",
          "capacity",
          "description",
          "id",
          "scheduleWeeks",
          "slots",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity schedule",
            "format": "int64",
            "example": 123456
          },
          "description": {
            "type": "string",
            "description": "The description of this activity schedule",
            "example": "Monday AM Houseblock 3"
          },
          "internalLocation": {
            "$ref": "#/components/schemas/InternalLocation"
          },
          "capacity": {
            "type": "integer",
            "description": "The maximum number of prisoners allowed for a scheduled instance of this schedule",
            "format": "int32",
            "example": 10
          },
          "activity": {
            "$ref": "#/components/schemas/ActivityLite"
          },
          "scheduleWeeks": {
            "type": "integer",
            "description": "The number of weeks in the schedule",
            "format": "int32",
            "example": 1
          },
          "slots": {
            "type": "array",
            "description": "The slots associated with this activity schedule",
            "items": {
              "$ref": "#/components/schemas/ActivityScheduleSlot"
            }
          },
          "startDate": {
            "type": "string",
            "description": "The date on which this schedule will start. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-09-21"
          },
          "endDate": {
            "type": "string",
            "description": "The date on which this schedule will end. From this date, any schedules will be created as real, planned instances",
            "format": "date",
            "example": "2022-10-21"
          }
        },
        "description": "\n  Describes the weekly schedule for an activity. There can be several of these defined for one activity.\n  An activity schedule describes when, during the week, an activity will be run and where.\n  e.g. Tuesday PM and Thursday AM - suitable for Houseblock 2 to attend.\n  e.g. Monday AM and Thursday PM - suitable for Houseblock 3 to attend.\n  this 'lite' version of ActivitySchedule does not have allocated or instances.\n  "
      },
      "AttendanceSummaryDetails": {
        "required": [
          "allocations"
        ],
        "type": "object",
        "properties": {
          "allocations": {
            "type": "integer",
            "description": "The number of prisoners allocated to this scheduled instance",
            "format": "int64",
            "example": 5
          },
          "attendees": {
            "type": "integer",
            "description": "The number of attendees for this scheduled instance",
            "format": "int64",
            "example": 5
          },
          "notRecorded": {
            "type": "integer",
            "description": "The number of attendance records not recorded",
            "format": "int64",
            "example": 2
          },
          "attended": {
            "type": "integer",
            "description": "The number of attendance recorded marked as attended",
            "format": "int64",
            "example": 2
          },
          "absences": {
            "type": "integer",
            "description": "The number of attendance recorded marked as absence",
            "format": "int64",
            "example": 1
          },
          "paid": {
            "type": "integer",
            "description": "The number of attendance recorded marked as paid",
            "format": "int64",
            "example": 2
          }
        },
        "description": "Attendance summary details"
      },
      "ScheduledInstanceAttendanceSummary": {
        "required": [
          "activityId",
          "activityScheduleId",
          "attendanceSummary",
          "cancelled",
          "categoryId",
          "endTime",
          "inCell",
          "offWing",
          "onWing",
          "scheduledInstanceId",
          "sessionDate",
          "startTime",
          "summary"
        ],
        "type": "object",
        "properties": {
          "scheduledInstanceId": {
            "type": "integer",
            "description": "The id of the scheduled instance",
            "format": "int64",
            "example": 10
          },
          "activityId": {
            "type": "integer",
            "description": "The id of the activity",
            "format": "int64",
            "example": 1
          },
          "activityScheduleId": {
            "type": "integer",
            "description": "The id of the activity schedule",
            "format": "int64",
            "example": 2
          },
          "summary": {
            "type": "string",
            "description": "Summary of the activity",
            "example": "Maths 1"
          },
          "categoryId": {
            "type": "integer",
            "description": "Category id of the activity",
            "format": "int64",
            "example": 2
          },
          "sessionDate": {
            "type": "string",
            "description": "The date of the scheduled instance",
            "format": "date",
            "example": "2023-03-30"
          },
          "startTime": {
            "type": "string",
            "description": "The start time of the scheduled instance",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the scheduled instance",
            "format": "partial-time",
            "example": "12:00"
          },
          "inCell": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is in cell",
            "example": false
          },
          "onWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is on wing",
            "example": false
          },
          "offWing": {
            "type": "boolean",
            "description": "Flag to indicate if the location of the activity is off wing and not in a listed location",
            "example": false
          },
          "internalLocation": {
            "$ref": "#/components/schemas/InternalLocation"
          },
          "cancelled": {
            "type": "boolean",
            "description": "Flag to indicate if the scheduled instance has been cancelled",
            "example": false
          },
          "attendanceSummary": {
            "$ref": "#/components/schemas/AttendanceSummaryDetails"
          }
        },
        "description": "An overview of attendance details for scheduled instances"
      },
      "RolloutPrisonPlan": {
        "required": [
          "activitiesRolledOut",
          "appointmentsRolledOut",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string",
            "description": "The prison code of the requested prison",
            "example": "PVI"
          },
          "activitiesRolledOut": {
            "type": "boolean",
            "description": "Flag to indicate if this prison is presently rolled out for activities",
            "example": true
          },
          "activitiesRolloutDate": {
            "type": "string",
            "description": "The date activities rolled out. Can be null if the prison is not yet scheduled for rollout.",
            "format": "date",
            "example": "2022-09-30"
          },
          "appointmentsRolledOut": {
            "type": "boolean",
            "description": "Flag to indicate if this prison is presently rolled out for appointments",
            "example": true
          },
          "appointmentsRolloutDate": {
            "type": "string",
            "description": "The date appointments rolled out. Can be null if the prison is not yet scheduled for rollout.",
            "format": "date",
            "example": "2022-09-30"
          }
        },
        "description": "Describes the rollout plan of a prison which may or may not be rolled out"
      },
      "GetDlqResult": {
        "required": [
          "messages",
          "messagesFoundCount",
          "messagesReturnedCount"
        ],
        "type": "object",
        "properties": {
          "messagesFoundCount": {
            "type": "integer",
            "format": "int32"
          },
          "messagesReturnedCount": {
            "type": "integer",
            "format": "int32"
          },
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DlqMessage"
            }
          }
        }
      },
      "ActivitySummary": {
        "required": [
          "activityState",
          "allocated",
          "capacity",
          "category",
          "createdTime",
          "id",
          "waitlisted"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this activity",
            "format": "int64",
            "example": 123456
          },
          "activityName": {
            "type": "string",
            "description": "The name of the activity",
            "example": "Maths level 1"
          },
          "category": {
            "$ref": "#/components/schemas/ActivityCategory"
          },
          "capacity": {
            "type": "integer",
            "description": "The capacity of the activity",
            "format": "int32"
          },
          "allocated": {
            "type": "integer",
            "description": "The number of prisoners currently allocated to the activity",
            "format": "int32"
          },
          "waitlisted": {
            "type": "integer",
            "description": "The number of prisoners currently currently on the waitlist for the activity",
            "format": "int32"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time when this activity was created",
            "format": "date-time"
          },
          "activityState": {
            "type": "string",
            "description": "Whether the activity is live or archived",
            "example": "LIVE",
            "enum": [
              "ARCHIVED",
              "LIVE"
            ]
          }
        },
        "description": "Summarises an activity"
      },
      "PrisonRegime": {
        "required": [
          "amFinish",
          "amStart",
          "edFinish",
          "edStart",
          "id",
          "pmFinish",
          "pmStart",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally-generated ID for this prison regime",
            "format": "int64",
            "example": 123456
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "MDI"
          },
          "amStart": {
            "type": "string",
            "description": "The start time for the am slot",
            "format": "partial-time",
            "example": "09:00"
          },
          "amFinish": {
            "type": "string",
            "description": "The end time for the am slot",
            "format": "partial-time",
            "example": "12:00"
          },
          "pmStart": {
            "type": "string",
            "description": "The start time for the pm slot",
            "format": "partial-time",
            "example": "13:00"
          },
          "pmFinish": {
            "type": "string",
            "description": "The end time for the pm slot",
            "format": "partial-time",
            "example": "16:30"
          },
          "edStart": {
            "type": "string",
            "description": "The start time for the ed slot",
            "format": "partial-time",
            "example": "18:00"
          },
          "edFinish": {
            "type": "string",
            "description": "The end time for the ed slot",
            "format": "partial-time",
            "example": "20:00"
          }
        },
        "description": "Describes a top-level activity"
      },
      "Location": {
        "required": [
          "agencyId",
          "description",
          "locationId",
          "locationType"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "type": "integer",
            "description": "Location identifier.",
            "format": "int64"
          },
          "locationType": {
            "type": "string",
            "description": "Location type.",
            "example": "null"
          },
          "description": {
            "type": "string",
            "description": "Location description.",
            "example": "null"
          },
          "agencyId": {
            "type": "string",
            "description": "Identifier of Agency this location is associated with.",
            "example": "null"
          },
          "locationUsage": {
            "type": "string",
            "description": "What events this room can be used for.",
            "example": "null"
          },
          "parentLocationId": {
            "type": "integer",
            "description": "Identifier of this location's parent location.",
            "format": "int64"
          },
          "currentOccupancy": {
            "type": "integer",
            "description": "Current occupancy of location.",
            "format": "int32"
          },
          "locationPrefix": {
            "type": "string",
            "description": "Location prefix. Defines search prefix that will constrain search to this location and its subordinate locations.",
            "example": "null"
          },
          "operationalCapacity": {
            "type": "integer",
            "description": "Operational capacity of the location.",
            "format": "int32"
          },
          "userDescription": {
            "type": "string",
            "description": "User-friendly location description.",
            "example": "null"
          },
          "internalLocationCode": {
            "type": "string",
            "example": "null"
          }
        }
      },
      "LocationPrefixDto": {
        "required": [
          "locationPrefix"
        ],
        "type": "object",
        "properties": {
          "locationPrefix": {
            "type": "string",
            "description": "Location prefix translated from group name",
            "example": "MDI-1-"
          }
        },
        "description": "Location prefix response"
      },
      "LocationGroup": {
        "required": [
          "children",
          "key",
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the group",
            "example": "null"
          },
          "key": {
            "type": "string",
            "description": "A key for the group",
            "example": "null"
          },
          "children": {
            "type": "array",
            "description": "The child groups of this group",
            "items": {
              "$ref": "#/components/schemas/LocationGroup"
            },
            "example": null
          }
        }
      },
      "InternalLocationEventsSummary": {
        "required": [
          "code",
          "description",
          "id",
          "prisonCode"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "\n    The id of the internal location. Mapped from AGENCY_INTERNAL_LOCATIONS.INTERNAL_LOCATION_ID in NOMIS.\n    ",
            "format": "int64",
            "example": 27723
          },
          "prisonCode": {
            "type": "string",
            "description": "\n    The prison code/agency id of the internal location. Mapped from AGENCY_LOCATIONS.AGY_LOC_ID in NOMIS.\n    ",
            "example": "SKI"
          },
          "code": {
            "type": "string",
            "description": "The code of the internal location. Mapped from AGENCY_INTERNAL_LOCATIONS.DESCRIPTION",
            "example": "EDUC-ED1-ED1"
          },
          "description": {
            "type": "string",
            "description": "The description of the internal location. Mapped from AGENCY_INTERNAL_LOCATIONS.USER_DESC",
            "example": "Education 1"
          }
        },
        "description": "\n  The summary of an internal location that has events scheduled to take place there. Supports movement lists.\n  Will contain additional summary information about the events taking place at the location as well as the total\n  number of prisoners due to arrive at the location.\n  The system of record for internal locations is NOMIS and they are managed in that application.\n  "
      },
      "EventReview": {
        "required": [
          "eventReviewId"
        ],
        "type": "object",
        "properties": {
          "eventReviewId": {
            "type": "integer",
            "description": "The internally-generated ID for this event",
            "format": "int64",
            "example": 123456
          },
          "serviceIdentifier": {
            "type": "string",
            "description": "Describes the service which generated this event",
            "example": "prisoner-offender-search"
          },
          "eventType": {
            "type": "string",
            "description": "The internal name for the event",
            "example": "prisoner-offender-events.prisoner.cell-move"
          },
          "eventTime": {
            "type": "string",
            "description": "The date and time that this event occurred",
            "format": "date-time"
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code where this event took place",
            "example": "MDI"
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number which this event relates to",
            "example": "G1234FF"
          },
          "bookingId": {
            "type": "integer",
            "description": "The booking ID related to this prisoner",
            "format": "int32",
            "example": 123456
          },
          "eventData": {
            "type": "string",
            "description": "The description of the event that occurred",
            "example": "The prisoner was moved to a different cell."
          },
          "acknowledgedTime": {
            "type": "string",
            "description": "The date and time that this event was acknowledged.",
            "format": "date-time"
          },
          "acknowledgedBy": {
            "type": "string",
            "description": "The username of the person who acknowledged the event.",
            "example": "U4588F"
          }
        },
        "description": "Describes one event that has occurred to indicate a change of circumstance"
      },
      "EventReviewSearchResults": {
        "required": [
          "content",
          "pageNumber",
          "totalElements",
          "totalPages"
        ],
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "description": "The matching records",
            "items": {
              "$ref": "#/components/schemas/EventReview"
            }
          },
          "pageNumber": {
            "type": "integer",
            "description": "The current page number",
            "format": "int32",
            "example": 1
          },
          "totalElements": {
            "type": "integer",
            "description": "The total number of elements",
            "format": "int64",
            "example": 20
          },
          "totalPages": {
            "type": "integer",
            "description": "The total number of pages",
            "format": "int32",
            "example": 5
          }
        },
        "description": "The result of an event review search"
      },
      "AllAttendance": {
        "required": [
          "activityId",
          "activitySummary",
          "attendanceId",
          "categoryName",
          "prisonCode",
          "prisonerNumber",
          "scheduledInstanceId",
          "sessionDate",
          "status",
          "timeSlot"
        ],
        "type": "object",
        "properties": {
          "attendanceId": {
            "type": "integer",
            "description": "The attendance primary key",
            "format": "int64",
            "example": 123456
          },
          "prisonCode": {
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "PVI"
          },
          "sessionDate": {
            "type": "string",
            "description": "The date of the session for which attendance may have been marked or a planned absence recorded",
            "format": "date",
            "example": "2023-03-30"
          },
          "timeSlot": {
            "type": "string",
            "description": "AM, PM, ED.",
            "example": "AM"
          },
          "status": {
            "type": "string",
            "description": "WAITING, COMPLETED.",
            "example": "WAITING"
          },
          "attendanceReasonCode": {
            "type": "string",
            "description": "The reason for attending or not"
          },
          "issuePayment": {
            "type": "boolean",
            "description": "Should payment be issued for SICK, REST or OTHER",
            "example": true
          },
          "prisonerNumber": {
            "type": "string",
            "description": "The prisoner number for this attendance record",
            "example": "A1234AA"
          },
          "scheduledInstanceId": {
            "type": "integer",
            "description": "The id of the particular session instance for this attendance record",
            "format": "int64",
            "example": 1
          },
          "activityId": {
            "type": "integer",
            "description": "The id of the activity for this attendance record",
            "format": "int64",
            "example": 1
          },
          "activitySummary": {
            "type": "string",
            "description": "The title of the activity for this attendance record",
            "example": "Math Level 1"
          },
          "categoryName": {
            "type": "string",
            "description": "The name of the activity category for this attendance record",
            "example": "Education"
          },
          "recordedTime": {
            "type": "string",
            "description": "The date and time the attendance was updated",
            "format": "date-time"
          }
        },
        "description": "\n  Represents the key data required to report on attendance \n  "
      },
      "AppointmentAttendeeSummary": {
        "required": [
          "id",
          "prisoner"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "\n    The internally generated identifier for this prisoner attending a specific appointment in an appointment series or set.\n    N.B. this is used as the appointment instance id due to there being a one to one relationship between an appointment\n    attendee and appointment instances.\n    ",
            "format": "int64",
            "example": 123456
          },
          "prisoner": {
            "$ref": "#/components/schemas/PrisonerSummary"
          },
          "attended": {
            "type": "boolean",
            "description": "\n    Specifies whether the prisoner attended the specific appointment in an appointment series or set.\n    A null value means that the prisoner's attendance has not been recorded yet. \n    "
          }
        },
        "description": "\n  Described on the UI as an \"Attendee\". A prisoner attending a specific appointment in an appointment series or set.\n  Contains the limited summary information needed to display the prisoner information and whether they attended or not.\n  "
      },
      "AppointmentDetails": {
        "required": [
          "appointmentName",
          "appointmentType",
          "attendees",
          "category",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "isCancelled",
          "isEdited",
          "isExpired",
          "prisonCode",
          "sequenceNumber",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment",
            "format": "int64",
            "example": 123456
          },
          "appointmentSeries": {
            "$ref": "#/components/schemas/AppointmentSeriesSummary"
          },
          "appointmentSet": {
            "$ref": "#/components/schemas/AppointmentSetSummary"
          },
          "appointmentType": {
            "type": "string",
            "description": "The appointment type (INDIVIDUAL or GROUP)",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "sequenceNumber": {
            "type": "integer",
            "description": "The sequence number of this appointment within the appointment series",
            "format": "int32",
            "example": 3
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "appointmentName": {
            "type": "string",
            "description": "\n    The appointment's name combining the optional custom name with the category description. If custom name has been\n    specified, the name format will be \"Custom name (Category description)\" \n    "
          },
          "attendees": {
            "type": "array",
            "description": "\n    Summary of the prisoner or prisoners attending this appointment and their attendance record if any.\n    Attendees are at the appointment level to allow for per appointment attendee changes.\n    ",
            "items": {
              "$ref": "#/components/schemas/AppointmentAttendeeSummary"
            }
          },
          "category": {
            "$ref": "#/components/schemas/AppointmentCategorySummary"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocation": {
            "$ref": "#/components/schemas/AppointmentLocationSummary"
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment is in cell rather than an internal prison location.\n    Internal location will be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date this appointment is taking place on",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of this appointment",
            "format": "partial-time",
            "example": "13:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of this appointment",
            "format": "partial-time",
            "example": "13:30"
          },
          "isExpired": {
            "type": "boolean",
            "description": "\n    Indicates that this appointment has expired i.e. it's start date and time is in the past\n    ",
            "example": false
          },
          "extraInformation": {
            "type": "string",
            "description": "\n    Extra information for the prisoner or prisoners attending this appointment.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "$ref": "#/components/schemas/UserSummary"
          },
          "isEdited": {
            "type": "boolean",
            "description": "\n    Indicates that this appointment has been independently changed from the original state it was in when\n    it was created as part of an appointment series\n    ",
            "example": false
          },
          "updatedTime": {
            "type": "string",
            "description": "\n    The date and time this appointment was last changed.\n    Will be null if this appointment has not been altered since it was created\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "$ref": "#/components/schemas/UserSummary"
          },
          "isCancelled": {
            "type": "boolean",
            "description": "\n    Indicates that this appointment has been cancelled\n    ",
            "example": false
          },
          "cancelledTime": {
            "type": "string",
            "description": "\n    The date and time this appointment was cancelled.\n    Will be null if this appointment has not been cancelled\n    ",
            "format": "date-time"
          },
          "cancelledBy": {
            "$ref": "#/components/schemas/UserSummary"
          }
        },
        "description": "\n  Described on the UI as an \"Appointment\" and represents the scheduled event on a specific date and time.\n  Contains the full details of all the appointment properties and the summary collection of prisoners attending this appointment.\n  An appointment is part of either a series of an appointments on a schedule or a set of appointments on the same day.\n  The summary information of which appointment collection they are part of is included in these details.\n  All updates and cancellations happen at this appointment level with the parent appointment series being immutable.\n  "
      },
      "AppointmentSeriesSummary": {
        "required": [
          "appointmentCount",
          "id",
          "scheduledAppointmentCount"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment series",
            "format": "int64",
            "example": 12345
          },
          "schedule": {
            "$ref": "#/components/schemas/AppointmentSeriesSchedule"
          },
          "appointmentCount": {
            "type": "integer",
            "description": "\n    The total count of appointments in the series that have not been deleted. Counts both appointments in the past and\n    those scheduled.\n    ",
            "format": "int32"
          },
          "scheduledAppointmentCount": {
            "type": "integer",
            "description": "\n    The count of the remaining scheduled appointments in the series that have not been cancelled or deleted.\n    ",
            "format": "int32"
          }
        },
        "description": "\n  Described on the UI as an \"Appointment series\" and only shown for repeat appointments.\n  The top level of the standard appointment hierarchy containing summary information of a limited set of the initial\n  property values common to all appointments in the series as well as the count of appointments in the series.\n  The properties at this level cannot be changed via the API however the child appointment property values can be changed\n  independently to support rescheduling, cancelling and altered attendee lists per appointment.\n  N.B. there is no collection of attending prisoners at this top level as all attendees are per appointment. This is to\n  support attendee modification for each scheduled appointment and to prevent altering the past by editing attendees\n  in an appointment series where some appointments have past.\n  "
      },
      "AppointmentSetSummary": {
        "required": [
          "appointmentCount",
          "id",
          "scheduledAppointmentCount"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment set",
            "format": "int64",
            "example": 12345
          },
          "appointmentCount": {
            "type": "integer",
            "description": "\n    The number of appointments in the set that have not been deleted. Counts both appointments in the past and\n    those scheduled.\n    ",
            "format": "int32",
            "example": 3
          },
          "scheduledAppointmentCount": {
            "type": "integer",
            "description": "\n    The count of the remaining scheduled appointments in the set that have not been cancelled or deleted.\n    ",
            "format": "int32"
          }
        },
        "description": "\n  Described on the UI as an \"Appointment set\" or \"set of back-to-back appointments\".\n  Contains the limited summary information needed to display the fact that an appointment was created as part of a set.\n  "
      },
      "PrisonerSummary": {
        "required": [
          "bookingId",
          "cellLocation",
          "firstName",
          "lastName",
          "prisonCode",
          "prisonerNumber"
        ],
        "type": "object",
        "properties": {
          "prisonerNumber": {
            "type": "string",
            "description": "The NOMIS OFFENDERS.OFFENDER_ID_DISPLAY value for mapping to a prisoner record in NOMIS",
            "example": "A1234BC"
          },
          "bookingId": {
            "type": "integer",
            "description": "The NOMIS OFFENDER_BOOKINGS.OFFENDER_BOOK_ID value for mapping to a prisoner booking record in NOMIS",
            "format": "int64",
            "example": 456
          },
          "firstName": {
            "type": "string",
            "description": "The prisoner's first name",
            "example": "Albert"
          },
          "lastName": {
            "type": "string",
            "description": "The prisoner's first name",
            "example": "Abbot"
          },
          "prisonCode": {
            "type": "string",
            "description": "\n    The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS.\n    ",
            "example": "SKI"
          },
          "cellLocation": {
            "type": "string",
            "description": "\n    The prisoner's residential cell location when inside the prison.\n    ",
            "example": "A-1-002"
          }
        },
        "description": "Summary of the prisoner attending the appointment"
      },
      "UserSummary": {
        "required": [
          "firstName",
          "id",
          "lastName",
          "username"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The NOMIS STAFF_MEMBERS.STAFF_ID value for mapping to NOMIS.",
            "format": "int64",
            "example": 36
          },
          "username": {
            "type": "string",
            "description": "The NOMIS STAFF_USER_ACCOUNTS.USERNAME value for mapping to NOMIS",
            "example": "AAA01U"
          },
          "firstName": {
            "type": "string",
            "description": "The user's first name",
            "example": "Alice"
          },
          "lastName": {
            "type": "string",
            "description": "The user's last name",
            "example": "Akbar"
          }
        },
        "description": "\n    The summary of the user that last edited one or more appointments in this series.\n    Will be null if no appointments in the series have been altered since they were created\n    "
      },
      "AppointmentSetDetails": {
        "required": [
          "appointmentName",
          "appointments",
          "category",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "prisonCode",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment set",
            "format": "int64",
            "example": 12345
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "appointmentName": {
            "type": "string",
            "description": "\n    The appointment set's name combining the optional custom name with the category description. If custom name has been\n    specified, the name format will be \"Custom name (Category description)\" \n    "
          },
          "category": {
            "$ref": "#/components/schemas/AppointmentCategorySummary"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment set. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocation": {
            "$ref": "#/components/schemas/AppointmentLocationSummary"
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment series in the set is in cell rather than an internal prison location.\n    Internal location id should be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date of the first appointment in each appointment series in the set",
            "format": "date"
          },
          "appointments": {
            "type": "array",
            "description": "The details of all the appointments in the the set",
            "items": {
              "$ref": "#/components/schemas/AppointmentDetails"
            }
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment set was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "$ref": "#/components/schemas/UserSummary"
          },
          "updatedTime": {
            "type": "string",
            "description": "\n    The date and time one or more appointments in this set was last changed.\n    Will be null if no appointments in the set have been altered since they were created\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "$ref": "#/components/schemas/UserSummary"
          }
        },
        "description": "\n  Described on the UI as an \"Appointment set\" or \"set of back-to-back appointments\".\n  Contains the full details of the initial property values common to all appointments in the set for display purposes.\n  The properties at this level cannot be changed via the API.\n  "
      },
      "AppointmentSeriesDetails": {
        "required": [
          "appointmentName",
          "appointmentType",
          "appointments",
          "category",
          "createdBy",
          "createdTime",
          "id",
          "inCell",
          "prisonCode",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment series",
            "format": "int64",
            "example": 12345
          },
          "appointmentType": {
            "type": "string",
            "description": "The appointment type (INDIVIDUAL or GROUP)",
            "example": "INDIVIDUAL",
            "enum": [
              "INDIVIDUAL",
              "GROUP"
            ]
          },
          "prisonCode": {
            "type": "string",
            "description": "The NOMIS AGENCY_LOCATIONS.AGY_LOC_ID value for mapping to NOMIS",
            "example": "SKI"
          },
          "appointmentName": {
            "type": "string",
            "description": "\n    The appointment series' name combining the optional custom name with the category description. If custom name has been\n    specified, the name format will be \"Custom name (Category description)\" \n    "
          },
          "category": {
            "$ref": "#/components/schemas/AppointmentCategorySummary"
          },
          "customName": {
            "type": "string",
            "description": "\n    Free text name further describing the appointment series. Used as part of the appointment name with the\n    format \"Custom name (Category description) if specified.\n    ",
            "example": "Meeting with the governor"
          },
          "internalLocation": {
            "$ref": "#/components/schemas/AppointmentLocationSummary"
          },
          "inCell": {
            "type": "boolean",
            "description": "\n    Flag to indicate if the location of the appointment series is in cell rather than an internal prison location.\n    Internal location id should be null if in cell = true\n    ",
            "example": false
          },
          "startDate": {
            "type": "string",
            "description": "The date of the first appointment in the series",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of the appointment or appointments in the series",
            "format": "partial-time",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of the appointment or appointments in the series",
            "format": "partial-time",
            "example": "10:30"
          },
          "schedule": {
            "$ref": "#/components/schemas/AppointmentSeriesSchedule"
          },
          "extraInformation": {
            "type": "string",
            "description": "\n    Extra information for the prisoner or prisoners attending the appointment or appointments in the series.\n    Shown only on the appointments details page and on printed movement slips. Wing staff will be notified there is\n    extra information via the unlock list.\n    ",
            "example": "This appointment will help adjusting to life outside of prison"
          },
          "createdTime": {
            "type": "string",
            "description": "The date and time this appointment series was created. Will not change",
            "format": "date-time"
          },
          "createdBy": {
            "$ref": "#/components/schemas/UserSummary"
          },
          "updatedTime": {
            "type": "string",
            "description": "\n    The date and time one or more appointments in this series was last changed.\n    Will be null if no appointments in the series have been altered since they were created\n    ",
            "format": "date-time"
          },
          "updatedBy": {
            "$ref": "#/components/schemas/UserSummary"
          },
          "appointments": {
            "type": "array",
            "description": "\n    Summary of the individual appointment or appointments in this series both expired and scheduled.\n    Non recurring appointment series will have a single appointment containing the same property values as the parent\n    appointment series. The same start date, time and end time. Recurring appointment series will have one or more\n    appointments. The first in the series will also contain the same property values as the parent appointment series\n    and subsequent appointments will have start dates following on from the original start date incremented as specified\n    by the series' schedule. Each appointment can be edited independently of the parent. All properties of an\n    appointment are separate to those of the parent appointment series.\n    The full series of appointments specified by the schedule will have been created in advance.\n    ",
            "items": {
              "$ref": "#/components/schemas/AppointmentSummary"
            }
          }
        },
        "description": "\n  Described on the UI as an \"Appointment series\" and only shown for repeat appointments.\n  The top level of the standard appointment hierarchy containing full details of the initial property values common to\n  all appointments in the series for display purposes.\n  Contains the summary collection of all the child appointments in the series plus the schedule definition if the\n  appointment series repeats.\n  The properties at this level cannot be changed via the API however the child appointment property values can be changed\n  independently to support rescheduling, cancelling and altered attendee lists per appointment.\n  N.B. there is no collection of attending prisoners at this top level as all attendees are per appointment. This is to\n  support attendee modification for each scheduled appointment and to prevent altering the past by editing attendees\n  in an appointment series where some appointments have past.\n  "
      },
      "AppointmentSummary": {
        "required": [
          "id",
          "isCancelled",
          "isEdited",
          "sequenceNumber",
          "startDate",
          "startTime"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The internally generated identifier for this appointment",
            "format": "int64",
            "example": 123456
          },
          "sequenceNumber": {
            "type": "integer",
            "description": "The sequence number of this appointment within the appointment series",
            "format": "int32",
            "example": 3
          },
          "startDate": {
            "type": "string",
            "description": "The date this appointment is taking place on",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "description": "The starting time of this appointment",
            "format": "partial-time",
            "example": "13:00"
          },
          "endTime": {
            "type": "string",
            "description": "The end time of this appointment",
            "format": "partial-time",
            "example": "13:30"
          },
          "isEdited": {
            "type": "boolean",
            "description": "\n    Indicates that this appointment has been independently changed from the original state it was in when\n    it was created as part of an appointment series\n    ",
            "example": false
          },
          "isCancelled": {
            "type": "boolean",
            "description": "\n    Indicates that this appointment has been cancelled\n    ",
            "example": false
          }
        },
        "description": "\n  Described on the UI as an \"Appointment\" and represents the scheduled event on a specific date and time.\n  Contains the summary information of a limited set the appointment properties. N.B. does not contain \n  information on the prisoners attending this appointment to improve API performance.\n  All updates and cancellations happen at this appointment level with the parent appointment series or set being immutable.\n  "
      },
      "ActivityBasic": {
        "required": [
          "activityId",
          "activityScheduleId",
          "categoryCode",
          "categoryId",
          "categoryName",
          "prisonCode",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "prisonCode": {
            "type": "string",
            "description": "The prison code where this activity takes place",
            "example": "PVI"
          },
          "activityId": {
            "type": "integer",
            "description": "The internally-generated ID for this activity",
            "format": "int64",
            "example": 123456
          },
          "activityScheduleId": {
            "type": "integer",
            "description": "The internally-generated ID for this activity schedule (assumes 1-2-1 with activity)",
            "format": "int64",
            "example": 7654321
          },
          "summary": {
            "type": "string",
            "description": "A brief summary description of this activity for use in forms and lists",
            "example": "Maths level 1"
          },
          "startDate": {
            "type": "string",
            "description": "The start date for this activity",
            "format": "date",
            "example": "2023-10-11"
          },
          "endDate": {
            "type": "string",
            "description": "The end date for this activity (can be null)",
            "format": "date",
            "example": "2024-12-01"
          },
          "categoryId": {
            "type": "integer",
            "description": "The internally generated category ID associated with this activity",
            "format": "int64",
            "example": 1
          },
          "categoryCode": {
            "type": "string",
            "description": "The category code that matches NOMIS program service code for this activity category",
            "example": "SAA-EDUCATION"
          },
          "categoryName": {
            "type": "string",
            "description": "The category name",
            "example": "Education"
          }
        },
        "description": "A basic activity, schedule and category for use where limited IDs only are required"
      }
    },
    "securitySchemes": {
      "bearer-jwt": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
